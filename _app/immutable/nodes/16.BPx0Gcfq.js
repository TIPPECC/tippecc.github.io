import{s as ge,T as fe,U as ue,b as w,f as _,m as u,i as N,h as f,n as j,B as Ze,e as g,a as z,t as S,c as b,l as se,g as B,d as G,x as je,p as be,V as et,y as qe,W as tt,j as ve,u as Xe,o as lt,q as Ee}from"../chunks/scheduler.BwrNQohB.js";import{S as Ce,i as Le,f as nt,c as Z,b as ee,m as te,t as I,e as de,a as E,d as le,g as he}from"../chunks/index.BXJ-9HM3.js";import{e as ze}from"../chunks/each.CVGGhJiJ.js";import{A as Te}from"../chunks/app.config.BO6XNHuD.js";import{F as rt,t as He,_ as st}from"../chunks/folderytpe_chooser.BQgQZ_gS.js";import{g as it}from"../chunks/entry.BxdtAIrl.js";import{n as at}from"../chunks/networking-collaboration-svgrepo-com.021AKHM1.js";function ot(r){let e,l;return{c(){e=fe("svg"),l=fe("path"),this.h()},l(n){e=ue(n,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0});var t=w(e);l=ue(t,"path",{d:!0}),w(l).forEach(_),t.forEach(_),this.h()},h(){u(l,"d","M0 64C0 28.7 28.7 0 64 0L224 0l0 128c0 17.7 14.3 32 32 32l128 0 0 38.6C310.1 219.5 256 287.4 256 368c0 59.1 29.1 111.3 73.7 143.3c-3.2 .5-6.4 .7-9.7 .7L64 512c-35.3 0-64-28.7-64-64L0 64zm384 64l-128 0L256 0 384 128zm48 96a144 144 0 1 1 0 288 144 144 0 1 1 0-288zm0 240a24 24 0 1 0 0-48 24 24 0 1 0 0 48zM368 321.6l0 6.4c0 8.8 7.2 16 16 16s16-7.2 16-16l0-6.4c0-5.3 4.3-9.6 9.6-9.6l40.5 0c7.7 0 13.9 6.2 13.9 13.9c0 5.2-2.9 9.9-7.4 12.3l-32 16.8c-5.3 2.8-8.6 8.2-8.6 14.2l0 14.8c0 8.8 7.2 16 16 16s16-7.2 16-16l0-5.1 23.5-12.3c15.1-7.9 24.5-23.6 24.5-40.6c0-25.4-20.6-45.9-45.9-45.9l-40.5 0c-23 0-41.6 18.6-41.6 41.6z"),u(e,"class","fill-white"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 576 512"),u(e,"width","28")},m(n,t){N(n,e,t),f(e,l)},p:j,i:j,o:j,d(n){n&&_(e)}}}class Ye extends Ce{constructor(e){super(),Le(this,e,null,ot,ge,{})}}function ct(r){let e,l;return{c(){e=fe("svg"),l=fe("path"),this.h()},l(n){e=ue(n,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0});var t=w(e);l=ue(t,"path",{d:!0}),w(l).forEach(_),t.forEach(_),this.h()},h(){u(l,"d","M57.7 193l9.4 16.4c8.3 14.5 21.9 25.2 38 29.8L163 255.7c17.2 4.9 29 20.6 29 38.5l0 39.9c0 11 6.2 21 16 25.9s16 14.9 16 25.9l0 39c0 15.6 14.9 26.9 29.9 22.6c16.1-4.6 28.6-17.5 32.7-33.8l2.8-11.2c4.2-16.9 15.2-31.4 30.3-40l8.1-4.6c15-8.5 24.2-24.5 24.2-41.7l0-8.3c0-12.7-5.1-24.9-14.1-33.9l-3.9-3.9c-9-9-21.2-14.1-33.9-14.1L257 256c-11.1 0-22.1-2.9-31.8-8.4l-34.5-19.7c-4.3-2.5-7.6-6.5-9.2-11.2c-3.2-9.6 1.1-20 10.2-24.5l5.9-3c6.6-3.3 14.3-3.9 21.3-1.5l23.2 7.7c8.2 2.7 17.2-.4 21.9-7.5c4.7-7 4.2-16.3-1.2-22.8l-13.6-16.3c-10-12-9.9-29.5 .3-41.3l15.7-18.3c8.8-10.3 10.2-25 3.5-36.7l-2.4-4.2c-3.5-.2-6.9-.3-10.4-.3C163.1 48 84.4 108.9 57.7 193zM464 256c0-36.8-9.6-71.4-26.4-101.5L412 164.8c-15.7 6.3-23.8 23.8-18.5 39.8l16.9 50.7c3.5 10.4 12 18.3 22.6 20.9l29.1 7.3c1.2-9 1.8-18.2 1.8-27.5zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"),u(e,"class","fill-white"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 512 512"),u(e,"width","24")},m(n,t){N(n,e,t),f(e,l)},p:j,i:j,o:j,d(n){n&&_(e)}}}class Ke extends Ce{constructor(e){super(),Le(this,e,null,ct,ge,{})}}function ft(r){let e,l;return{c(){e=fe("svg"),l=fe("path"),this.h()},l(n){e=ue(n,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0});var t=w(e);l=ue(t,"path",{d:!0}),w(l).forEach(_),t.forEach(_),this.h()},h(){u(l,"d","M64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32zm79 143c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"),u(e,"class","fill-white"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 448 512"),u(e,"width","28")},m(n,t){N(n,e,t),f(e,l)},p:j,i:j,o:j,d(n){n&&_(e)}}}class Be extends Ce{constructor(e){super(),Le(this,e,null,ft,ge,{})}}function ut(r){let e,l;return{c(){e=fe("svg"),l=fe("path"),this.h()},l(n){e=ue(n,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0});var t=w(e);l=ue(t,"path",{d:!0}),w(l).forEach(_),t.forEach(_),this.h()},h(){u(l,"d","M384 480c35.3 0 64-28.7 64-64l0-320c0-35.3-28.7-64-64-64L64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l320 0zM224 352c-6.7 0-13-2.8-17.6-7.7l-104-112c-6.5-7-8.2-17.2-4.4-25.9s12.5-14.4 22-14.4l208 0c9.5 0 18.2 5.7 22 14.4s2.1 18.9-4.4 25.9l-104 112c-4.5 4.9-10.9 7.7-17.6 7.7z"),u(e,"class","fill-white"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 448 512"),u(e,"width","22")},m(n,t){N(n,e,t),f(e,l)},p:j,i:j,o:j,d(n){n&&_(e)}}}class Me extends Ce{constructor(e){super(),Le(this,e,null,ut,ge,{})}}function dt(r){let e,l;return{c(){e=fe("svg"),l=fe("path"),this.h()},l(n){e=ue(n,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0});var t=w(e);l=ue(t,"path",{d:!0}),w(l).forEach(_),t.forEach(_),this.h()},h(){u(l,"d","M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM169.8 165.3c7.9-22.3 29.1-37.3 52.8-37.3l58.3 0c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24l0-13.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1l-58.3 0c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"),u(e,"class","fill-white"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"viewBox","0 0 512 512"),u(e,"width","22")},m(n,t){N(n,e,t),f(e,l)},p:j,i:j,o:j,d(n){n&&_(e)}}}class Qe extends Ce{constructor(e){super(),Le(this,e,null,dt,ge,{})}}function Ae(r,e,l){const n=r.slice();return n[25]=e[l][0],n[26]=e[l][1],n[28]=l,n}function Oe(r,e,l){const n=r.slice();return n[29]=e[l],n}function ht(r){let e,l="... Loading";return{c(){e=g("div"),e.textContent=l},l(n){e=b(n,"DIV",{"data-svelte-h":!0}),se(e)!=="svelte-1fzzrbk"&&(e.textContent=l)},m(n,t){N(n,e,t)},p:j,i:j,o:j,d(n){n&&_(e)}}}function _t(r){let e=r[0],l,n,t,s=r[2].filter(Je).length+"",a,m,o,c,p,i=Re(r);return{c(){i.c(),l=z(),n=g("button"),t=S("Generate Wget link for download ("),a=S(s),m=S(" selected)"),this.h()},l(h){i.l(h),l=B(h),n=b(h,"BUTTON",{type:!0,class:!0});var v=w(n);t=G(v,"Generate Wget link for download ("),a=G(v,s),m=G(v," selected)"),v.forEach(_),this.h()},h(){u(n,"type","button"),u(n,"class","btn bg-[#D17208] rounded-md")},m(h,v){i.m(h,v),N(h,l,v),N(h,n,v),f(n,t),f(n,a),f(n,m),o=!0,c||(p=be(n,"click",tt(r[7])),c=!0)},p(h,v){v[0]&1&&ge(e,e=h[0])?(he(),I(i,1,1,j),de(),i=Re(h),i.c(),E(i,1),i.m(l.parentNode,l)):i.p(h,v),(!o||v[0]&4)&&s!==(s=h[2].filter(Je).length+"")&&ve(a,s)},i(h){o||(E(i),o=!0)},o(h){I(i),o=!1},d(h){h&&(_(l),_(n)),i.d(h),c=!1,p()}}}function Ue(r){let e,l,n,t=r[25]+"",s,a,m=r[26].files.filter(r[14]).length+"",o,c,p,i,h,v,L;function V(){return r[15](r[25])}let $=r[26].toggled&&Pe(r);return{c(){e=g("div"),l=g("button"),n=g("h2"),s=S(t),a=S(" ("),o=S(m),c=S(")"),p=z(),$&&$.c(),i=Ee(),this.h()},l(T){e=b(T,"DIV",{class:!0});var F=w(e);l=b(F,"BUTTON",{class:!0});var Q=w(l);n=b(Q,"H2",{class:!0});var U=w(n);s=G(U,t),a=G(U," ("),o=G(U,m),c=G(U,")"),U.forEach(_),Q.forEach(_),F.forEach(_),p=B(T),$&&$.l(T),i=Ee(),this.h()},h(){u(n,"class","text-xl"),u(l,"class","w-full flex items-left"),u(e,"class","w-full flex items-center rounded-md h-8 pl-3 "+(r[28]%2==0?"bg-emerald-700":"bg-emerald-900")+" mb-1")},m(T,F){N(T,e,F),f(e,l),f(l,n),f(n,s),f(n,a),f(n,o),f(n,c),N(T,p,F),$&&$.m(T,F),N(T,i,F),h=!0,v||(L=be(l,"click",V),v=!0)},p(T,F){r=T,(!h||F[0]&2)&&t!==(t=r[25]+"")&&ve(s,t),(!h||F[0]&18)&&m!==(m=r[26].files.filter(r[14]).length+"")&&ve(o,m),r[26].toggled?$?($.p(r,F),F[0]&2&&E($,1)):($=Pe(r),$.c(),E($,1),$.m(i.parentNode,i)):$&&(he(),I($,1,1,()=>{$=null}),de())},i(T){h||(E($),h=!0)},o(T){I($),h=!1},d(T){T&&(_(e),_(p),_(i)),$&&$.d(T),v=!1,L()}}}function Pe(r){let e,l,n='<tr><th class="text-left">Filename</th> <th class="text-left min-w-[80px] max-w-[80px]">Filesize</th> <th class="text-left min-w-[140px] max-w-[140px]">Last modified</th> <th class="text-left min-w-[122px] max-w-[122px]">Download Link</th> <th class="text-left min-w-[86px] max-w-[86px]">Visualize</th></tr>',t,s,a,m,o=ze(r[26].files),c=[];for(let i=0;i<o.length;i+=1)c[i]=Ge(Oe(r,o,i));const p=i=>I(c[i],1,1,()=>{c[i]=null});return{c(){e=g("table"),l=g("thead"),l.innerHTML=n,t=z(),s=g("tbody");for(let i=0;i<c.length;i+=1)c[i].c();a=z(),this.h()},l(i){e=b(i,"TABLE",{class:!0});var h=w(e);l=b(h,"THEAD",{"data-svelte-h":!0}),se(l)!=="svelte-1wncf1h"&&(l.innerHTML=n),t=B(h),s=b(h,"TBODY",{});var v=w(s);for(let L=0;L<c.length;L+=1)c[L].l(v);v.forEach(_),a=B(h),h.forEach(_),this.h()},h(){u(e,"class","table-fixed mb-1")},m(i,h){N(i,e,h),f(e,l),f(e,t),f(e,s);for(let v=0;v<c.length;v+=1)c[v]&&c[v].m(s,null);f(e,a),m=!0},p(i,h){if(h[0]&859){o=ze(i[26].files);let v;for(v=0;v<o.length;v+=1){const L=Oe(i,o,v);c[v]?(c[v].p(L,h),E(c[v],1)):(c[v]=Ge(L),c[v].c(),E(c[v],1),c[v].m(s,null))}for(he(),v=o.length;v<c.length;v+=1)p(v);de()}},i(i){if(!m){for(let h=0;h<o.length;h+=1)E(c[h]);m=!0}},o(i){c=c.filter(Boolean);for(let h=0;h<c.length;h+=1)I(c[h]);m=!1},d(i){i&&_(e),Xe(c,i)}}}function Se(r){let e,l,n,t,s,a,m,o=r[0][r[29].index][0].replace(r[25],"... ")+"",c,p,i,h,v,L=r[0][r[29].index][1]+"",V,$,T,F=r[0][r[29].index][2]+"",Q,U,W,X,k,x,M,D,H,Y=".nc",ne,me,R,A,ie,ae,P,J,we,K,$e,De;M=new Me({});const oe=[vt,pt,mt],ce=[];function Ie(d,C){return!d[0][d[29].index][3]||d[0][d[29].index][3].tif_convertable&&!d[0][d[29].index][3].tif_cached?0:d[0][d[29].index][3].tif_cached?1:2}R=Ie(r),A=ce[R]=oe[R](r);const pe=[wt,bt,gt],O=[];function y(d,C){return!d[0][d[29].index][3]||d[0][d[29].index][3].tif_convertable&&!d[0][d[29].index][3].tif_cached?0:d[0][d[29].index][3].tif_cached?1:2}return P=y(r),J=O[P]=pe[P](r),{c(){e=g("tr"),l=g("td"),n=g("label"),t=g("input"),m=S(`

														 `),c=S(o),h=z(),v=g("td"),V=S(L),$=z(),T=g("td"),Q=S(F),U=z(),W=g("td"),X=g("div"),k=g("button"),x=g("a"),Z(M.$$.fragment),D=z(),H=g("div"),H.textContent=Y,me=z(),A.c(),ie=z(),ae=g("td"),J.c(),we=z(),this.h()},l(d){e=b(d,"TR",{class:!0});var C=w(e);l=b(C,"TD",{class:!0});var q=w(l);n=b(q,"LABEL",{for:!0,title:!0});var re=w(n);t=b(re,"INPUT",{type:!0,id:!0}),m=G(re,`

														 `),c=G(re,o),re.forEach(_),q.forEach(_),h=B(C),v=b(C,"TD",{});var ke=w(v);V=G(ke,L),ke.forEach(_),$=B(C),T=b(C,"TD",{});var xe=w(T);Q=G(xe,F),xe.forEach(_),U=B(C),W=b(C,"TD",{class:!0});var ye=w(W);X=b(ye,"DIV",{class:!0});var _e=w(X);k=b(_e,"BUTTON",{class:!0});var Ne=w(k);x=b(Ne,"A",{href:!0,class:!0});var Ve=w(x);ee(M.$$.fragment,Ve),D=B(Ve),H=b(Ve,"DIV",{class:!0,"data-svelte-h":!0}),se(H)!=="svelte-107e1us"&&(H.textContent=Y),Ve.forEach(_),Ne.forEach(_),me=B(_e),A.l(_e),_e.forEach(_),ye.forEach(_),ie=B(C),ae=b(C,"TD",{class:!0});var Fe=w(ae);J.l(Fe),Fe.forEach(_),we=B(C),C.forEach(_),this.h()},h(){u(t,"type","checkbox"),t.value=s=r[29].index,u(t,"id",a="checkbox_"+r[29].index),u(n,"for",p="checkbox_"+r[29].index),u(n,"title",i="Select for download: "+r[0][r[29].index][0]),u(l,"class","col-span-6 w-full break-all pl-1"),u(H,"class","ml-1 flex place-items-center justify-items-center"),u(x,"href",ne=Te+"/climate/get_temp_file?name="+r[0][r[29].index][0]+"&type="+r[3]+"&filetype=nc"),u(x,"class","flex"),u(k,"class","mr-1 max-h-[33px] p-1 flex items-center justify-center variant-filled-tertiary hover:bg-tertiary-900 rounded-md"),u(X,"class","flex"),u(W,"class","min-w-[122px]"),u(ae,"class","min-w-[86px] max-w-[86px]"),u(e,"class","hover:bg-slate-400")},m(d,C){N(d,e,C),f(e,l),f(l,n),f(n,t),f(n,m),f(n,c),f(e,h),f(e,v),f(v,V),f(e,$),f(e,T),f(T,Q),f(e,U),f(e,W),f(W,X),f(X,k),f(k,x),te(M,x,null),f(x,D),f(x,H),f(X,me),ce[R].m(X,null),f(e,ie),f(e,ae),O[P].m(ae,null),f(e,we),K=!0,$e||(De=be(t,"change",r[6]),$e=!0)},p(d,C){(!K||C[0]&2&&s!==(s=d[29].index))&&(t.value=s),(!K||C[0]&2&&a!==(a="checkbox_"+d[29].index))&&u(t,"id",a),(!K||C[0]&3)&&o!==(o=d[0][d[29].index][0].replace(d[25],"... ")+"")&&ve(c,o),(!K||C[0]&2&&p!==(p="checkbox_"+d[29].index))&&u(n,"for",p),(!K||C[0]&3&&i!==(i="Select for download: "+d[0][d[29].index][0]))&&u(n,"title",i),(!K||C[0]&3)&&L!==(L=d[0][d[29].index][1]+"")&&ve(V,L),(!K||C[0]&3)&&F!==(F=d[0][d[29].index][2]+"")&&ve(Q,F),(!K||C[0]&11&&ne!==(ne=Te+"/climate/get_temp_file?name="+d[0][d[29].index][0]+"&type="+d[3]+"&filetype=nc"))&&u(x,"href",ne);let q=R;R=Ie(d),R===q?ce[R].p(d,C):(he(),I(ce[q],1,1,()=>{ce[q]=null}),de(),A=ce[R],A?A.p(d,C):(A=ce[R]=oe[R](d),A.c()),E(A,1),A.m(X,null));let re=P;P=y(d),P===re?O[P].p(d,C):(he(),I(O[re],1,1,()=>{O[re]=null}),de(),J=O[P],J?J.p(d,C):(J=O[P]=pe[P](d),J.c()),E(J,1),J.m(ae,null))},i(d){K||(E(M.$$.fragment,d),E(A),E(J),K=!0)},o(d){I(M.$$.fragment,d),I(A),I(J),K=!1},d(d){d&&_(e),le(M),ce[R].d(),O[P].d(),$e=!1,De()}}}function mt(r){let e,l,n;return l=new Be({}),{c(){e=g("div"),Z(l.$$.fragment),this.h()},l(t){e=b(t,"DIV",{class:!0});var s=w(e);ee(l.$$.fragment,s),s.forEach(_),this.h()},h(){u(e,"class","flex w-full pr-2 items-center justify-center")},m(t,s){N(t,e,s),te(l,e,null),n=!0},p:j,i(t){n||(E(l.$$.fragment,t),n=!0)},o(t){I(l.$$.fragment,t),n=!1},d(t){t&&_(e),le(l)}}}function pt(r){let e,l,n,t,s,a=".tif",m,o;return n=new Me({}),{c(){e=g("button"),l=g("a"),Z(n.$$.fragment),t=z(),s=g("div"),s.textContent=a,this.h()},l(c){e=b(c,"BUTTON",{class:!0});var p=w(e);l=b(p,"A",{href:!0,class:!0});var i=w(l);ee(n.$$.fragment,i),t=B(i),s=b(i,"DIV",{class:!0,"data-svelte-h":!0}),se(s)!=="svelte-1buif63"&&(s.textContent=a),i.forEach(_),p.forEach(_),this.h()},h(){u(s,"class","ml-1 flex place-items-center justify-center"),u(l,"href",m=Te+"/climate/get_temp_file?name="+r[0][r[29].index][0]+"&type="+r[3]+"&filetype=tif"),u(l,"class","flex"),u(e,"class","max-h-[33px] p-1 flex items-center justify-center variant-filled-tertiary hover:bg-tertiary-900 rounded-md")},m(c,p){N(c,e,p),f(e,l),te(n,l,null),f(l,t),f(l,s),o=!0},p(c,p){(!o||p[0]&11&&m!==(m=Te+"/climate/get_temp_file?name="+c[0][c[29].index][0]+"&type="+c[3]+"&filetype=tif"))&&u(l,"href",m)},i(c){o||(E(n.$$.fragment,c),o=!0)},o(c){I(n.$$.fragment,c),o=!1},d(c){c&&_(e),le(n)}}}function vt(r){let e,l,n,t,s=".tif",a,m,o;l=new Qe({});function c(){return r[16](r[29])}return{c(){e=g("button"),Z(l.$$.fragment),n=z(),t=g("div"),t.textContent=s,this.h()},l(p){e=b(p,"BUTTON",{class:!0});var i=w(e);ee(l.$$.fragment,i),n=B(i),t=b(i,"DIV",{class:!0,"data-svelte-h":!0}),se(t)!=="svelte-zraezm"&&(t.textContent=s),i.forEach(_),this.h()},h(){u(t,"class","ml-1 flex text-white place-items-center justify-items-center"),u(e,"class","max-h-[33px] p-1 flex items-center justify-center bg-fuchsia-700 hover:bg-fuchsia-900 rounded-md")},m(p,i){N(p,e,i),te(l,e,null),f(e,n),f(e,t),a=!0,m||(o=be(e,"click",c),m=!0)},p(p,i){r=p},i(p){a||(E(l.$$.fragment,p),a=!0)},o(p){I(l.$$.fragment,p),a=!1},d(p){p&&_(e),le(l),m=!1,o()}}}function gt(r){let e,l,n;return l=new Be({}),{c(){e=g("div"),Z(l.$$.fragment),this.h()},l(t){e=b(t,"DIV",{class:!0});var s=w(e);ee(l.$$.fragment,s),s.forEach(_),this.h()},h(){u(e,"class","flex w-full pr-2 items-center justify-center")},m(t,s){N(t,e,s),te(l,e,null),n=!0},p:j,i(t){n||(E(l.$$.fragment,t),n=!0)},o(t){I(l.$$.fragment,t),n=!1},d(t){t&&_(e),le(l)}}}function bt(r){let e,l,n,t,s="View",a,m,o;l=new Ke({});function c(){return r[18](r[29])}return{c(){e=g("button"),Z(l.$$.fragment),n=z(),t=g("div"),t.textContent=s,this.h()},l(p){e=b(p,"BUTTON",{class:!0});var i=w(e);ee(l.$$.fragment,i),n=B(i),t=b(i,"DIV",{class:!0,"data-svelte-h":!0}),se(t)!=="svelte-6n1f8q"&&(t.textContent=s),i.forEach(_),this.h()},h(){u(t,"class","ml-1 flex text-white place-items-center justify-items-center"),u(e,"class","max-h-[33px] h-[33px] w-[80px] p-1 flex items-center justify-center variant-filled-primary hover:bg-primary-900 rounded-md")},m(p,i){N(p,e,i),te(l,e,null),f(e,n),f(e,t),a=!0,m||(o=be(e,"click",c),m=!0)},p(p,i){r=p},i(p){a||(E(l.$$.fragment,p),a=!0)},o(p){I(l.$$.fragment,p),a=!1},d(p){p&&_(e),le(l),m=!1,o()}}}function wt(r){let e,l,n,t,s="Fetch",a,m,o;l=new Ye({});function c(){return r[17](r[29])}return{c(){e=g("button"),Z(l.$$.fragment),n=z(),t=g("div"),t.textContent=s,this.h()},l(p){e=b(p,"BUTTON",{class:!0});var i=w(e);ee(l.$$.fragment,i),n=B(i),t=b(i,"DIV",{class:!0,"data-svelte-h":!0}),se(t)!=="svelte-rjdpxh"&&(t.textContent=s),i.forEach(_),this.h()},h(){u(t,"class","ml-1 flex text-white place-items-center justify-items-center"),u(e,"class","max-h-[33px] h-[33px] w-[80px] p-1 flex items-center justify-center variant-filled-secondary hover:bg-secondary-900 rounded-md")},m(p,i){N(p,e,i),te(l,e,null),f(e,n),f(e,t),a=!0,m||(o=be(e,"click",c),m=!0)},p(p,i){r=p},i(p){a||(E(l.$$.fragment,p),a=!0)},o(p){I(l.$$.fragment,p),a=!1},d(p){p&&_(e),le(l),m=!1,o()}}}function Ge(r){let e=r[0][r[29].index][0].toLowerCase().includes(r[4].toLowerCase()),l,n,t=e&&Se(r);return{c(){t&&t.c(),l=Ee()},l(s){t&&t.l(s),l=Ee()},m(s,a){t&&t.m(s,a),N(s,l,a),n=!0},p(s,a){a[0]&19&&(e=s[0][s[29].index][0].toLowerCase().includes(s[4].toLowerCase())),e?t?(t.p(s,a),a[0]&19&&E(t,1)):(t=Se(s),t.c(),E(t,1),t.m(l.parentNode,l)):t&&(he(),I(t,1,1,()=>{t=null}),de())},i(s){n||(E(t),n=!0)},o(s){I(t),n=!1},d(s){s&&_(l),t&&t.d(s)}}}function We(r){let e=r[26]&&r[26].files.filter(r[11]).length>0,l,n,t=e&&Ue(r);return{c(){t&&t.c(),l=Ee()},l(s){t&&t.l(s),l=Ee()},m(s,a){t&&t.m(s,a),N(s,l,a),n=!0},p(s,a){a[0]&18&&(e=s[26]&&s[26].files.filter(s[11]).length>0),e?t?(t.p(s,a),a[0]&18&&E(t,1)):(t=Ue(s),t.c(),E(t,1),t.m(l.parentNode,l)):t&&(he(),I(t,1,1,()=>{t=null}),de())},i(s){n||(E(t),n=!0)},o(s){I(t),n=!1},d(s){s&&_(l),t&&t.d(s)}}}function Re(r){let e,l,n=ze(Object.entries(r[1])),t=[];for(let a=0;a<n.length;a+=1)t[a]=We(Ae(r,n,a));const s=a=>I(t[a],1,1,()=>{t[a]=null});return{c(){e=g("div");for(let a=0;a<t.length;a+=1)t[a].c();this.h()},l(a){e=b(a,"DIV",{class:!0});var m=w(e);for(let o=0;o<t.length;o+=1)t[o].l(m);m.forEach(_),this.h()},h(){u(e,"class","p-2")},m(a,m){N(a,e,m);for(let o=0;o<t.length;o+=1)t[o]&&t[o].m(e,null);l=!0},p(a,m){if(m[0]&859){n=ze(Object.entries(a[1]));let o;for(o=0;o<n.length;o+=1){const c=Ae(a,n,o);t[o]?(t[o].p(c,m),E(t[o],1)):(t[o]=We(c),t[o].c(),E(t[o],1),t[o].m(e,null))}for(he(),o=n.length;o<t.length;o+=1)s(o);de()}},i(a){if(!l){for(let m=0;m<n.length;m+=1)E(t[m]);l=!0}},o(a){t=t.filter(Boolean);for(let m=0;m<t.length;m+=1)I(t[m]);l=!1},d(a){a&&_(e),Xe(t,a)}}}function $t(r){let e,l='<span class="bg-[#f9f2f4] p-[3px] rounded-sm text-red-500 [word-spacing:6px]">No files selected or selection has changed. Please select files and click the button again.</span>';return{c(){e=g("div"),e.innerHTML=l,this.h()},l(n){e=b(n,"DIV",{class:!0,"data-svelte-h":!0}),se(e)!=="svelte-1llbrq3"&&(e.innerHTML=l),this.h()},h(){u(e,"class","bg-[#d9edf7] border-2 border-[#bce8f1] text-[#31708f] rounded-md p-4 m-2")},m(n,t){N(n,e,t)},p:j,d(n){n&&_(e)}}}function kt(r){let e,l,n,t="<span>To download all objects using Wget:</span>",s,a,m,o,c,p="<span>How to use Wget on Windows and Linux:</span>",i,h,v="..links";return{c(){e=g("div"),l=g("div"),n=g("div"),n.innerHTML=t,s=z(),a=g("span"),m=S(r[5]),o=z(),c=g("div"),c.innerHTML=p,i=z(),h=g("span"),h.textContent=v,this.h()},l(L){e=b(L,"DIV",{style:!0});var V=w(e);l=b(V,"DIV",{class:!0});var $=w(l);n=b($,"DIV",{class:!0,"data-svelte-h":!0}),se(n)!=="svelte-1svjzl2"&&(n.innerHTML=t),s=B($),a=b($,"SPAN",{class:!0});var T=w(a);m=G(T,r[5]),T.forEach(_),o=B($),c=b($,"DIV",{class:!0,"data-svelte-h":!0}),se(c)!=="svelte-1dmdx1l"&&(c.innerHTML=p),i=B($),h=b($,"SPAN",{class:!0,"data-svelte-h":!0}),se(h)!=="svelte-lnm796"&&(h.textContent=v),$.forEach(_),V.forEach(_),this.h()},h(){u(n,"class","mb-2"),u(a,"class","bg-[#f9f2f4] p-[3px] rounded-sm text-red-500 [word-spacing:6px]"),u(c,"class","mb-2"),u(h,"class","bg-[#f9f2f4] p-[3px] rounded-sm text-red-500 [word-spacing:6px]"),u(l,"class","bg-[#d9edf7] border-2 border-[#bce8f1] text-[#31708f] rounded-md p-4 m-2"),lt(e,"display","flex")},m(L,V){N(L,e,V),f(e,l),f(l,n),f(l,s),f(l,a),f(a,m),f(l,o),f(l,c),f(l,i),f(l,h)},p(L,V){V[0]&32&&ve(m,L[5])},d(L){L&&_(e)}}}function xt(r){let e,l,n=`<h1 class="content-heading">Available Collections</h1> <img src="${at}" alt="..." width="30px"/>`,t,s,a,m,o,c,p,i,h,v,L,V,$,T,F,Q,U,W,X,k,x,M,D,H,Y,ne,me,R,A,ie,ae,P,J,we;function K(y){r[12](y)}let $e={};r[3]!==void 0&&($e.foldertype=r[3]),s=new rt({props:$e}),Ze.push(()=>nt(s,"foldertype",K)),s.$on("foldertype_changed",r[10]);const De=[_t,ht],oe=[];function ce(y,d){return y[0].length>0?0:1}i=ce(r),h=oe[i]=De[i](r);function Ie(y,d){return y[5].length>0?kt:$t}let pe=Ie(r),O=pe(r);return T=new Me({}),W=new Ke({}),M=new Ye({}),ne=new Qe({}),ie=new Be({}),{c(){e=g("div"),l=g("div"),l.innerHTML=n,t=z(),Z(s.$$.fragment),m=z(),o=g("div"),c=g("input"),p=z(),h.c(),v=z(),O.c(),L=z(),V=g("div"),$=g("div"),Z(T.$$.fragment),F=S("  Download file in .[format]"),Q=z(),U=g("div"),Z(W.$$.fragment),X=S("  View file on map"),k=z(),x=g("div"),Z(M.$$.fragment),D=S("   Generate TIFF file and visualize (might fail)"),H=z(),Y=g("div"),Z(ne.$$.fragment),me=S("  Generate TIFF file and download (might fail)"),R=z(),A=g("div"),Z(ie.$$.fragment),ae=S("  TIFF file not creatable (no download/visualization)"),this.h()},l(y){e=b(y,"DIV",{class:!0});var d=w(e);l=b(d,"DIV",{class:!0,"data-svelte-h":!0}),se(l)!=="svelte-te403e"&&(l.innerHTML=n),t=B(d),ee(s.$$.fragment,d),m=B(d),o=b(d,"DIV",{class:!0});var C=w(o);c=b(C,"INPUT",{class:!0,type:!0,placeholder:!0}),C.forEach(_),p=B(d),h.l(d),v=B(d),O.l(d),L=B(d),V=b(d,"DIV",{class:!0});var q=w(V);$=b(q,"DIV",{class:!0});var re=w($);ee(T.$$.fragment,re),F=G(re,"  Download file in .[format]"),re.forEach(_),Q=B(q),U=b(q,"DIV",{class:!0});var ke=w(U);ee(W.$$.fragment,ke),X=G(ke,"  View file on map"),ke.forEach(_),k=B(q),x=b(q,"DIV",{class:!0});var xe=w(x);ee(M.$$.fragment,xe),D=G(xe,"   Generate TIFF file and visualize (might fail)"),xe.forEach(_),H=B(q),Y=b(q,"DIV",{class:!0});var ye=w(Y);ee(ne.$$.fragment,ye),me=G(ye,"  Generate TIFF file and download (might fail)"),ye.forEach(_),R=B(q),A=b(q,"DIV",{class:!0});var _e=w(A);ee(ie.$$.fragment,_e),ae=G(_e,"  TIFF file not creatable (no download/visualization)"),_e.forEach(_),q.forEach(_),d.forEach(_),this.h()},h(){u(l,"class","flex"),u(c,"class","input w-full mt-4 p-2"),u(c,"type","text"),u(c,"placeholder","Filter filenames..."),u(o,"class","mt-4 p-2"),u($,"class","flex items-center mb-2"),u(U,"class","flex items-center mb-2"),u(x,"class","flex items-center mb-2"),u(Y,"class","flex items-center mb-2"),u(A,"class","flex items-center"),u(V,"class","p-4"),u(e,"class","content-div")},m(y,d){N(y,e,d),f(e,l),f(e,t),te(s,e,null),f(e,m),f(e,o),f(o,c),je(c,r[4]),f(e,p),oe[i].m(e,null),f(e,v),O.m(e,null),f(e,L),f(e,V),f(V,$),te(T,$,null),f($,F),f(V,Q),f(V,U),te(W,U,null),f(U,X),f(V,k),f(V,x),te(M,x,null),f(x,D),f(V,H),f(V,Y),te(ne,Y,null),f(Y,me),f(V,R),f(V,A),te(ie,A,null),f(A,ae),P=!0,J||(we=be(c,"input",r[13]),J=!0)},p(y,d){const C={};!a&&d[0]&8&&(a=!0,C.foldertype=y[3],et(()=>a=!1)),s.$set(C),d[0]&16&&c.value!==y[4]&&je(c,y[4]);let q=i;i=ce(y),i===q?oe[i].p(y,d):(he(),I(oe[q],1,1,()=>{oe[q]=null}),de(),h=oe[i],h?h.p(y,d):(h=oe[i]=De[i](y),h.c()),E(h,1),h.m(e,v)),pe===(pe=Ie(y))&&O?O.p(y,d):(O.d(1),O=pe(y),O&&(O.c(),O.m(e,L)))},i(y){P||(E(s.$$.fragment,y),E(h),E(T.$$.fragment,y),E(W.$$.fragment,y),E(M.$$.fragment,y),E(ne.$$.fragment,y),E(ie.$$.fragment,y),P=!0)},o(y){I(s.$$.fragment,y),I(h),I(T.$$.fragment,y),I(W.$$.fragment,y),I(M.$$.fragment,y),I(ne.$$.fragment,y),I(ie.$$.fragment,y),P=!1},d(y){y&&_(e),le(s),oe[i].d(),O.d(),le(T),le(W),le(M),le(ne),le(ie),J=!1,we()}}}const Je=r=>r==!0;function yt(r,e,l){let n,t=[],s={},a=[],m="water_budget";qe(()=>{He.subscribe(k=>{})}),qe(()=>{L()});let o="";function c(k){let x=parseInt(k.srcElement.value),M=k.srcElement.checked;l(2,a[x]=M,a),l(5,n="")}async function p(){const k=Te+"/climate/select_temp_urls?type="+m;let x=[];for(let D=0;D<a.length;D++)a[D]&&x.push(t[D][0]);try{const D=await fetch(k,{method:"POST",body:JSON.stringify(x)});let H=[];if(!D.ok){var M=await D.text();throw new Error(`${D.status} ${D.statusText}
Reason: ${M}`)}H=await D.json(),l(5,n=H["wget-command"])}catch(D){console.log(D)}}async function i(k,x){var M=Te+"/climate/access_tif?type="+m+"&name="+k;const D=await fetch(M,{method:"GET"});if(D.ok)t[x][3]||l(0,t[x][3]={},t),l(0,t[x][3].tif_cached=!0,t),l(0,t=[...t]);else{t[x][3]||l(0,t[x][3]={},t),l(0,t[x][3].tif_cached=!1,t),l(0,t[x][3].tif_convertable=!1,t),l(0,t=[...t]);var H=await D.text();throw new Error(`${D.status} ${D.statusText}
Reason: ${H}`)}}function h(k){He.set({filename:k,foldertype:m}),it("/view_geotiff")}function v(){const k=/^(.+)_v(\d+)_([^_]+)/;l(1,s={});let x={};x["No Category"]={files:[],toggled:!1};for(let D=0;D<t.length;D++){var M=t[D][0];const H=M.match(k);if(H&&H.length>=3){const Y=H[0];x[Y]||(x[Y]={files:[],toggled:!1}),x[Y].files.push({filename:M,index:D})}else x["No Category"].files.push({filename:M,index:D})}x["No Category"].files.length==0&&delete x["No Category"],l(1,s=x)}function L(){l(0,t={}),st(m,!1).then(k=>{l(0,t=k.content),v()}).catch(k=>{console.log(k)})}const V=k=>k.filename.toLowerCase().includes(o.toLowerCase());function $(k){m=k,l(3,m)}function T(){o=this.value,l(4,o)}const F=k=>k.filename.toLowerCase().includes(o.toLowerCase()),Q=k=>{l(1,s[k].toggled=!s[k].toggled,s)},U=k=>i(t[k.index][0],k.index),W=k=>i(t[k.index][0],k.index),X=k=>h(t[k.index][0]);return l(5,n=""),[t,s,a,m,o,n,c,p,i,h,L,V,$,T,F,Q,U,W,X]}class zt extends Ce{constructor(e){super(),Le(this,e,yt,xt,ge,{},null,[-1,-1])}}export{zt as component};
