import{S as Ba,i as Ga,s as Ot,n as O,d as f,b as I,m,e as d,f as E,j as u,H as jn,c as n,x as Ft,y as Ht,p as B,q as D,r as V,a as q,u as G,h as w,v as z,g as j,o as R,k,w as F,t as T,R as Ye,T as Je,U as We,J as ee,K as te,D as H,Q as ht}from"../chunks/D4BV8AeQ.js";import"../chunks/IHki7fMi.js";import{A as Ze}from"../chunks/BO6XNHuD.js";import{T as Ln}from"../chunks/LOBrRGFR.js";import{M as qn,V as Bn,b as Gn,O as zn,P as Fn,F as Hn,c as On,d as Un,S as Kn,e as Xn,f as Qn,T as Yn,g as Jn}from"../chunks/W4i6MW31.js";import"../chunks/DoAtP-JW.js";import{r as La,s as Sn,C as Wn,T as Zn,a as qa,D as Tn,P as jl,M as es,b as ts}from"../chunks/n_KZv0bP.js";function as(s,e,t){let l=t.file.long_name,a=t.file.frequency+"ly",i="None",r=!1,c="None",o="None",_="None",p="None",g="None",v=!1,h="";if(a=="dayly"&&(a="daily"),e.includes("vaal")?i="Vaal":e.includes("kunene")?i="Kunene":e.includes("luanginga")&&(i="Luanginga"),s.includes("_b_")&&(r=!0),e.includes("CORDEX")?(c="Cordex-Core",s.includes("REMO")?_="GERICS-REMO2015":s.includes("KIT")?_="KIT-CCLM5-0-15":s.includes("ICTP")&&(_="ICTP-RegCM4-7"),o=t.driving_model_id):e.includes("CMIP6")?(c="CMIP6",o=t.source_id):e.includes("ERA5")?c="Era5-Land":e.includes("GLEAM")&&(c="GLEAM"),s.includes("yearsum")||s.includes("yearmean")){a="annual aggregated";let N=s.match(/year(?:sum|mean)_(\d{4})_(\d{4})-(\d{4})_(\d{4})/),A=s.match(/year(?:sum|mean)_(\d{4}_\d{4})/);N?(g=`${N[1]}–${N[2]}`,p=`${N[3]}–${N[4]}`):A&&A&&(p=`${A[1]}–${A[2]}`)}if(s.includes("_mean_")){v=!0;let N=s.match(/_mean_(\d{4})_(\d{4})-(\d{4})_(\d{4})/),A=s.match(/_mean_(\d{4})_(\d{4})/);N?(g=`${N[1]}–${N[2]}`,p=`${N[3]}–${N[4]}`):A&&A&&(p=`${A[1]}–${A[2]}`)}return v&&(h+="mean value of "),a!="nonely"&&(h+=a+" data of "),h+=l+" ",c!="None"&&(h+="based on "+c+" ",o!="None"?h+=o+" global model ":h+="dataset ",_!="None"&&(h+="and "+_+" regional model "),r&&(h+="with bias correction "),p!="None"&&(h+="for time period "+p+" "),g!="None"&&(h+="compared to "+g+" "),i!="None"&&(h+="clipped to "+i+" study area ")),h=ls(h),h}function ls(s){return s?(s=s.trimEnd(),s=s.charAt(0).toUpperCase()+s.slice(1),s.endsWith(".")||(s+="."),s):""}function ns(s){let e;return{c(){e=u("div"),this.h()},l(t){e=d(t,"DIV",{id:!0,class:!0}),E(e).forEach(f),this.h()},h(){m(e,"id","map"),m(e,"class","svelte-mjfcf6")},m(t,l){I(t,e,l)},p:O,i:O,o:O,d(t){t&&f(e)}}}function ss(s,e,t){let{extent:l}=e;function a(i,r,c="EPSG:4326"){if(!i||!r||r.length!==4){console.error("Invalid map or extent");return}const[o,_,p,g]=r,v=new Fn([[[o,_],[o,g],[p,g],[p,_],[o,_]]]);v.transform(c,i.getView().getProjection());const h=new Hn(v),N=new On({features:[h]}),A=new Un({source:N,style:new Kn({stroke:new Qn({color:"rgba(255, 120, 0, 0.8)",width:2}),fill:new Xn({color:"rgba(255, 120, 0, 0.2)"})})});return i.addLayer(A),i.getView().fit(v,{padding:[20,20,20,20]}),A}return jn(()=>{let i=new qn({target:"map",layers:[new Gn({source:new zn})],view:new Bn({center:[0,0],zoom:2,projection:"EPSG:3857"})});a(i,l)}),s.$$set=i=>{"extent"in i&&t(0,l=i.extent)},[l,a]}class os extends Ba{constructor(e){super(),Ga(this,e,ss,ns,Ot,{extent:0,drawExtentBox:1})}get drawExtentBox(){return this.$$.ctx[1]}}function is(s){let e,t,l,a,i;return{c(){e=Ht("svg"),t=Ht("g"),l=Ht("g"),a=Ht("g"),i=Ht("path"),this.h()},l(r){e=Ft(r,"svg",{width:!0,viewBox:!0,fill:!0,xmlns:!0});var c=E(e);t=Ft(c,"g",{id:!0,"stroke-width":!0}),E(t).forEach(f),l=Ft(c,"g",{id:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),E(l).forEach(f),a=Ft(c,"g",{id:!0});var o=E(a);i=Ft(o,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0}),E(i).forEach(f),o.forEach(f),c.forEach(f),this.h()},h(){m(t,"id","SVGRepo_bgCarrier"),m(t,"stroke-width","0"),m(l,"id","SVGRepo_tracerCarrier"),m(l,"stroke-linecap","round"),m(l,"stroke-linejoin","round"),m(i,"d","M17 18V21M17 15H17.01M13 3V7.4C13 7.96005 13 8.24008 13.109 8.45399C13.2049 8.64215 13.3578 8.79513 13.546 8.89101C13.7599 9 14.0399 9 14.6 9H19M13 3H8.2C7.0799 3 6.51984 3 6.09202 3.21799C5.71569 3.40973 5.40973 3.71569 5.21799 4.09202C5 4.51984 5 5.0799 5 6.2V17.8C5 18.9201 5 19.4802 5.21799 19.908C5.40973 20.2843 5.71569 20.5903 6.09202 20.782C6.51984 21 7.0799 21 8.2 21H13M13 3L19 9M19 9V11.5"),m(i,"stroke","currentColor"),m(i,"stroke-width","2"),m(i,"stroke-linecap","round"),m(i,"stroke-linejoin","round"),m(a,"id","SVGRepo_iconCarrier"),m(e,"width","30px"),m(e,"viewBox","0 0 24 24"),m(e,"fill","none"),m(e,"xmlns","http://www.w3.org/2000/svg")},m(r,c){I(r,e,c),n(e,t),n(e,l),n(e,a),n(a,i)},p:O,i:O,o:O,d(r){r&&f(e)}}}class rs extends Ba{constructor(e){super(),Ga(this,e,null,is,Ot,{})}}function Pn(s){let e,t,l="Climatology Bounds Start:",a,i,r=ie(s[0].metadata.file.climatology_bounds[0][0])+"",c,o,_,p,g="Climatology Bounds End:",v,h,N=ie(s[0].metadata.file.climatology_bounds[0][1])+"",A;return{c(){e=u("div"),t=u("span"),t.textContent=l,a=k(),i=u("span"),c=T(r),o=k(),_=u("div"),p=u("span"),p.textContent=g,v=k(),h=u("span"),A=T(N),this.h()},l(x){e=d(x,"DIV",{});var M=E(e);t=d(M,"SPAN",{class:!0,"data-svelte-h":!0}),R(t)!=="svelte-99av7i"&&(t.textContent=l),a=w(M),i=d(M,"SPAN",{class:!0});var C=E(i);c=j(C,r),C.forEach(f),M.forEach(f),o=w(x),_=d(x,"DIV",{});var $=E(_);p=d($,"SPAN",{class:!0,"data-svelte-h":!0}),R(p)!=="svelte-1gu05yd"&&(p.textContent=g),v=w($),h=d($,"SPAN",{class:!0});var b=E(h);A=j(b,N),b.forEach(f),$.forEach(f),this.h()},h(){m(t,"class","font-bold ml-4 text-blue-400"),m(i,"class","ml-2"),m(p,"class","font-bold ml-4 text-blue-400"),m(h,"class","ml-2")},m(x,M){I(x,e,M),n(e,t),n(e,a),n(e,i),n(i,c),I(x,o,M),I(x,_,M),n(_,p),n(_,v),n(_,h),n(h,A)},p(x,M){M&1&&r!==(r=ie(x[0].metadata.file.climatology_bounds[0][0])+"")&&q(c,r),M&1&&N!==(N=ie(x[0].metadata.file.climatology_bounds[0][1])+"")&&q(A,N)},d(x){x&&(f(e),f(o),f(_))}}}function yn(s){let e,t,l="Climatology Bounds 1st Period:",a,i,r=ie(s[0].metadata.file.climatology_bounds_details[0])+"",c,o,_,p,g="Climatology Bounds 2nd Period:",v,h,N=ie(s[0].metadata.file.climatology_bounds_details[1])+"",A;return{c(){e=u("div"),t=u("span"),t.textContent=l,a=k(),i=u("span"),c=T(r),o=k(),_=u("div"),p=u("span"),p.textContent=g,v=k(),h=u("span"),A=T(N),this.h()},l(x){e=d(x,"DIV",{});var M=E(e);t=d(M,"SPAN",{class:!0,"data-svelte-h":!0}),R(t)!=="svelte-zha96v"&&(t.textContent=l),a=w(M),i=d(M,"SPAN",{class:!0});var C=E(i);c=j(C,r),C.forEach(f),M.forEach(f),o=w(x),_=d(x,"DIV",{});var $=E(_);p=d($,"SPAN",{class:!0,"data-svelte-h":!0}),R(p)!=="svelte-1ox1kwb"&&(p.textContent=g),v=w($),h=d($,"SPAN",{class:!0});var b=E(h);A=j(b,N),b.forEach(f),$.forEach(f),this.h()},h(){m(t,"class","font-bold ml-4 text-blue-400"),m(i,"class","ml-2"),m(p,"class","font-bold ml-4 text-blue-400"),m(h,"class","ml-2")},m(x,M){I(x,e,M),n(e,t),n(e,a),n(e,i),n(i,c),I(x,o,M),I(x,_,M),n(_,p),n(_,v),n(_,h),n(h,A)},p(x,M){M&1&&r!==(r=ie(x[0].metadata.file.climatology_bounds_details[0])+"")&&q(c,r),M&1&&N!==(N=ie(x[0].metadata.file.climatology_bounds_details[1])+"")&&q(A,N)},d(x){x&&(f(e),f(o),f(_))}}}function fs(s){let e,t="Other Metadata";return{c(){e=u("span"),e.textContent=t},l(l){e=d(l,"SPAN",{"data-svelte-h":!0}),R(e)!=="svelte-14jvd71"&&(e.textContent=t)},m(l,a){I(l,e,a)},p:O,d(l){l&&f(e)}}}function _s(s){let e;return{c(){e=T("Related Datasets")},l(t){e=j(t,"Related Datasets")},m(t,l){I(t,e,l)},d(t){t&&f(e)}}}function ds(s){let e;return{c(){e=T("Provenance")},l(t){e=j(t,"Provenance")},m(t,l){I(t,e,l)},d(t){t&&f(e)}}}function Vn(s){let e,t,l;function a(r){s[14](r)}let i={name:"tab4",value:3,title:"Map",$$slots:{default:[us]},$$scope:{ctx:s}};return s[4]!==void 0&&(i.group=s[4]),e=new qa({props:i}),Ye.push(()=>Je(e,"group",a)),{c(){F(e.$$.fragment)},l(r){z(e.$$.fragment,r)},m(r,c){G(e,r,c),l=!0},p(r,c){const o={};c&32768&&(o.$$scope={dirty:c,ctx:r}),!t&&c&16&&(t=!0,o.group=r[4],We(()=>t=!1)),e.$set(o)},i(r){l||(V(e.$$.fragment,r),l=!0)},o(r){D(e.$$.fragment,r),l=!1},d(r){B(e,r)}}}function us(s){let e;return{c(){e=T("Map")},l(t){e=j(t,"Map")},m(t,l){I(t,e,l)},d(t){t&&f(e)}}}function ms(s){let e,t,l,a,i,r,c,o,_,p,g;function v($){s[11]($)}let h={name:"tab1",value:0,title:"Other Metadata",$$slots:{default:[fs]},$$scope:{ctx:s}};s[4]!==void 0&&(h.group=s[4]),e=new qa({props:h}),Ye.push(()=>Je(e,"group",v));function N($){s[12]($)}let A={name:"tab1",value:1,title:"Related Datasets",$$slots:{default:[_s]},$$scope:{ctx:s}};s[4]!==void 0&&(A.group=s[4]),a=new qa({props:A}),Ye.push(()=>Je(a,"group",N));function x($){s[13]($)}let M={name:"tab2",value:2,title:"Provenance",$$slots:{default:[ds]},$$scope:{ctx:s}};s[4]!==void 0&&(M.group=s[4]),c=new qa({props:M}),Ye.push(()=>Je(c,"group",x));let C=s[0].tif_convertable&&Vn(s);return{c(){F(e.$$.fragment),l=k(),F(a.$$.fragment),r=k(),F(c.$$.fragment),_=k(),C&&C.c(),p=H()},l($){z(e.$$.fragment,$),l=w($),z(a.$$.fragment,$),r=w($),z(c.$$.fragment,$),_=w($),C&&C.l($),p=H()},m($,b){G(e,$,b),I($,l,b),G(a,$,b),I($,r,b),G(c,$,b),I($,_,b),C&&C.m($,b),I($,p,b),g=!0},p($,b){const X={};b&32768&&(X.$$scope={dirty:b,ctx:$}),!t&&b&16&&(t=!0,X.group=$[4],We(()=>t=!1)),e.$set(X);const Q={};b&32768&&(Q.$$scope={dirty:b,ctx:$}),!i&&b&16&&(i=!0,Q.group=$[4],We(()=>i=!1)),a.$set(Q);const Y={};b&32768&&(Y.$$scope={dirty:b,ctx:$}),!o&&b&16&&(o=!0,Y.group=$[4],We(()=>o=!1)),c.$set(Y),$[0].tif_convertable?C?(C.p($,b),b&1&&V(C,1)):(C=Vn($),C.c(),V(C,1),C.m(p.parentNode,p)):C&&(ee(),D(C,1,1,()=>{C=null}),te())},i($){g||(V(e.$$.fragment,$),V(a.$$.fragment,$),V(c.$$.fragment,$),V(C),g=!0)},o($){D(e.$$.fragment,$),D(a.$$.fragment,$),D(c.$$.fragment,$),D(C),g=!1},d($){$&&(f(l),f(r),f(_),f(p)),B(e,$),B(a,$),B(c,$),C&&C.d($)}}}function cs(s){let e,t,l=s[5]&&s[5]!=""&&An(s);return{c(){l&&l.c(),e=H()},l(a){l&&l.l(a),e=H()},m(a,i){l&&l.m(a,i),I(a,e,i),t=!0},p(a,i){a[5]&&a[5]!=""?l?(l.p(a,i),i&32&&V(l,1)):(l=An(a),l.c(),V(l,1),l.m(e.parentNode,e)):l&&(ee(),D(l,1,1,()=>{l=null}),te())},i(a){t||(V(l),t=!0)},o(a){D(l),t=!1},d(a){a&&f(e),l&&l.d(a)}}}function ps(s){let e,t,l,a;const i=[hs,gs],r=[];function c(o,_){return o[0].metadata_prov_exists&&o[0].metadata_show?0:1}return e=c(s),t=r[e]=i[e](s),{c(){t.c(),l=H()},l(o){t.l(o),l=H()},m(o,_){r[e].m(o,_),I(o,l,_),a=!0},p(o,_){let p=e;e=c(o),e===p?r[e].p(o,_):(ee(),D(r[p],1,1,()=>{r[p]=null}),te(),t=r[e],t?t.p(o,_):(t=r[e]=i[e](o),t.c()),V(t,1),t.m(l.parentNode,l))},i(o){a||(V(t),a=!0)},o(o){D(t),a=!1},d(o){o&&f(l),r[e].d(o)}}}function vs(s){let e,t,l,a;const i=[$s,Cs],r=[];function c(o,_){return o[0].metadata_prov_stats?0:1}return e=c(s),t=r[e]=i[e](s),{c(){t.c(),l=H()},l(o){t.l(o),l=H()},m(o,_){r[e].m(o,_),I(o,l,_),a=!0},p(o,_){let p=e;e=c(o),e===p?r[e].p(o,_):(ee(),D(r[p],1,1,()=>{r[p]=null}),te(),t=r[e],t?t.p(o,_):(t=r[e]=i[e](o),t.c()),V(t,1),t.m(l.parentNode,l))},i(o){a||(V(t),a=!0)},o(o){D(t),a=!1},d(o){o&&f(l),r[e].d(o)}}}function bs(s){let e,t,l,a;const i=[ks,ws],r=[];function c(o,_){return o[0].metadata_exists?0:1}return e=c(s),t=r[e]=i[e](s),{c(){t.c(),l=H()},l(o){t.l(o),l=H()},m(o,_){r[e].m(o,_),I(o,l,_),a=!0},p(o,_){let p=e;e=c(o),e===p?r[e].p(o,_):(ee(),D(r[p],1,1,()=>{r[p]=null}),te(),t=r[e],t?t.p(o,_):(t=r[e]=i[e](o),t.c()),V(t,1),t.m(l.parentNode,l))},i(o){a||(V(t),a=!0)},o(o){D(t),a=!1},d(o){o&&f(l),r[e].d(o)}}}function An(s){let e=s[5],t,l,a=xn(s);return{c(){a.c(),t=H()},l(i){a.l(i),t=H()},m(i,r){a.m(i,r),I(i,t,r),l=!0},p(i,r){r&32&&Ot(e,e=i[5])?(ee(),D(a,1,1,O),te(),a=xn(i),a.c(),V(a,1),a.m(t.parentNode,t)):a.p(i,r)},i(i){l||(V(a),l=!0)},o(i){D(a),l=!1},d(i){i&&f(t),a.d(i)}}}function xn(s){let e,t,l;function a(r){s[10](r)}let i={foldertype:s[1],show_varinfos:!1};return s[5]!==void 0&&(i.selected_file=s[5]),e=new Yn({props:i}),Ye.push(()=>Je(e,"selected_file",a)),{c(){F(e.$$.fragment)},l(r){z(e.$$.fragment,r)},m(r,c){G(e,r,c),l=!0},p(r,c){const o={};c&2&&(o.foldertype=r[1]),!t&&c&32&&(t=!0,o.selected_file=r[5],We(()=>t=!1)),e.$set(o)},i(r){l||(V(e.$$.fragment,r),l=!0)},o(r){D(e.$$.fragment,r),l=!1},d(r){B(e,r)}}}function gs(s){let e;return{c(){e=T("currently no provenance data available")},l(t){e=j(t,"currently no provenance data available")},m(t,l){I(t,e,l)},p:O,i:O,o:O,d(t){t&&f(e)}}}function hs(s){let e,t,l,a,i,r="provenance",c,o,_,p;l=new Tn({});let g=s[0].metadata_prov_stats&&In(s);return{c(){e=u("button"),t=u("a"),F(l.$$.fragment),a=k(),i=u("div"),i.textContent=r,o=k(),g&&g.c(),_=H(),this.h()},l(v){e=d(v,"BUTTON",{class:!0});var h=E(e);t=d(h,"A",{href:!0,class:!0,title:!0});var N=E(t);z(l.$$.fragment,N),a=w(N),i=d(N,"DIV",{class:!0,"data-svelte-h":!0}),R(i)!=="svelte-19tiklx"&&(i.textContent=r),N.forEach(f),h.forEach(f),o=w(v),g&&g.l(v),_=H(),this.h()},h(){m(i,"class","ml-1 flex place-items-center justify-items-center"),m(t,"href",c=Ze+"/climate/get_temp_file?name="+s[0].filename+"&type="+s[1]+"&filetype=prov"),m(t,"class","flex"),m(t,"title","Download metadata file"),m(e,"class","ml-2 mr-1 max-h-[33px] p-1 flex items-center justify-center variant-filled-tertiary hover:bg-tertiary-900 rounded-md")},m(v,h){I(v,e,h),n(e,t),G(l,t,null),n(t,a),n(t,i),I(v,o,h),g&&g.m(v,h),I(v,_,h),p=!0},p(v,h){(!p||h&3&&c!==(c=Ze+"/climate/get_temp_file?name="+v[0].filename+"&type="+v[1]+"&filetype=prov"))&&m(t,"href",c),v[0].metadata_prov_stats?g?(g.p(v,h),h&1&&V(g,1)):(g=In(v),g.c(),V(g,1),g.m(_.parentNode,_)):g&&(ee(),D(g,1,1,()=>{g=null}),te())},i(v){p||(V(l.$$.fragment,v),V(g),p=!0)},o(v){D(l.$$.fragment,v),D(g),p=!1},d(v){v&&(f(e),f(o),f(_)),B(l),g&&g.d(v)}}}function In(s){let e,t,l,a;function i(o){s[8](o)}function r(o){s[9](o)}let c={in_main_page:s[2]};return s[0].metadata_prov!==void 0&&(c.metadata_prov=s[0].metadata_prov),s[0].metadata_prov_stats!==void 0&&(c.metadata_prov_stats=s[0].metadata_prov_stats),e=new ts({props:c}),Ye.push(()=>Je(e,"metadata_prov",i)),Ye.push(()=>Je(e,"metadata_prov_stats",r)),{c(){F(e.$$.fragment)},l(o){z(e.$$.fragment,o)},m(o,_){G(e,o,_),a=!0},p(o,_){const p={};_&4&&(p.in_main_page=o[2]),!t&&_&1&&(t=!0,p.metadata_prov=o[0].metadata_prov,We(()=>t=!1)),!l&&_&1&&(l=!0,p.metadata_prov_stats=o[0].metadata_prov_stats,We(()=>l=!1)),e.$set(p)},i(o){a||(V(e.$$.fragment,o),a=!0)},o(o){D(e.$$.fragment,o),a=!1},d(o){B(e,o)}}}function Cs(s){let e;return{c(){e=T("currently no related datasets available")},l(t){e=j(t,"currently no related datasets available")},m(t,l){I(t,e,l)},p:O,i:O,o:O,d(t){t&&f(e)}}}function $s(s){var A,x,M;let e,t,l="ℹ️ Available files based on this file",a,i,r,c,o,_="ℹ️ Available files used to create this file",p,g,v,h,N;return i=new jl({props:{data:(A=s[0].metadata_prov_stats)==null?void 0:A.base_for_entities,only_links:!0,in_main_page:s[2]}}),g=new jl({props:{data:(x=s[0].metadata_prov_stats)==null?void 0:x.source_entities,only_links:!0,in_main_page:s[2]}}),h=new jl({props:{data:(M=s[0].metadata_prov_stats)==null?void 0:M.result_entities,only_links:!0,in_main_page:s[2]}}),{c(){e=u("div"),t=u("h2"),t.textContent=l,a=k(),F(i.$$.fragment),r=k(),c=u("div"),o=u("h2"),o.textContent=_,p=k(),F(g.$$.fragment),v=k(),F(h.$$.fragment),this.h()},l(C){e=d(C,"DIV",{class:!0,id:!0});var $=E(e);t=d($,"H2",{class:!0,"data-svelte-h":!0}),R(t)!=="svelte-1yf5jay"&&(t.textContent=l),a=w($),z(i.$$.fragment,$),$.forEach(f),r=w(C),c=d(C,"DIV",{class:!0,id:!0});var b=E(c);o=d(b,"H2",{class:!0,"data-svelte-h":!0}),R(o)!=="svelte-1161htc"&&(o.textContent=_),p=w(b),z(g.$$.fragment,b),v=w(b),z(h.$$.fragment,b),b.forEach(f),this.h()},h(){m(t,"class","text-lg font-semibold mb-3 flex items-center gap-2 text-white"),m(e,"class","bg-box"),m(e,"id","base_for_entities_"+s[6]),m(o,"class","text-lg font-semibold mb-3 flex items-center gap-2 text-white"),m(c,"class","bg-box"),m(c,"id","base_for_entities_"+s[6])},m(C,$){I(C,e,$),n(e,t),n(e,a),G(i,e,null),I(C,r,$),I(C,c,$),n(c,o),n(c,p),G(g,c,null),n(c,v),G(h,c,null),N=!0},p(C,$){var Y,J,W;const b={};$&1&&(b.data=(Y=C[0].metadata_prov_stats)==null?void 0:Y.base_for_entities),$&4&&(b.in_main_page=C[2]),i.$set(b);const X={};$&1&&(X.data=(J=C[0].metadata_prov_stats)==null?void 0:J.source_entities),$&4&&(X.in_main_page=C[2]),g.$set(X);const Q={};$&1&&(Q.data=(W=C[0].metadata_prov_stats)==null?void 0:W.result_entities),$&4&&(Q.in_main_page=C[2]),h.$set(Q)},i(C){N||(V(i.$$.fragment,C),V(g.$$.fragment,C),V(h.$$.fragment,C),N=!0)},o(C){D(i.$$.fragment,C),D(g.$$.fragment,C),D(h.$$.fragment,C),N=!1},d(C){C&&(f(e),f(r),f(c)),B(i),B(g),B(h)}}}function ws(s){let e;return{c(){e=T("currently no metadata available")},l(t){e=j(t,"currently no metadata available")},m(t,l){I(t,e,l)},p:O,i:O,o:O,d(t){t&&f(e)}}}function ks(s){let e,t,l,a,i,r="metadata",c,o,_,p;l=new Tn({});let g=s[0].metadata&&s[0].metadata_show&&Dn(s);return{c(){e=u("button"),t=u("a"),F(l.$$.fragment),a=k(),i=u("div"),i.textContent=r,o=k(),g&&g.c(),_=H(),this.h()},l(v){e=d(v,"BUTTON",{class:!0});var h=E(e);t=d(h,"A",{href:!0,class:!0,title:!0});var N=E(t);z(l.$$.fragment,N),a=w(N),i=d(N,"DIV",{class:!0,"data-svelte-h":!0}),R(i)!=="svelte-xp3lgr"&&(i.textContent=r),N.forEach(f),h.forEach(f),o=w(v),g&&g.l(v),_=H(),this.h()},h(){m(i,"class","ml-1 flex place-items-center justify-items-center"),m(t,"href",c=Ze+"/climate/get_temp_file?name="+s[0].filename+"&type="+s[1]+"&filetype=meta"),m(t,"class","flex"),m(t,"title","Download metadata file"),m(e,"class","ml-2 mr-1 max-h-[33px] p-1 flex items-center justify-center variant-filled-tertiary hover:bg-tertiary-900 rounded-md")},m(v,h){I(v,e,h),n(e,t),G(l,t,null),n(t,a),n(t,i),I(v,o,h),g&&g.m(v,h),I(v,_,h),p=!0},p(v,h){(!p||h&3&&c!==(c=Ze+"/climate/get_temp_file?name="+v[0].filename+"&type="+v[1]+"&filetype=meta"))&&m(t,"href",c),v[0].metadata&&v[0].metadata_show?g?(g.p(v,h),h&1&&V(g,1)):(g=Dn(v),g.c(),V(g,1),g.m(_.parentNode,_)):g&&(ee(),D(g,1,1,()=>{g=null}),te())},i(v){p||(V(l.$$.fragment,v),V(g),p=!0)},o(v){D(l.$$.fragment,v),D(g),p=!1},d(v){v&&(f(e),f(o),f(_)),B(l),g&&g.d(v)}}}function Dn(s){let e,t;return e=new es({props:{data:s[0].metadata,in_main_page:s[2]}}),{c(){F(e.$$.fragment)},l(l){z(e.$$.fragment,l)},m(l,a){G(e,l,a),t=!0},p(l,a){const i={};a&1&&(i.data=l[0].metadata),a&4&&(i.in_main_page=l[2]),e.$set(i)},i(l){t||(V(e.$$.fragment,l),t=!0)},o(l){D(e.$$.fragment,l),t=!1},d(l){B(e,l)}}}function Es(s){let e,t,l,a;const i=[bs,vs,ps,cs],r=[];function c(o,_){return o[4]===0?0:o[4]===1?1:o[4]===2?2:o[4]===3?3:-1}return~(e=c(s))&&(t=r[e]=i[e](s)),{c(){t&&t.c(),l=H()},l(o){t&&t.l(o),l=H()},m(o,_){~e&&r[e].m(o,_),I(o,l,_),a=!0},p(o,_){let p=e;e=c(o),e===p?~e&&r[e].p(o,_):(t&&(ee(),D(r[p],1,1,()=>{r[p]=null}),te()),~e?(t=r[e],t?t.p(o,_):(t=r[e]=i[e](o),t.c()),V(t,1),t.m(l.parentNode,l)):t=null)},i(o){a||(V(t),a=!0)},o(o){D(t),a=!1},d(o){o&&f(l),~e&&r[e].d(o)}}}function Ns(s){let e,t,l,a,i,r,c,o=s[0].filename+"",_,p,g,v,h,N,A,x,M,C,$,b,X,Q="Variable",Y,J,W,Tl="Short Name:",za,et,Ct=s[0].metadata.file.short_variable_name+"",Ut,Fa,re,fe,Rl="Long Name:",Ha,tt,$t=s[0].metadata.file.long_name+"",Kt,Oa,_e,de,Ll="Unit:",Ua,at,wt=s[0].metadata.file.unit+"",Xt,Ka,ue,me,ql="Cell Method:",Xa,lt,kt=s[0].metadata.file.cell_methods+"",Qt,Qa,ce,pe,Bl="Global Min / Max:",Ya,ae,Et=La(s[0].metadata.file.global_min,2)+"",Yt,Ja,Nt=La(s[0].metadata.file.global_max,2)+"",Jt,Wa,ve,be,Gl="Experiment ID:",Za,nt,St=s[0].metadata.file.experiment_id+"",Wt,el,ge,he,zl="Bias Correction:",tl,st,Pt=s[0].metadata.file.bias_correction+"",Zt,al,Ce,$e,Fl="Indicator:",ll,ot,yt=s[0].metadata.file.indicator+"",ea,nl,we,Hl="Spatial",sl,ke,Ee,Ol="Resolution:",ol,it,Vt=s[0].metadata.file.nominal_resolution+"",ta,il,Ne,Ul="Time",rl,Se,Pe,Kl="Coverage:",fl,le,At=s[0].metadata.file.time_coverage_start+"",aa,_l,xt=s[0].metadata.file.time_coverage_end+"",la,dl,ye,Ve,Xl="Frequency:",ul,rt,It=s[0].metadata.file.frequency+"",na,ml,Ae,xe,Ql="Number of time steps:",cl,ft,Dt=s[0].metadata.file.num_time_steps+"",sa,pl,Ie,De,Yl="Units:",vl,_t,Mt=s[0].metadata.file.time_units+"",oa,bl,Me,je,Jl="Calendar:",gl,dt,jt=s[0].metadata.file.time_calendar+"",ia,hl,Te,Re,Wl="Resolution sfsfsdf:",Cl,ut,Tt=s[0].metadata.file.nominal_resolution+"",ra,$l,fa,_a,Le,Zl="File",wl,qe,Be,en="Format:",kl,mt,Rt=s[0].metadata.file.file_format+"",da,El,Ge,ze,tn="Size:",Nl,ct,Lt=Sn(s[0].metadata.file.file_size)+"",ua,Sl,Fe,He,an="Created:",Pl,pt,qt=s[0].metadata.file.birth_time+"",ma,yl,Oe,Ue,ln="Last Modified:",Vl,vt,Bt=s[0].metadata.file.last_modification_time+"",ca,Al,Z,ne,xl,Ke,nn="ℹ️ Cite as:",Il,bt,sn='<span class="font-bold text-blue-400">Reference:</span> <span>please contact the TIPPECC team</span>',Dl,se,Ml,Gt,pa,oe,L;r=new rs({});let U=s[0].metadata.file.climatology_bounds&&Pn(s),K=s[0].metadata.file.climatology_bounds_details&&yn(s);return ne=new os({props:{extent:[s[0].metadata.file.geospatial_lon_min,s[0].metadata.file.geospatial_lat_min,s[0].metadata.file.geospatial_lon_max,s[0].metadata.file.geospatial_lat_max]}}),se=new Wn({props:{file:s[0].metadata.file,in_main_page:!1}}),oe=new Zn({props:{labelledby:"Tabs for additional information",$$slots:{panel:[Es],default:[ms]},$$scope:{ctx:s}}}),{c(){e=u("br"),t=k(),l=u("div"),a=u("div"),i=u("h2"),F(r.$$.fragment),c=k(),_=T(o),p=k(),g=u("a"),v=T("Collection View"),N=k(),A=u("div"),x=u("span"),M=T(s[3]),C=k(),$=u("div"),b=u("div"),X=u("div"),X.textContent=Q,Y=k(),J=u("div"),W=u("span"),W.textContent=Tl,za=k(),et=u("span"),Ut=T(Ct),Fa=k(),re=u("div"),fe=u("span"),fe.textContent=Rl,Ha=k(),tt=u("span"),Kt=T($t),Oa=k(),_e=u("div"),de=u("span"),de.textContent=Ll,Ua=k(),at=u("span"),Xt=T(wt),Ka=k(),ue=u("div"),me=u("span"),me.textContent=ql,Xa=k(),lt=u("span"),Qt=T(kt),Qa=k(),ce=u("div"),pe=u("span"),pe.textContent=Bl,Ya=k(),ae=u("span"),Yt=T(Et),Ja=T(" / "),Jt=T(Nt),Wa=k(),ve=u("div"),be=u("span"),be.textContent=Gl,Za=k(),nt=u("span"),Wt=T(St),el=k(),ge=u("div"),he=u("span"),he.textContent=zl,tl=k(),st=u("span"),Zt=T(Pt),al=k(),Ce=u("div"),$e=u("span"),$e.textContent=Fl,ll=k(),ot=u("span"),ea=T(yt),nl=k(),we=u("div"),we.textContent=Hl,sl=k(),ke=u("div"),Ee=u("span"),Ee.textContent=Ol,ol=k(),it=u("span"),ta=T(Vt),il=k(),Ne=u("div"),Ne.textContent=Ul,rl=k(),Se=u("div"),Pe=u("span"),Pe.textContent=Kl,fl=k(),le=u("span"),aa=T(At),_l=T(" - "),la=T(xt),dl=k(),ye=u("div"),Ve=u("span"),Ve.textContent=Xl,ul=k(),rt=u("span"),na=T(It),ml=k(),Ae=u("div"),xe=u("span"),xe.textContent=Ql,cl=k(),ft=u("span"),sa=T(Dt),pl=k(),Ie=u("div"),De=u("span"),De.textContent=Yl,vl=k(),_t=u("span"),oa=T(Mt),bl=k(),Me=u("div"),je=u("span"),je.textContent=Jl,gl=k(),dt=u("span"),ia=T(jt),hl=k(),Te=u("div"),Re=u("span"),Re.textContent=Wl,Cl=k(),ut=u("span"),ra=T(Tt),$l=k(),U&&U.c(),fa=k(),K&&K.c(),_a=k(),Le=u("div"),Le.textContent=Zl,wl=k(),qe=u("div"),Be=u("span"),Be.textContent=en,kl=k(),mt=u("span"),da=T(Rt),El=k(),Ge=u("div"),ze=u("span"),ze.textContent=tn,Nl=k(),ct=u("span"),ua=T(Lt),Sl=k(),Fe=u("div"),He=u("span"),He.textContent=an,Pl=k(),pt=u("span"),ma=T(qt),yl=k(),Oe=u("div"),Ue=u("span"),Ue.textContent=ln,Vl=k(),vt=u("span"),ca=T(Bt),Al=k(),Z=u("div"),F(ne.$$.fragment),xl=k(),Ke=u("h2"),Ke.textContent=nn,Il=k(),bt=u("div"),bt.innerHTML=sn,Dl=k(),F(se.$$.fragment),Ml=k(),Gt=u("div"),pa=k(),F(oe.$$.fragment),this.h()},l(S){e=d(S,"BR",{}),t=w(S),l=d(S,"DIV",{class:!0});var y=E(l);a=d(y,"DIV",{class:!0});var Xe=E(a);i=d(Xe,"H2",{class:!0});var Qe=E(i);z(r.$$.fragment,Qe),c=w(Qe),_=j(Qe,o),Qe.forEach(f),p=w(Xe),g=d(Xe,"A",{href:!0,class:!0});var zt=E(g);v=j(zt,"Collection View"),zt.forEach(f),Xe.forEach(f),N=w(y),A=d(y,"DIV",{class:!0});var on=E(A);x=d(on,"SPAN",{class:!0});var rn=E(x);M=j(rn,s[3]),rn.forEach(f),on.forEach(f),C=w(y),$=d(y,"DIV",{class:!0});var va=E($);b=d(va,"DIV",{class:!0});var P=E(b);X=d(P,"DIV",{class:!0,"data-svelte-h":!0}),R(X)!=="svelte-1qkel0h"&&(X.textContent=Q),Y=w(P),J=d(P,"DIV",{});var ba=E(J);W=d(ba,"SPAN",{class:!0,"data-svelte-h":!0}),R(W)!=="svelte-1jfkrui"&&(W.textContent=Tl),za=w(ba),et=d(ba,"SPAN",{class:!0});var fn=E(et);Ut=j(fn,Ct),fn.forEach(f),ba.forEach(f),Fa=w(P),re=d(P,"DIV",{});var ga=E(re);fe=d(ga,"SPAN",{class:!0,"data-svelte-h":!0}),R(fe)!=="svelte-95x5vo"&&(fe.textContent=Rl),Ha=w(ga),tt=d(ga,"SPAN",{class:!0});var _n=E(tt);Kt=j(_n,$t),_n.forEach(f),ga.forEach(f),Oa=w(P),_e=d(P,"DIV",{});var ha=E(_e);de=d(ha,"SPAN",{class:!0,"data-svelte-h":!0}),R(de)!=="svelte-1riumd7"&&(de.textContent=Ll),Ua=w(ha),at=d(ha,"SPAN",{class:!0});var dn=E(at);Xt=j(dn,wt),dn.forEach(f),ha.forEach(f),Ka=w(P),ue=d(P,"DIV",{});var Ca=E(ue);me=d(Ca,"SPAN",{class:!0,"data-svelte-h":!0}),R(me)!=="svelte-1m5avlc"&&(me.textContent=ql),Xa=w(Ca),lt=d(Ca,"SPAN",{class:!0});var un=E(lt);Qt=j(un,kt),un.forEach(f),Ca.forEach(f),Qa=w(P),ce=d(P,"DIV",{});var $a=E(ce);pe=d($a,"SPAN",{class:!0,"data-svelte-h":!0}),R(pe)!=="svelte-v1003d"&&(pe.textContent=Bl),Ya=w($a),ae=d($a,"SPAN",{class:!0});var wa=E(ae);Yt=j(wa,Et),Ja=j(wa," / "),Jt=j(wa,Nt),wa.forEach(f),$a.forEach(f),Wa=w(P),ve=d(P,"DIV",{});var ka=E(ve);be=d(ka,"SPAN",{class:!0,"data-svelte-h":!0}),R(be)!=="svelte-1aemhv1"&&(be.textContent=Gl),Za=w(ka),nt=d(ka,"SPAN",{class:!0});var mn=E(nt);Wt=j(mn,St),mn.forEach(f),ka.forEach(f),el=w(P),ge=d(P,"DIV",{});var Ea=E(ge);he=d(Ea,"SPAN",{class:!0,"data-svelte-h":!0}),R(he)!=="svelte-yu4sta"&&(he.textContent=zl),tl=w(Ea),st=d(Ea,"SPAN",{class:!0});var cn=E(st);Zt=j(cn,Pt),cn.forEach(f),Ea.forEach(f),al=w(P),Ce=d(P,"DIV",{});var Na=E(Ce);$e=d(Na,"SPAN",{class:!0,"data-svelte-h":!0}),R($e)!=="svelte-18t9erc"&&($e.textContent=Fl),ll=w(Na),ot=d(Na,"SPAN",{class:!0});var pn=E(ot);ea=j(pn,yt),pn.forEach(f),Na.forEach(f),nl=w(P),we=d(P,"DIV",{class:!0,"data-svelte-h":!0}),R(we)!=="svelte-nmsyi9"&&(we.textContent=Hl),sl=w(P),ke=d(P,"DIV",{});var Sa=E(ke);Ee=d(Sa,"SPAN",{class:!0,"data-svelte-h":!0}),R(Ee)!=="svelte-1si6ldz"&&(Ee.textContent=Ol),ol=w(Sa),it=d(Sa,"SPAN",{class:!0});var vn=E(it);ta=j(vn,Vt),vn.forEach(f),Sa.forEach(f),il=w(P),Ne=d(P,"DIV",{class:!0,"data-svelte-h":!0}),R(Ne)!=="svelte-1hwy0rm"&&(Ne.textContent=Ul),rl=w(P),Se=d(P,"DIV",{});var Pa=E(Se);Pe=d(Pa,"SPAN",{class:!0,"data-svelte-h":!0}),R(Pe)!=="svelte-q5fozz"&&(Pe.textContent=Kl),fl=w(Pa),le=d(Pa,"SPAN",{class:!0});var ya=E(le);aa=j(ya,At),_l=j(ya," - "),la=j(ya,xt),ya.forEach(f),Pa.forEach(f),dl=w(P),ye=d(P,"DIV",{});var Va=E(ye);Ve=d(Va,"SPAN",{class:!0,"data-svelte-h":!0}),R(Ve)!=="svelte-pubmin"&&(Ve.textContent=Xl),ul=w(Va),rt=d(Va,"SPAN",{class:!0});var bn=E(rt);na=j(bn,It),bn.forEach(f),Va.forEach(f),ml=w(P),Ae=d(P,"DIV",{});var Aa=E(Ae);xe=d(Aa,"SPAN",{class:!0,"data-svelte-h":!0}),R(xe)!=="svelte-1ckaxst"&&(xe.textContent=Ql),cl=w(Aa),ft=d(Aa,"SPAN",{class:!0});var gn=E(ft);sa=j(gn,Dt),gn.forEach(f),Aa.forEach(f),pl=w(P),Ie=d(P,"DIV",{});var xa=E(Ie);De=d(xa,"SPAN",{class:!0,"data-svelte-h":!0}),R(De)!=="svelte-1ofm2ee"&&(De.textContent=Yl),vl=w(xa),_t=d(xa,"SPAN",{class:!0});var hn=E(_t);oa=j(hn,Mt),hn.forEach(f),xa.forEach(f),bl=w(P),Me=d(P,"DIV",{});var Ia=E(Me);je=d(Ia,"SPAN",{class:!0,"data-svelte-h":!0}),R(je)!=="svelte-1r37iff"&&(je.textContent=Jl),gl=w(Ia),dt=d(Ia,"SPAN",{class:!0});var Cn=E(dt);ia=j(Cn,jt),Cn.forEach(f),Ia.forEach(f),hl=w(P),Te=d(P,"DIV",{});var Da=E(Te);Re=d(Da,"SPAN",{class:!0,"data-svelte-h":!0}),R(Re)!=="svelte-pbrzny"&&(Re.textContent=Wl),Cl=w(Da),ut=d(Da,"SPAN",{class:!0});var $n=E(ut);ra=j($n,Tt),$n.forEach(f),Da.forEach(f),$l=w(P),U&&U.l(P),fa=w(P),K&&K.l(P),_a=w(P),Le=d(P,"DIV",{class:!0,"data-svelte-h":!0}),R(Le)!=="svelte-147jlv5"&&(Le.textContent=Zl),wl=w(P),qe=d(P,"DIV",{});var Ma=E(qe);Be=d(Ma,"SPAN",{class:!0,"data-svelte-h":!0}),R(Be)!=="svelte-1g3bwdk"&&(Be.textContent=en),kl=w(Ma),mt=d(Ma,"SPAN",{class:!0});var wn=E(mt);da=j(wn,Rt),wn.forEach(f),Ma.forEach(f),El=w(P),Ge=d(P,"DIV",{});var ja=E(Ge);ze=d(ja,"SPAN",{class:!0,"data-svelte-h":!0}),R(ze)!=="svelte-1s8sufe"&&(ze.textContent=tn),Nl=w(ja),ct=d(ja,"SPAN",{class:!0});var kn=E(ct);ua=j(kn,Lt),kn.forEach(f),ja.forEach(f),Sl=w(P),Fe=d(P,"DIV",{});var Ta=E(Fe);He=d(Ta,"SPAN",{class:!0,"data-svelte-h":!0}),R(He)!=="svelte-18jov5"&&(He.textContent=an),Pl=w(Ta),pt=d(Ta,"SPAN",{class:!0});var En=E(pt);ma=j(En,qt),En.forEach(f),Ta.forEach(f),yl=w(P),Oe=d(P,"DIV",{});var Ra=E(Oe);Ue=d(Ra,"SPAN",{class:!0,"data-svelte-h":!0}),R(Ue)!=="svelte-jq7tld"&&(Ue.textContent=ln),Vl=w(Ra),vt=d(Ra,"SPAN",{class:!0});var Nn=E(vt);ca=j(Nn,Bt),Nn.forEach(f),Ra.forEach(f),P.forEach(f),Al=w(va),Z=d(va,"DIV",{class:!0});var gt=E(Z);z(ne.$$.fragment,gt),xl=w(gt),Ke=d(gt,"H2",{class:!0,"data-svelte-h":!0}),R(Ke)!=="svelte-1367ifz"&&(Ke.textContent=nn),Il=w(gt),bt=d(gt,"DIV",{"data-svelte-h":!0}),R(bt)!=="svelte-1p0nu6r"&&(bt.innerHTML=sn),gt.forEach(f),va.forEach(f),Dl=w(y),z(se.$$.fragment,y),Ml=w(y),Gt=d(y,"DIV",{class:!0}),E(Gt).forEach(f),y.forEach(f),pa=w(S),z(oe.$$.fragment,S),this.h()},h(){m(i,"class","text-lg text-label font-semibold flex items-center gap-2"),m(g,"href",h="/climate_services_gateway/collections/?type="+s[1]+"&filename="+s[0].filename),m(g,"class","px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600"),m(a,"class","flex items-center justify-between mb-3"),m(x,"class","font-semibold"),m(A,"class","dark:bg-surface-700 rounded-lg p-4"),m(X,"class","font-bold text-lg"),m(W,"class","font-bold ml-4 text-blue-400"),m(et,"class","ml-2"),m(fe,"class","font-bold ml-4 text-blue-400"),m(tt,"class","ml-2"),m(de,"class","font-bold ml-4 text-blue-400"),m(at,"class","ml-2"),m(me,"class","font-bold ml-4 text-blue-400"),m(lt,"class","ml-2"),m(pe,"class","font-bold ml-4 text-blue-400"),m(ae,"class",""),m(be,"class","font-bold ml-4 text-blue-400"),m(nt,"class","ml-2"),m(he,"class","font-bold ml-4 text-blue-400"),m(st,"class","ml-2"),m($e,"class","font-bold ml-4 text-blue-400"),m(ot,"class","ml-2"),m(we,"class","font-bold text-lg mt-4"),m(Ee,"class","font-bold ml-4 text-blue-400"),m(it,"class","ml-2"),m(Ne,"class","font-bold text-lg mt-4"),m(Pe,"class","font-bold ml-4 text-blue-400"),m(le,"class","ml-2"),m(Ve,"class","font-bold ml-4 text-blue-400"),m(rt,"class","ml-2"),m(xe,"class","font-bold ml-4 text-blue-400"),m(ft,"class","ml-2"),m(De,"class","font-bold ml-4 text-blue-400"),m(_t,"class","ml-2"),m(je,"class","font-bold ml-4 text-blue-400"),m(dt,"class","ml-2"),m(Re,"class","font-bold ml-4 text-blue-400"),m(ut,"class","ml-2"),m(Le,"class","font-bold text-lg mt-4"),m(Be,"class","font-bold ml-4 text-blue-400"),m(mt,"class","ml-2"),m(ze,"class","font-bold ml-4 text-blue-400"),m(ct,"class","ml-2"),m(He,"class","font-bold ml-4 text-blue-400"),m(pt,"class","ml-2"),m(Ue,"class","ffont-bold ml-4"),m(vt,"class","ml-2"),m(b,"class","p-4"),m(Ke,"class","text-lg font-semibold mb-3 flex items-center gap-2"),m(Z,"class","p-4"),m($,"class","grid grid-cols-1 md:grid-cols-2 gap-y-2 gap-x-4 mt-4 bg-surface-200 dark:bg-surface-800 rounded-lg"),m(Gt,"class","grid grid-cols-1 md:grid-cols-2 gap-y-2 gap-x-4 text-zinc-200 mt-3"),m(l,"class","")},m(S,y){I(S,e,y),I(S,t,y),I(S,l,y),n(l,a),n(a,i),G(r,i,null),n(i,c),n(i,_),n(a,p),n(a,g),n(g,v),n(l,N),n(l,A),n(A,x),n(x,M),n(l,C),n(l,$),n($,b),n(b,X),n(b,Y),n(b,J),n(J,W),n(J,za),n(J,et),n(et,Ut),n(b,Fa),n(b,re),n(re,fe),n(re,Ha),n(re,tt),n(tt,Kt),n(b,Oa),n(b,_e),n(_e,de),n(_e,Ua),n(_e,at),n(at,Xt),n(b,Ka),n(b,ue),n(ue,me),n(ue,Xa),n(ue,lt),n(lt,Qt),n(b,Qa),n(b,ce),n(ce,pe),n(ce,Ya),n(ce,ae),n(ae,Yt),n(ae,Ja),n(ae,Jt),n(b,Wa),n(b,ve),n(ve,be),n(ve,Za),n(ve,nt),n(nt,Wt),n(b,el),n(b,ge),n(ge,he),n(ge,tl),n(ge,st),n(st,Zt),n(b,al),n(b,Ce),n(Ce,$e),n(Ce,ll),n(Ce,ot),n(ot,ea),n(b,nl),n(b,we),n(b,sl),n(b,ke),n(ke,Ee),n(ke,ol),n(ke,it),n(it,ta),n(b,il),n(b,Ne),n(b,rl),n(b,Se),n(Se,Pe),n(Se,fl),n(Se,le),n(le,aa),n(le,_l),n(le,la),n(b,dl),n(b,ye),n(ye,Ve),n(ye,ul),n(ye,rt),n(rt,na),n(b,ml),n(b,Ae),n(Ae,xe),n(Ae,cl),n(Ae,ft),n(ft,sa),n(b,pl),n(b,Ie),n(Ie,De),n(Ie,vl),n(Ie,_t),n(_t,oa),n(b,bl),n(b,Me),n(Me,je),n(Me,gl),n(Me,dt),n(dt,ia),n(b,hl),n(b,Te),n(Te,Re),n(Te,Cl),n(Te,ut),n(ut,ra),n(b,$l),U&&U.m(b,null),n(b,fa),K&&K.m(b,null),n(b,_a),n(b,Le),n(b,wl),n(b,qe),n(qe,Be),n(qe,kl),n(qe,mt),n(mt,da),n(b,El),n(b,Ge),n(Ge,ze),n(Ge,Nl),n(Ge,ct),n(ct,ua),n(b,Sl),n(b,Fe),n(Fe,He),n(Fe,Pl),n(Fe,pt),n(pt,ma),n(b,yl),n(b,Oe),n(Oe,Ue),n(Oe,Vl),n(Oe,vt),n(vt,ca),n($,Al),n($,Z),G(ne,Z,null),n(Z,xl),n(Z,Ke),n(Z,Il),n(Z,bt),n(l,Dl),G(se,l,null),n(l,Ml),n(l,Gt),I(S,pa,y),G(oe,S,y),L=!0},p(S,[y]){(!L||y&1)&&o!==(o=S[0].filename+"")&&q(_,o),(!L||y&3&&h!==(h="/climate_services_gateway/collections/?type="+S[1]+"&filename="+S[0].filename))&&m(g,"href",h),(!L||y&8)&&q(M,S[3]),(!L||y&1)&&Ct!==(Ct=S[0].metadata.file.short_variable_name+"")&&q(Ut,Ct),(!L||y&1)&&$t!==($t=S[0].metadata.file.long_name+"")&&q(Kt,$t),(!L||y&1)&&wt!==(wt=S[0].metadata.file.unit+"")&&q(Xt,wt),(!L||y&1)&&kt!==(kt=S[0].metadata.file.cell_methods+"")&&q(Qt,kt),(!L||y&1)&&Et!==(Et=La(S[0].metadata.file.global_min,2)+"")&&q(Yt,Et),(!L||y&1)&&Nt!==(Nt=La(S[0].metadata.file.global_max,2)+"")&&q(Jt,Nt),(!L||y&1)&&St!==(St=S[0].metadata.file.experiment_id+"")&&q(Wt,St),(!L||y&1)&&Pt!==(Pt=S[0].metadata.file.bias_correction+"")&&q(Zt,Pt),(!L||y&1)&&yt!==(yt=S[0].metadata.file.indicator+"")&&q(ea,yt),(!L||y&1)&&Vt!==(Vt=S[0].metadata.file.nominal_resolution+"")&&q(ta,Vt),(!L||y&1)&&At!==(At=S[0].metadata.file.time_coverage_start+"")&&q(aa,At),(!L||y&1)&&xt!==(xt=S[0].metadata.file.time_coverage_end+"")&&q(la,xt),(!L||y&1)&&It!==(It=S[0].metadata.file.frequency+"")&&q(na,It),(!L||y&1)&&Dt!==(Dt=S[0].metadata.file.num_time_steps+"")&&q(sa,Dt),(!L||y&1)&&Mt!==(Mt=S[0].metadata.file.time_units+"")&&q(oa,Mt),(!L||y&1)&&jt!==(jt=S[0].metadata.file.time_calendar+"")&&q(ia,jt),(!L||y&1)&&Tt!==(Tt=S[0].metadata.file.nominal_resolution+"")&&q(ra,Tt),S[0].metadata.file.climatology_bounds?U?U.p(S,y):(U=Pn(S),U.c(),U.m(b,fa)):U&&(U.d(1),U=null),S[0].metadata.file.climatology_bounds_details?K?K.p(S,y):(K=yn(S),K.c(),K.m(b,_a)):K&&(K.d(1),K=null),(!L||y&1)&&Rt!==(Rt=S[0].metadata.file.file_format+"")&&q(da,Rt),(!L||y&1)&&Lt!==(Lt=Sn(S[0].metadata.file.file_size)+"")&&q(ua,Lt),(!L||y&1)&&qt!==(qt=S[0].metadata.file.birth_time+"")&&q(ma,qt),(!L||y&1)&&Bt!==(Bt=S[0].metadata.file.last_modification_time+"")&&q(ca,Bt);const Xe={};y&1&&(Xe.extent=[S[0].metadata.file.geospatial_lon_min,S[0].metadata.file.geospatial_lat_min,S[0].metadata.file.geospatial_lon_max,S[0].metadata.file.geospatial_lat_max]),ne.$set(Xe);const Qe={};y&1&&(Qe.file=S[0].metadata.file),se.$set(Qe);const zt={};y&32823&&(zt.$$scope={dirty:y,ctx:S}),oe.$set(zt)},i(S){L||(V(r.$$.fragment,S),V(ne.$$.fragment,S),V(se.$$.fragment,S),V(oe.$$.fragment,S),L=!0)},o(S){D(r.$$.fragment,S),D(ne.$$.fragment,S),D(se.$$.fragment,S),D(oe.$$.fragment,S),L=!1},d(S){S&&(f(e),f(t),f(l),f(pa)),B(r),U&&U.d(),K&&K.d(),B(ne),B(se),B(oe,S)}}}function ie(s){if(typeof s=="object"){const e=s[0].split("-")[0],t=s[1].split("-")[0];return e+" - "+t}else return s.split("-")[0]}function Ss(s,e,t){let l,{folder_data:a}=e,{file_obj:i}=e,{foldertype:r}=e,{in_main_page:c}=e;i!=null&&(a=a[i.index]);let o="No description available";if(!c)try{o=as(a.filename,r,a.metadata)}catch(C){console.log(C)}let _=Math.random().toString(36).substring(2,15),p=a.tabset;function g(C){s.$$.not_equal(a.metadata_prov,C)&&(a.metadata_prov=C,t(0,a))}function v(C){s.$$.not_equal(a.metadata_prov_stats,C)&&(a.metadata_prov_stats=C,t(0,a))}function h(C){l=C,t(5,l),t(0,a)}function N(C){p=C,t(4,p)}function A(C){p=C,t(4,p)}function x(C){p=C,t(4,p)}function M(C){p=C,t(4,p)}return s.$$set=C=>{"folder_data"in C&&t(0,a=C.folder_data),"file_obj"in C&&t(7,i=C.file_obj),"foldertype"in C&&t(1,r=C.foldertype),"in_main_page"in C&&t(2,c=C.in_main_page)},s.$$.update=()=>{s.$$.dirty&1&&t(5,l=a.filename)},[a,r,c,o,p,l,_,i,g,v,h,N,A,x,M]}class Ps extends Ba{constructor(e){super(),Ga(this,e,Ss,Ns,Ot,{folder_data:0,file_obj:7,foldertype:1,in_main_page:2})}}function Mn(s){let e,t;return e=new Ps({props:{folder_data:s[0],file_obj:Rn,foldertype:s[1],in_main_page:Vs}}),{c(){F(e.$$.fragment)},l(l){z(e.$$.fragment,l)},m(l,a){G(e,l,a),t=!0},p(l,a){const i={};a&1&&(i.folder_data=l[0]),a&2&&(i.foldertype=l[1]),e.$set(i)},i(l){t||(V(e.$$.fragment,l),t=!0)},o(l){D(e.$$.fragment,l),t=!1},d(l){B(e,l)}}}function ys(s){let e,t,l,a="File Information",i,r,c,o,_=`This page shows detailed information for a single file in the Climate Services Gateway. Download
		is currently only available via the collection view.`,p,g;r=new Ln({});let v=s[0]&&s[0].metadata&&Mn(s);return{c(){e=u("div"),t=u("div"),l=u("h1"),l.textContent=a,i=k(),F(r.$$.fragment),c=k(),o=u("blockquote"),o.textContent=_,p=k(),v&&v.c(),this.h()},l(h){e=d(h,"DIV",{class:!0});var N=E(e);t=d(N,"DIV",{class:!0});var A=E(t);l=d(A,"H1",{class:!0,"data-svelte-h":!0}),R(l)!=="svelte-1g9hp45"&&(l.textContent=a),i=w(A),z(r.$$.fragment,A),A.forEach(f),c=w(N),o=d(N,"BLOCKQUOTE",{class:!0,"data-svelte-h":!0}),R(o)!=="svelte-13yk7z6"&&(o.textContent=_),p=w(N),v&&v.l(N),N.forEach(f),this.h()},h(){m(l,"class","content-heading"),m(t,"class","flex"),m(o,"class","content-blockquote mb-4"),m(e,"class","content-div")},m(h,N){I(h,e,N),n(e,t),n(t,l),n(t,i),G(r,t,null),n(e,c),n(e,o),n(e,p),v&&v.m(e,null),g=!0},p(h,[N]){h[0]&&h[0].metadata?v?(v.p(h,N),N&1&&V(v,1)):(v=Mn(h),v.c(),V(v,1),v.m(e,null)):v&&(ee(),D(v,1,1,()=>{v=null}),te())},i(h){g||(V(r.$$.fragment,h),V(v),g=!0)},o(h){D(r.$$.fragment,h),D(v),g=!1},d(h){h&&f(e),B(r),v&&v.d()}}}const Rn=null,Vs=!1;function As(s,e,t){let l=[],a,i="",r="";async function c(_,p){t(0,a=await Jn(_,p)),console.log(a),o(p,_)}async function o(_,p){console.log("get_metadata_and_prov",_,p,Rn),t(0,a.tabset=0,a);const g=await fetch(Ze+"/climate/get_temp_file?name="+_+"&type="+p+"&filetype=meta",{method:"GET"});if(!g.ok)a.metadata||t(0,a.metadata={},a),t(0,a.metadata={"currently no metadata available":"for this file"},a),t(0,a.metadata_exists=!1,a),console.log(a.metadata);else{const N=await g.json();l=N,await ht(),a.metadata||t(0,a.metadata={},a),t(0,a.metadata_exists=!0,a),t(0,a.metadata=N,a),await ht(),console.log(l)}const v=await fetch(Ze+"/climate/get_temp_file?name="+_+"&type="+p+"&filetype=prov",{method:"GET"});if(!v.ok)a.metadata_prov||t(0,a.metadata_prov={},a),t(0,a.metadata_prov_exists=!1,a),t(0,a.metadata_prov={"currently no provenance information available":"for this file"},a),console.log(a.metadata_prov);else{const N=await v.json();l=N,await ht(),a.metadata_prov||t(0,a.metadata_prov={},a),t(0,a.metadata_prov_exists=!0,a),t(0,a.metadata_prov=N,a),await ht(),console.log(l)}const h=await fetch(Ze+"/climate/get_temp_file?name="+_+"&type="+p+"&filetype=prov_stats",{method:"GET"});if(!h.ok)a.metadata_prov_stats||t(0,a.metadata_prov_stats={},a),t(0,a.metadata_prov_stats_exists=!1,a),t(0,a.metadata_prov_stats={"currently no provenance information available":"for this file"},a),console.log(a.metadata_prov_stats);else{const N=await h.json();l=N,await ht(),a.metadata_prov_stats||t(0,a.metadata_prov_stats={},a),t(0,a.metadata_prov_stats_exists=!0,a),t(0,a.metadata_prov_stats=N,a),await ht(),console.log(l)}t(0,a.metadata_show=!0,a),history.pushState({},"","?type="+p+"&filename="+_)}jn(()=>{c(i,r),console.log(a)});{const _=new URLSearchParams(window.location.search),p=_.get("type");p&&t(1,i=p);const g=_.get("filename");g&&(r=g)}return[a,i]}class Ls extends Ba{constructor(e){super(),Ga(this,e,As,ys,Ot,{})}}export{Ls as component};
//# sourceMappingURL=12.C1c3AMcg.js.map
