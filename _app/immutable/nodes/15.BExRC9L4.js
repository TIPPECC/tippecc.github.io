import{S as de,i as pe,s as ve,n as Y,d as h,x as K,m as C,b as m,c as p,y as A,z as be,e as y,f as V,o as me,h as B,g as P,j as I,k as q,t as S,A as R,B as U,C as Z,a as H,D as he,E as J}from"../chunks/C6QoLNaY.js";import{e as L}from"../chunks/D6YF6ztN.js";import"../chunks/IHki7fMi.js";function $(o,l,e){const t=o.slice();return t[13]=l[e],t}function x(o,l,e){const t=o.slice();return t[16]=l[e][0],t[17]=l[e][1],t}function ee(o,l,e){const t=o.slice();return t[20]=l[e],t}function te(o,l,e){const t=o.slice();return t[16]=l[e][0],t[17]=l[e][1],t}function le(o,l,e){const t=o.slice();return t[20]=l[e],t}function ie(o){let l,e=L(Object.entries(o[1].facets)),t=[];for(let i=0;i<e.length;i+=1)t[i]=oe(te(o,e,i));return{c(){for(let i=0;i<t.length;i+=1)t[i].c();l=U()},l(i){for(let f=0;f<t.length;f+=1)t[f].l(i);l=U()},m(i,f){for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(i,f);m(i,l,f)},p(i,f){if(f&35){e=L(Object.entries(i[1].facets));let n;for(n=0;n<e.length;n+=1){const s=te(i,e,n);t[n]?t[n].p(s,f):(t[n]=oe(s),t[n].c(),t[n].m(l.parentNode,l))}for(;n<t.length;n+=1)t[n].d(1);t.length=e.length}},d(i){i&&h(l),R(t,i)}}}function ne(o){let l,e=o[16]+"",t,i,f,n,s,v=L(o[17]),r=[];for(let a=0;a<v.length;a+=1)r[a]=ae(le(o,v,a));return{c(){l=I("b"),t=S(e),i=q(),f=I("br"),n=q();for(let a=0;a<r.length;a+=1)r[a].c();s=U()},l(a){l=y(a,"B",{});var _=V(l);t=P(_,e),_.forEach(h),i=B(a),f=y(a,"BR",{}),n=B(a);for(let c=0;c<r.length;c+=1)r[c].l(a);s=U()},m(a,_){m(a,l,_),p(l,t),m(a,i,_),m(a,f,_),m(a,n,_);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(a,_);m(a,s,_)},p(a,_){if(_&2&&e!==(e=a[16]+"")&&H(t,e),_&35){v=L(a[17]);let c;for(c=0;c<v.length;c+=1){const g=le(a,v,c);r[c]?r[c].p(g,_):(r[c]=ae(g),r[c].c(),r[c].m(s.parentNode,s))}for(;c<r.length;c+=1)r[c].d(1);r.length=v.length}},d(a){a&&(h(l),h(i),h(f),h(n),h(s)),R(r,a)}}}function ae(o){let l,e,t,i=!1,f,n=o[20].name+"",s,v,r,a,_=o[20].count+"",c,g,k,j,d,u;return j=he(o[9][0]),{c(){l=I("div"),e=I("input"),f=S(`
							  `),s=S(n),v=q(),r=I("em"),a=S("("),c=S(_),g=S(")"),k=q(),this.h()},l(E){l=y(E,"DIV",{class:!0});var O=V(l);e=y(O,"INPUT",{type:!0}),f=P(O,`
							  `),s=P(O,n),v=B(O),r=y(O,"EM",{});var M=V(r);a=P(M,"("),c=P(M,_),g=P(M,")"),M.forEach(h),k=B(O),O.forEach(h),this.h()},h(){C(e,"type","checkbox"),e.__value=t=o[16]+"%"+o[20].name,J(e,e.__value),C(l,"class","pl-4"),j.p(e)},m(E,O){m(E,l,O),p(l,e),e.checked=~(o[0]||[]).indexOf(e.__value),p(l,f),p(l,s),p(l,v),p(l,r),p(r,a),p(r,c),p(r,g),p(l,k),d||(u=[A(e,"change",o[8]),A(e,"change",o[5])],d=!0)},p(E,O){O&2&&t!==(t=E[16]+"%"+E[20].name)&&(e.__value=t,J(e,e.__value),i=!0),(i||O&3)&&(e.checked=~(E[0]||[]).indexOf(e.__value)),O&2&&n!==(n=E[20].name+"")&&H(s,n),O&2&&_!==(_=E[20].count+"")&&H(c,_)},d(E){E&&h(l),j.r(),d=!1,K(u)}}}function oe(o){let l,e=o[16]!="file_id"&&o[16]!="title"&&ne(o);return{c(){e&&e.c(),l=U()},l(t){e&&e.l(t),l=U()},m(t,i){e&&e.m(t,i),m(t,l,i)},p(t,i){t[16]!="file_id"&&t[16]!="title"?e?e.p(t,i):(e=ne(t),e.c(),e.m(l.parentNode,l)):e&&(e.d(1),e=null)},d(t){t&&h(l),e&&e.d(t)}}}function fe(o){let l,e=L(Object.entries(o[1].facets)),t=[];for(let i=0;i<e.length;i+=1)t[i]=se(x(o,e,i));return{c(){for(let i=0;i<t.length;i+=1)t[i].c();l=U()},l(i){for(let f=0;f<t.length;f+=1)t[f].l(i);l=U()},m(i,f){for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(i,f);m(i,l,f)},p(i,f){if(f&35){e=L(Object.entries(i[1].facets));let n;for(n=0;n<e.length;n+=1){const s=x(i,e,n);t[n]?t[n].p(s,f):(t[n]=se(s),t[n].c(),t[n].m(l.parentNode,l))}for(;n<t.length;n+=1)t[n].d(1);t.length=e.length}},d(i){i&&h(l),R(t,i)}}}function re(o){let l,e=o[16]+"",t,i,f,n,s,v=L(o[17]),r=[];for(let a=0;a<v.length;a+=1)r[a]=ce(ee(o,v,a));return{c(){l=I("b"),t=S(e),i=q(),f=I("br"),n=q();for(let a=0;a<r.length;a+=1)r[a].c();s=U()},l(a){l=y(a,"B",{});var _=V(l);t=P(_,e),_.forEach(h),i=B(a),f=y(a,"BR",{}),n=B(a);for(let c=0;c<r.length;c+=1)r[c].l(a);s=U()},m(a,_){m(a,l,_),p(l,t),m(a,i,_),m(a,f,_),m(a,n,_);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(a,_);m(a,s,_)},p(a,_){if(_&2&&e!==(e=a[16]+"")&&H(t,e),_&35){v=L(a[17]);let c;for(c=0;c<v.length;c+=1){const g=ee(a,v,c);r[c]?r[c].p(g,_):(r[c]=ce(g),r[c].c(),r[c].m(s.parentNode,s))}for(;c<r.length;c+=1)r[c].d(1);r.length=v.length}},d(a){a&&(h(l),h(i),h(f),h(n),h(s)),R(r,a)}}}function ce(o){let l,e,t,i=!1,f,n=o[20].name+"",s,v,r,a,_,c,g,k,j;return g=he(o[9][0]),{c(){l=I("div"),e=I("input"),f=S(`
							  `),s=S(n),v=q(),r=I("a"),a=S("Download"),c=q(),this.h()},l(d){l=y(d,"DIV",{class:!0});var u=V(l);e=y(u,"INPUT",{type:!0}),f=P(u,`
							  `),s=P(u,n),v=B(u),r=y(u,"A",{href:!0});var E=V(r);a=P(E,"Download"),E.forEach(h),c=B(u),u.forEach(h),this.h()},h(){e.disabled=!0,C(e,"type","checkbox"),e.__value=t=o[16]+"%"+o[20].name,J(e,e.__value),C(r,"href",_="https://leutra.geogr.uni-jena.de/tippec_data/"+o[20].name.split("/")),C(l,"class","pl-4"),g.p(e)},m(d,u){m(d,l,u),p(l,e),e.checked=~(o[0]||[]).indexOf(e.__value),p(l,f),p(l,s),p(l,v),p(l,r),p(r,a),p(l,c),k||(j=[A(e,"change",o[10]),A(e,"change",o[5])],k=!0)},p(d,u){u&2&&t!==(t=d[16]+"%"+d[20].name)&&(e.__value=t,J(e,e.__value),i=!0),(i||u&3)&&(e.checked=~(d[0]||[]).indexOf(e.__value)),u&2&&n!==(n=d[20].name+"")&&H(s,n),u&2&&_!==(_="https://leutra.geogr.uni-jena.de/tippec_data/"+d[20].name.split("/"))&&C(r,"href",_)},d(d){d&&h(l),g.r(),k=!1,K(j)}}}function se(o){let l,e=o[16]=="title"&&re(o);return{c(){e&&e.c(),l=U()},l(t){e&&e.l(t),l=U()},m(t,i){e&&e.m(t,i),m(t,l,i)},p(t,i){t[16]=="title"?e?e.p(t,i):(e=re(t),e.c(),e.m(l.parentNode,l)):e&&(e.d(1),e=null)},d(t){t&&h(l),e&&e.d(t)}}}function _e(o){let l,e=L(o[1].hits),t=[];for(let i=0;i<e.length;i+=1)t[i]=ue($(o,e,i));return{c(){for(let i=0;i<t.length;i+=1)t[i].c();l=U()},l(i){for(let f=0;f<t.length;f+=1)t[f].l(i);l=U()},m(i,f){for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(i,f);m(i,l,f)},p(i,f){if(f&2){e=L(i[1].hits);let n;for(n=0;n<e.length;n+=1){const s=$(i,e,n);t[n]?t[n].p(s,f):(t[n]=ue(s),t[n].c(),t[n].m(l.parentNode,l))}for(;n<t.length;n+=1)t[n].d(1);t.length=e.length}},d(i){i&&h(l),R(t,i)}}}function ue(o){let l,e,t=o[13].title+"",i,f;return{c(){l=I("li"),e=S("Title: "),i=S(t),f=q()},l(n){l=y(n,"LI",{});var s=V(l);e=P(s,"Title: "),i=P(s,t),f=B(s),s.forEach(h)},m(n,s){m(n,l,s),p(l,e),p(l,i),p(l,f)},p(n,s){s&2&&t!==(t=n[13].title+"")&&H(i,t)},d(n){n&&h(l)}}}function ge(o){let l,e,t="<h1>Test Search Page</h1>",i,f,n,s,v,r,a,_,c,g,k,j,d,u,E,O,M,T=o[1].facets&&ie(o),D=o[1].facets&&fe(o),N=o[1].hits&&_e(o);return{c(){l=I("div"),e=I("div"),e.innerHTML=t,i=q(),f=I("div"),n=I("button"),s=S("Search"),r=q(),a=I("button"),_=S("Indicator"),g=q(),k=I("div"),j=I("div"),T&&T.c(),d=q(),u=I("div"),D&&D.c(),E=q(),N&&N.c(),this.h()},l(b){l=y(b,"DIV",{});var w=V(l);e=y(w,"DIV",{"data-svelte-h":!0}),me(e)!=="svelte-1gym4mq"&&(e.innerHTML=t),i=B(w),f=y(w,"DIV",{class:!0});var z=V(f);n=y(z,"BUTTON",{type:!0,class:!0});var Q=V(n);s=P(Q,"Search"),Q.forEach(h),r=B(z),a=y(z,"BUTTON",{type:!0,class:!0});var W=V(a);_=P(W,"Indicator"),W.forEach(h),z.forEach(h),w.forEach(h),g=B(b),k=y(b,"DIV",{style:!0});var F=V(k);j=y(F,"DIV",{});var X=V(j);T&&T.l(X),X.forEach(h),d=B(F),u=y(F,"DIV",{});var G=V(u);D&&D.l(G),E=B(G),N&&N.l(G),G.forEach(h),F.forEach(h),this.h()},h(){C(n,"type","button"),C(n,"class",v="btn variant-filled-tertiary "+o[2]),C(a,"type","button"),C(a,"class",c="btn variant-filled-tertiary "+o[3]),C(f,"class","btn-group variant-ghost-primary [&>*+*]:border-red-500 h-6"),be(k,"display","flex")},m(b,w){m(b,l,w),p(l,e),p(l,i),p(l,f),p(f,n),p(n,s),p(f,r),p(f,a),p(a,_),m(b,g,w),m(b,k,w),p(k,j),T&&T.m(j,null),p(k,d),p(k,u),D&&D.m(u,null),p(u,E),N&&N.m(u,null),O||(M=[A(n,"click",o[6]),A(a,"click",o[7])],O=!0)},p(b,[w]){w&4&&v!==(v="btn variant-filled-tertiary "+b[2])&&C(n,"class",v),w&8&&c!==(c="btn variant-filled-tertiary "+b[3])&&C(a,"class",c),b[1].facets?T?T.p(b,w):(T=ie(b),T.c(),T.m(j,null)):T&&(T.d(1),T=null),b[1].facets?D?D.p(b,w):(D=fe(b),D.c(),D.m(u,E)):D&&(D.d(1),D=null),b[1].hits?N?N.p(b,w):(N=_e(b),N.c(),N.m(u,null)):N&&(N.d(1),N=null)},i:Y,o:Y,d(b){b&&(h(l),h(g),h(k)),T&&T.d(),D&&D.d(),N&&N.d(),O=!1,K(M)}}}function ke(o,l,e){let t=[],i=[],f="",n="font-bold",s="",v="";r("collection"),a();function r(d){d=="collection"?(v="https://leutra.geogr.uni-jena.de/backend_geoportal/climate/search_collection?",e(3,s=""),e(2,n="font-bold"),e(0,t=[]),a()):d=="indicator"&&(v="https://leutra.geogr.uni-jena.de/backend_geoportal/climate/search_indicator?",e(2,n=""),e(3,s="font-bold"),e(0,t=[]),a())}async function a(){f="";for(let d=0;d<t.length;d++)f=f+"&"+t[d].replace("%","=");try{const d=await fetch(v+f);console.log(d);let u=[];if(!d.ok)throw new Error(`${d.status} ${d.statusText}`);return u=await d.json(),console.log("result",u),u.hasOwnProperty("hits")&&e(1,i.hits=u.hits,i),u.hasOwnProperty("facets")&&e(1,i.facets=u.facets,i),u.hasOwnProperty("facets_ordered")&&e(1,i.facets_ordered=u.facets_ordered,i),e(1,i),console.log("geo_data",i),u}catch(d){return console.log(d),[]}}const _=[[]],c=()=>r("collection"),g=()=>r("indicator");function k(){t=Z(_[0],this.__value,this.checked),e(0,t)}function j(){t=Z(_[0],this.__value,this.checked),e(0,t)}return[t,i,n,s,r,a,c,g,k,_,j]}class Oe extends de{constructor(l){super(),pe(this,l,ke,ge,ve,{})}}export{Oe as component};
//# sourceMappingURL=15.BExRC9L4.js.map
