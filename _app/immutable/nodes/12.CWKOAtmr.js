import{S as Ba,i as Ga,s as Ut,n as U,d as f,b as D,r as m,e as d,f as k,j as u,H as Ln,c as n,y as Ht,z as Ot,m as B,o as j,p as x,a as z,q as G,h as $,v as F,g as T,u as R,k as w,w as H,t as L,Q as Ye,R as We,T as Je,K as J,L as Z,D as O,P as Ct}from"../chunks/Dh7Go4Hy.js";import"../chunks/IHki7fMi.js";import{A as Ze}from"../chunks/BO6XNHuD.js";import{T as zn}from"../chunks/BMOaAjpc.js";import{M as Bn,V as Gn,b as Fn,O as Hn,P as On,F as Un,c as Kn,d as Xn,S as Qn,e as Yn,f as Wn,T as Jn,g as Zn}from"../chunks/BUNmW_f6.js";import"../chunks/CbyB5bVO.js";import{r as qa,s as yn,C as es,T as ts,a as za,D as Rn,P as Tl,M as as,b as ls}from"../chunks/CGA6ygWc.js";function ns(s,e,t){let l=t.file.long_name,a=t.file.frequency+"ly",i="None",r=!1,v="None",o="None",_="None",c="None",g="None",p=!1,b="";if(a=="dayly"&&(a="daily"),e.includes("vaal")?i="Vaal":e.includes("kunene")?i="Kunene":e.includes("luanginga")&&(i="Luanginga"),s.includes("_b_")&&(r=!0),e.includes("CORDEX")?(v="Cordex-Core",s.includes("REMO")?_="GERICS-REMO2015":s.includes("KIT")?_="KIT-CCLM5-0-15":s.includes("ICTP")&&(_="ICTP-RegCM4-7"),o=t.driving_model_id):e.includes("CMIP6")?(v="CMIP6",o=t.source_id):e.includes("ERA5")?v="Era5-Land":e.includes("GLEAM")&&(v="GLEAM"),s.includes("yearsum")||s.includes("yearmean")){a="annual aggregated";let E=s.match(/year(?:sum|mean)_(\d{4})_(\d{4})-(\d{4})_(\d{4})/),A=s.match(/year(?:sum|mean)_(\d{4}_\d{4})/);E?(g=`${E[1]}–${E[2]}`,c=`${E[3]}–${E[4]}`):A&&A&&(c=`${A[1]}–${A[2]}`)}if(s.includes("_mean_")){p=!0;let E=s.match(/_mean_(\d{4})_(\d{4})-(\d{4})_(\d{4})/),A=s.match(/_mean_(\d{4})_(\d{4})/);E?(g=`${E[1]}–${E[2]}`,c=`${E[3]}–${E[4]}`):A&&A&&(c=`${A[1]}–${A[2]}`)}return p&&(b+="mean value of "),a!="nonely"&&(b+=a+" data of "),b+=l+" ",v!="None"&&(b+="based on "+v+" ",o!="None"?b+=o+" global model ":b+="dataset ",_!="None"&&(b+="and "+_+" regional model "),r&&(b+="with bias correction "),c!="None"&&(b+="for time period "+c+" "),g!="None"&&(b+="compared to "+g+" "),i!="None"&&(b+="clipped to "+i+" study area ")),b=ss(b),b}function ss(s){return s?(s=s.trimEnd(),s=s.charAt(0).toUpperCase()+s.slice(1),s.endsWith(".")||(s+="."),s):""}function os(s){let e;return{c(){e=u("div"),this.h()},l(t){e=d(t,"DIV",{id:!0,class:!0}),k(e).forEach(f),this.h()},h(){m(e,"id","map"),m(e,"class","svelte-mjfcf6")},m(t,l){D(t,e,l)},p:U,i:U,o:U,d(t){t&&f(e)}}}function is(s,e,t){let{extent:l}=e;function a(i,r,v="EPSG:4326"){if(!i||!r||r.length!==4){console.error("Invalid map or extent");return}const[o,_,c,g]=r,p=new On([[[o,_],[o,g],[c,g],[c,_],[o,_]]]);p.transform(v,i.getView().getProjection());const b=new Un(p),E=new Kn({features:[b]}),A=new Xn({source:E,style:new Qn({stroke:new Wn({color:"rgba(255, 120, 0, 0.8)",width:2}),fill:new Yn({color:"rgba(255, 120, 0, 0.2)"})})});return i.addLayer(A),i.getView().fit(p,{padding:[20,20,20,20]}),A}return Ln(()=>{let i=new Bn({target:"map",layers:[new Fn({source:new Hn})],view:new Gn({center:[0,0],zoom:2,projection:"EPSG:3857"})});a(i,l)}),s.$$set=i=>{"extent"in i&&t(0,l=i.extent)},[l,a]}class rs extends Ba{constructor(e){super(),Ga(this,e,is,os,Ut,{extent:0,drawExtentBox:1})}get drawExtentBox(){return this.$$.ctx[1]}}function fs(s){let e,t,l,a,i;return{c(){e=Ot("svg"),t=Ot("g"),l=Ot("g"),a=Ot("g"),i=Ot("path"),this.h()},l(r){e=Ht(r,"svg",{width:!0,viewBox:!0,fill:!0,xmlns:!0});var v=k(e);t=Ht(v,"g",{id:!0,"stroke-width":!0}),k(t).forEach(f),l=Ht(v,"g",{id:!0,"stroke-linecap":!0,"stroke-linejoin":!0}),k(l).forEach(f),a=Ht(v,"g",{id:!0});var o=k(a);i=Ht(o,"path",{d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0}),k(i).forEach(f),o.forEach(f),v.forEach(f),this.h()},h(){m(t,"id","SVGRepo_bgCarrier"),m(t,"stroke-width","0"),m(l,"id","SVGRepo_tracerCarrier"),m(l,"stroke-linecap","round"),m(l,"stroke-linejoin","round"),m(i,"d","M17 18V21M17 15H17.01M13 3V7.4C13 7.96005 13 8.24008 13.109 8.45399C13.2049 8.64215 13.3578 8.79513 13.546 8.89101C13.7599 9 14.0399 9 14.6 9H19M13 3H8.2C7.0799 3 6.51984 3 6.09202 3.21799C5.71569 3.40973 5.40973 3.71569 5.21799 4.09202C5 4.51984 5 5.0799 5 6.2V17.8C5 18.9201 5 19.4802 5.21799 19.908C5.40973 20.2843 5.71569 20.5903 6.09202 20.782C6.51984 21 7.0799 21 8.2 21H13M13 3L19 9M19 9V11.5"),m(i,"stroke","currentColor"),m(i,"stroke-width","2"),m(i,"stroke-linecap","round"),m(i,"stroke-linejoin","round"),m(a,"id","SVGRepo_iconCarrier"),m(e,"width","30px"),m(e,"viewBox","0 0 24 24"),m(e,"fill","none"),m(e,"xmlns","http://www.w3.org/2000/svg")},m(r,v){D(r,e,v),n(e,t),n(e,l),n(e,a),n(a,i)},p:U,i:U,o:U,d(r){r&&f(e)}}}class _s extends Ba{constructor(e){super(),Ga(this,e,null,fs,Ut,{})}}function Vn(s){let e,t,l="Climatology Bounds Start:",a,i,r=oe(s[0].metadata.file.climatology_bounds[0][0])+"",v,o,_,c,g="Climatology Bounds End:",p,b,E=oe(s[0].metadata.file.climatology_bounds[0][1])+"",A;return{c(){e=u("div"),t=u("span"),t.textContent=l,a=w(),i=u("span"),v=L(r),o=w(),_=u("div"),c=u("span"),c.textContent=g,p=w(),b=u("span"),A=L(E),this.h()},l(I){e=d(I,"DIV",{});var M=k(e);t=d(M,"SPAN",{class:!0,"data-svelte-h":!0}),R(t)!=="svelte-99av7i"&&(t.textContent=l),a=$(M),i=d(M,"SPAN",{class:!0});var h=k(i);v=T(h,r),h.forEach(f),M.forEach(f),o=$(I),_=d(I,"DIV",{});var C=k(_);c=d(C,"SPAN",{class:!0,"data-svelte-h":!0}),R(c)!=="svelte-1gu05yd"&&(c.textContent=g),p=$(C),b=d(C,"SPAN",{class:!0});var V=k(b);A=T(V,E),V.forEach(f),C.forEach(f),this.h()},h(){m(t,"class","font-bold ml-4 text-blue-400"),m(i,"class","ml-2"),m(c,"class","font-bold ml-4 text-blue-400"),m(b,"class","ml-2")},m(I,M){D(I,e,M),n(e,t),n(e,a),n(e,i),n(i,v),D(I,o,M),D(I,_,M),n(_,c),n(_,p),n(_,b),n(b,A)},p(I,M){M&1&&r!==(r=oe(I[0].metadata.file.climatology_bounds[0][0])+"")&&z(v,r),M&1&&E!==(E=oe(I[0].metadata.file.climatology_bounds[0][1])+"")&&z(A,E)},d(I){I&&(f(e),f(o),f(_))}}}function xn(s){let e,t,l="Climatology Bounds 1st Period:",a,i,r=oe(s[0].metadata.file.climatology_bounds_details[0])+"",v,o,_,c,g="Climatology Bounds 2nd Period:",p,b,E=oe(s[0].metadata.file.climatology_bounds_details[1])+"",A;return{c(){e=u("div"),t=u("span"),t.textContent=l,a=w(),i=u("span"),v=L(r),o=w(),_=u("div"),c=u("span"),c.textContent=g,p=w(),b=u("span"),A=L(E),this.h()},l(I){e=d(I,"DIV",{});var M=k(e);t=d(M,"SPAN",{class:!0,"data-svelte-h":!0}),R(t)!=="svelte-zha96v"&&(t.textContent=l),a=$(M),i=d(M,"SPAN",{class:!0});var h=k(i);v=T(h,r),h.forEach(f),M.forEach(f),o=$(I),_=d(I,"DIV",{});var C=k(_);c=d(C,"SPAN",{class:!0,"data-svelte-h":!0}),R(c)!=="svelte-1ox1kwb"&&(c.textContent=g),p=$(C),b=d(C,"SPAN",{class:!0});var V=k(b);A=T(V,E),V.forEach(f),C.forEach(f),this.h()},h(){m(t,"class","font-bold ml-4 text-blue-400"),m(i,"class","ml-2"),m(c,"class","font-bold ml-4 text-blue-400"),m(b,"class","ml-2")},m(I,M){D(I,e,M),n(e,t),n(e,a),n(e,i),n(i,v),D(I,o,M),D(I,_,M),n(_,c),n(_,p),n(_,b),n(b,A)},p(I,M){M&1&&r!==(r=oe(I[0].metadata.file.climatology_bounds_details[0])+"")&&z(v,r),M&1&&E!==(E=oe(I[0].metadata.file.climatology_bounds_details[1])+"")&&z(A,E)},d(I){I&&(f(e),f(o),f(_))}}}function ds(s){let e,t="Other Metadata";return{c(){e=u("span"),e.textContent=t},l(l){e=d(l,"SPAN",{"data-svelte-h":!0}),R(e)!=="svelte-14jvd71"&&(e.textContent=t)},m(l,a){D(l,e,a)},p:U,d(l){l&&f(e)}}}function us(s){let e;return{c(){e=L("Related Datasets")},l(t){e=T(t,"Related Datasets")},m(t,l){D(t,e,l)},d(t){t&&f(e)}}}function ms(s){let e;return{c(){e=L("Provenance")},l(t){e=T(t,"Provenance")},m(t,l){D(t,e,l)},d(t){t&&f(e)}}}function An(s){let e,t,l;function a(r){s[14](r)}let i={name:"tab4",value:3,title:"Map",$$slots:{default:[cs]},$$scope:{ctx:s}};return s[4]!==void 0&&(i.group=s[4]),e=new za({props:i}),Ye.push(()=>We(e,"group",a)),{c(){H(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,v){G(e,r,v),l=!0},p(r,v){const o={};v&32768&&(o.$$scope={dirty:v,ctx:r}),!t&&v&16&&(t=!0,o.group=r[4],Je(()=>t=!1)),e.$set(o)},i(r){l||(x(e.$$.fragment,r),l=!0)},o(r){j(e.$$.fragment,r),l=!1},d(r){B(e,r)}}}function cs(s){let e;return{c(){e=L("Map")},l(t){e=T(t,"Map")},m(t,l){D(t,e,l)},d(t){t&&f(e)}}}function ps(s){let e,t,l,a,i,r,v,o,_,c,g;function p(C){s[11](C)}let b={name:"tab1",value:0,title:"Other Metadata",$$slots:{default:[ds]},$$scope:{ctx:s}};s[4]!==void 0&&(b.group=s[4]),e=new za({props:b}),Ye.push(()=>We(e,"group",p));function E(C){s[12](C)}let A={name:"tab1",value:1,title:"Related Datasets",$$slots:{default:[us]},$$scope:{ctx:s}};s[4]!==void 0&&(A.group=s[4]),a=new za({props:A}),Ye.push(()=>We(a,"group",E));function I(C){s[13](C)}let M={name:"tab2",value:2,title:"Provenance",$$slots:{default:[ms]},$$scope:{ctx:s}};s[4]!==void 0&&(M.group=s[4]),v=new za({props:M}),Ye.push(()=>We(v,"group",I));let h=s[0].tif_convertable&&An(s);return{c(){H(e.$$.fragment),l=w(),H(a.$$.fragment),r=w(),H(v.$$.fragment),_=w(),h&&h.c(),c=O()},l(C){F(e.$$.fragment,C),l=$(C),F(a.$$.fragment,C),r=$(C),F(v.$$.fragment,C),_=$(C),h&&h.l(C),c=O()},m(C,V){G(e,C,V),D(C,l,V),G(a,C,V),D(C,r,V),G(v,C,V),D(C,_,V),h&&h.m(C,V),D(C,c,V),g=!0},p(C,V){const N={};V&32768&&(N.$$scope={dirty:V,ctx:C}),!t&&V&16&&(t=!0,N.group=C[4],Je(()=>t=!1)),e.$set(N);const Q={};V&32768&&(Q.$$scope={dirty:V,ctx:C}),!i&&V&16&&(i=!0,Q.group=C[4],Je(()=>i=!1)),a.$set(Q);const ee={};V&32768&&(ee.$$scope={dirty:V,ctx:C}),!o&&V&16&&(o=!0,ee.group=C[4],Je(()=>o=!1)),v.$set(ee),C[0].tif_convertable?h?(h.p(C,V),V&1&&x(h,1)):(h=An(C),h.c(),x(h,1),h.m(c.parentNode,c)):h&&(J(),j(h,1,1,()=>{h=null}),Z())},i(C){g||(x(e.$$.fragment,C),x(a.$$.fragment,C),x(v.$$.fragment,C),x(h),g=!0)},o(C){j(e.$$.fragment,C),j(a.$$.fragment,C),j(v.$$.fragment,C),j(h),g=!1},d(C){C&&(f(l),f(r),f(_),f(c)),B(e,C),B(a,C),B(v,C),h&&h.d(C)}}}function vs(s){let e,t,l=s[5]&&s[5]!=""&&In(s);return{c(){l&&l.c(),e=O()},l(a){l&&l.l(a),e=O()},m(a,i){l&&l.m(a,i),D(a,e,i),t=!0},p(a,i){a[5]&&a[5]!=""?l?(l.p(a,i),i&32&&x(l,1)):(l=In(a),l.c(),x(l,1),l.m(e.parentNode,e)):l&&(J(),j(l,1,1,()=>{l=null}),Z())},i(a){t||(x(l),t=!0)},o(a){j(l),t=!1},d(a){a&&f(e),l&&l.d(a)}}}function bs(s){let e,t,l,a;const i=[$s,Cs],r=[];function v(o,_){return o[0].metadata_prov_exists&&o[0].metadata_show?0:1}return e=v(s),t=r[e]=i[e](s),{c(){t.c(),l=O()},l(o){t.l(o),l=O()},m(o,_){r[e].m(o,_),D(o,l,_),a=!0},p(o,_){let c=e;e=v(o),e===c?r[e].p(o,_):(J(),j(r[c],1,1,()=>{r[c]=null}),Z(),t=r[e],t?t.p(o,_):(t=r[e]=i[e](o),t.c()),x(t,1),t.m(l.parentNode,l))},i(o){a||(x(t),a=!0)},o(o){j(t),a=!1},d(o){o&&f(l),r[e].d(o)}}}function gs(s){let e,t,l,a;const i=[ks,ws],r=[];function v(o,_){return o[0].metadata_prov_stats?0:1}return e=v(s),t=r[e]=i[e](s),{c(){t.c(),l=O()},l(o){t.l(o),l=O()},m(o,_){r[e].m(o,_),D(o,l,_),a=!0},p(o,_){let c=e;e=v(o),e===c?r[e].p(o,_):(J(),j(r[c],1,1,()=>{r[c]=null}),Z(),t=r[e],t?t.p(o,_):(t=r[e]=i[e](o),t.c()),x(t,1),t.m(l.parentNode,l))},i(o){a||(x(t),a=!0)},o(o){j(t),a=!1},d(o){o&&f(l),r[e].d(o)}}}function hs(s){let e,t,l,a;const i=[Ns,Es],r=[];function v(o,_){return o[0].metadata_exists?0:1}return e=v(s),t=r[e]=i[e](s),{c(){t.c(),l=O()},l(o){t.l(o),l=O()},m(o,_){r[e].m(o,_),D(o,l,_),a=!0},p(o,_){let c=e;e=v(o),e===c?r[e].p(o,_):(J(),j(r[c],1,1,()=>{r[c]=null}),Z(),t=r[e],t?t.p(o,_):(t=r[e]=i[e](o),t.c()),x(t,1),t.m(l.parentNode,l))},i(o){a||(x(t),a=!0)},o(o){j(t),a=!1},d(o){o&&f(l),r[e].d(o)}}}function In(s){let e=s[5],t,l,a=Dn(s);return{c(){a.c(),t=O()},l(i){a.l(i),t=O()},m(i,r){a.m(i,r),D(i,t,r),l=!0},p(i,r){r&32&&Ut(e,e=i[5])?(J(),j(a,1,1,U),Z(),a=Dn(i),a.c(),x(a,1),a.m(t.parentNode,t)):a.p(i,r)},i(i){l||(x(a),l=!0)},o(i){j(a),l=!1},d(i){i&&f(t),a.d(i)}}}function Dn(s){let e,t,l;function a(r){s[10](r)}let i={foldertype:s[1],show_varinfos:!1};return s[5]!==void 0&&(i.selected_file=s[5]),e=new Jn({props:i}),Ye.push(()=>We(e,"selected_file",a)),{c(){H(e.$$.fragment)},l(r){F(e.$$.fragment,r)},m(r,v){G(e,r,v),l=!0},p(r,v){const o={};v&2&&(o.foldertype=r[1]),!t&&v&32&&(t=!0,o.selected_file=r[5],Je(()=>t=!1)),e.$set(o)},i(r){l||(x(e.$$.fragment,r),l=!0)},o(r){j(e.$$.fragment,r),l=!1},d(r){B(e,r)}}}function Cs(s){let e;return{c(){e=L("currently no provenance data available")},l(t){e=T(t,"currently no provenance data available")},m(t,l){D(t,e,l)},p:U,i:U,o:U,d(t){t&&f(e)}}}function $s(s){let e,t,l,a,i,r="provenance",v,o,_,c;l=new Rn({});let g=s[0].metadata_prov_stats&&Mn(s);return{c(){e=u("button"),t=u("a"),H(l.$$.fragment),a=w(),i=u("div"),i.textContent=r,o=w(),g&&g.c(),_=O(),this.h()},l(p){e=d(p,"BUTTON",{class:!0});var b=k(e);t=d(b,"A",{href:!0,class:!0,title:!0});var E=k(t);F(l.$$.fragment,E),a=$(E),i=d(E,"DIV",{class:!0,"data-svelte-h":!0}),R(i)!=="svelte-19tiklx"&&(i.textContent=r),E.forEach(f),b.forEach(f),o=$(p),g&&g.l(p),_=O(),this.h()},h(){m(i,"class","ml-1 flex place-items-center justify-items-center"),m(t,"href",v=Ze+"/climate/get_temp_file?name="+s[0].filename+"&type="+s[1]+"&filetype=prov"),m(t,"class","flex"),m(t,"title","Download metadata file"),m(e,"class","ml-2 mr-1 max-h-[33px] p-1 flex items-center justify-center variant-filled-tertiary hover:bg-tertiary-900 rounded-md")},m(p,b){D(p,e,b),n(e,t),G(l,t,null),n(t,a),n(t,i),D(p,o,b),g&&g.m(p,b),D(p,_,b),c=!0},p(p,b){(!c||b&3&&v!==(v=Ze+"/climate/get_temp_file?name="+p[0].filename+"&type="+p[1]+"&filetype=prov"))&&m(t,"href",v),p[0].metadata_prov_stats?g?(g.p(p,b),b&1&&x(g,1)):(g=Mn(p),g.c(),x(g,1),g.m(_.parentNode,_)):g&&(J(),j(g,1,1,()=>{g=null}),Z())},i(p){c||(x(l.$$.fragment,p),x(g),c=!0)},o(p){j(l.$$.fragment,p),j(g),c=!1},d(p){p&&(f(e),f(o),f(_)),B(l),g&&g.d(p)}}}function Mn(s){let e,t,l,a;function i(o){s[8](o)}function r(o){s[9](o)}let v={in_main_page:s[2]};return s[0].metadata_prov!==void 0&&(v.metadata_prov=s[0].metadata_prov),s[0].metadata_prov_stats!==void 0&&(v.metadata_prov_stats=s[0].metadata_prov_stats),e=new ls({props:v}),Ye.push(()=>We(e,"metadata_prov",i)),Ye.push(()=>We(e,"metadata_prov_stats",r)),{c(){H(e.$$.fragment)},l(o){F(e.$$.fragment,o)},m(o,_){G(e,o,_),a=!0},p(o,_){const c={};_&4&&(c.in_main_page=o[2]),!t&&_&1&&(t=!0,c.metadata_prov=o[0].metadata_prov,Je(()=>t=!1)),!l&&_&1&&(l=!0,c.metadata_prov_stats=o[0].metadata_prov_stats,Je(()=>l=!1)),e.$set(c)},i(o){a||(x(e.$$.fragment,o),a=!0)},o(o){j(e.$$.fragment,o),a=!1},d(o){B(e,o)}}}function ws(s){let e;return{c(){e=L("currently no related datasets available")},l(t){e=T(t,"currently no related datasets available")},m(t,l){D(t,e,l)},p:U,i:U,o:U,d(t){t&&f(e)}}}function ks(s){var A,I,M;let e,t,l="ℹ️ Available files based on this file",a,i,r,v,o,_="ℹ️ Available files used to create this file",c,g,p,b,E;return i=new Tl({props:{data:(A=s[0].metadata_prov_stats)==null?void 0:A.base_for_entities,only_links:!0,in_main_page:s[2]}}),g=new Tl({props:{data:(I=s[0].metadata_prov_stats)==null?void 0:I.source_entities,only_links:!0,in_main_page:s[2]}}),b=new Tl({props:{data:(M=s[0].metadata_prov_stats)==null?void 0:M.result_entities,only_links:!0,in_main_page:s[2]}}),{c(){e=u("div"),t=u("h2"),t.textContent=l,a=w(),H(i.$$.fragment),r=w(),v=u("div"),o=u("h2"),o.textContent=_,c=w(),H(g.$$.fragment),p=w(),H(b.$$.fragment),this.h()},l(h){e=d(h,"DIV",{class:!0,id:!0});var C=k(e);t=d(C,"H2",{class:!0,"data-svelte-h":!0}),R(t)!=="svelte-1yf5jay"&&(t.textContent=l),a=$(C),F(i.$$.fragment,C),C.forEach(f),r=$(h),v=d(h,"DIV",{class:!0,id:!0});var V=k(v);o=d(V,"H2",{class:!0,"data-svelte-h":!0}),R(o)!=="svelte-1161htc"&&(o.textContent=_),c=$(V),F(g.$$.fragment,V),p=$(V),F(b.$$.fragment,V),V.forEach(f),this.h()},h(){m(t,"class","text-lg font-semibold mb-3 flex items-center gap-2 text-white"),m(e,"class","bg-box"),m(e,"id","base_for_entities_"+s[6]),m(o,"class","text-lg font-semibold mb-3 flex items-center gap-2 text-white"),m(v,"class","bg-box"),m(v,"id","base_for_entities_"+s[6])},m(h,C){D(h,e,C),n(e,t),n(e,a),G(i,e,null),D(h,r,C),D(h,v,C),n(v,o),n(v,c),G(g,v,null),n(v,p),G(b,v,null),E=!0},p(h,C){var ee,et,Y;const V={};C&1&&(V.data=(ee=h[0].metadata_prov_stats)==null?void 0:ee.base_for_entities),C&4&&(V.in_main_page=h[2]),i.$set(V);const N={};C&1&&(N.data=(et=h[0].metadata_prov_stats)==null?void 0:et.source_entities),C&4&&(N.in_main_page=h[2]),g.$set(N);const Q={};C&1&&(Q.data=(Y=h[0].metadata_prov_stats)==null?void 0:Y.result_entities),C&4&&(Q.in_main_page=h[2]),b.$set(Q)},i(h){E||(x(i.$$.fragment,h),x(g.$$.fragment,h),x(b.$$.fragment,h),E=!0)},o(h){j(i.$$.fragment,h),j(g.$$.fragment,h),j(b.$$.fragment,h),E=!1},d(h){h&&(f(e),f(r),f(v)),B(i),B(g),B(b)}}}function Es(s){let e;return{c(){e=L("currently no metadata available")},l(t){e=T(t,"currently no metadata available")},m(t,l){D(t,e,l)},p:U,i:U,o:U,d(t){t&&f(e)}}}function Ns(s){let e,t,l,a,i,r="metadata",v,o,_,c;l=new Rn({});let g=s[0].metadata&&s[0].metadata_show&&jn(s);return{c(){e=u("button"),t=u("a"),H(l.$$.fragment),a=w(),i=u("div"),i.textContent=r,o=w(),g&&g.c(),_=O(),this.h()},l(p){e=d(p,"BUTTON",{class:!0});var b=k(e);t=d(b,"A",{href:!0,class:!0,title:!0});var E=k(t);F(l.$$.fragment,E),a=$(E),i=d(E,"DIV",{class:!0,"data-svelte-h":!0}),R(i)!=="svelte-xp3lgr"&&(i.textContent=r),E.forEach(f),b.forEach(f),o=$(p),g&&g.l(p),_=O(),this.h()},h(){m(i,"class","ml-1 flex place-items-center justify-items-center"),m(t,"href",v=Ze+"/climate/get_temp_file?name="+s[0].filename+"&type="+s[1]+"&filetype=meta"),m(t,"class","flex"),m(t,"title","Download metadata file"),m(e,"class","ml-2 mr-1 max-h-[33px] p-1 flex items-center justify-center variant-filled-tertiary hover:bg-tertiary-900 rounded-md")},m(p,b){D(p,e,b),n(e,t),G(l,t,null),n(t,a),n(t,i),D(p,o,b),g&&g.m(p,b),D(p,_,b),c=!0},p(p,b){(!c||b&3&&v!==(v=Ze+"/climate/get_temp_file?name="+p[0].filename+"&type="+p[1]+"&filetype=meta"))&&m(t,"href",v),p[0].metadata&&p[0].metadata_show?g?(g.p(p,b),b&1&&x(g,1)):(g=jn(p),g.c(),x(g,1),g.m(_.parentNode,_)):g&&(J(),j(g,1,1,()=>{g=null}),Z())},i(p){c||(x(l.$$.fragment,p),x(g),c=!0)},o(p){j(l.$$.fragment,p),j(g),c=!1},d(p){p&&(f(e),f(o),f(_)),B(l),g&&g.d(p)}}}function jn(s){let e,t;return e=new as({props:{data:s[0].metadata,in_main_page:s[2]}}),{c(){H(e.$$.fragment)},l(l){F(e.$$.fragment,l)},m(l,a){G(e,l,a),t=!0},p(l,a){const i={};a&1&&(i.data=l[0].metadata),a&4&&(i.in_main_page=l[2]),e.$set(i)},i(l){t||(x(e.$$.fragment,l),t=!0)},o(l){j(e.$$.fragment,l),t=!1},d(l){B(e,l)}}}function Ss(s){let e,t,l,a;const i=[hs,gs,bs,vs],r=[];function v(o,_){return o[4]===0?0:o[4]===1?1:o[4]===2?2:o[4]===3?3:-1}return~(e=v(s))&&(t=r[e]=i[e](s)),{c(){t&&t.c(),l=O()},l(o){t&&t.l(o),l=O()},m(o,_){~e&&r[e].m(o,_),D(o,l,_),a=!0},p(o,_){let c=e;e=v(o),e===c?~e&&r[e].p(o,_):(t&&(J(),j(r[c],1,1,()=>{r[c]=null}),Z()),~e?(t=r[e],t?t.p(o,_):(t=r[e]=i[e](o),t.c()),x(t,1),t.m(l.parentNode,l)):t=null)},i(o){a||(x(t),a=!0)},o(o){j(t),a=!1},d(o){o&&f(l),~e&&r[e].d(o)}}}function Ps(s){let e,t,l,a,i,r,v,o,_=s[0].filename+"",c,g,p,b,E,A,I,M,h,C,V,N,Q,ee="Variable",et,Y,ie,Ll="Short Name:",Fa,tt,$t=s[0].metadata.file.short_variable_name+"",Kt,Ha,re,fe,Rl="Long Name:",Oa,at,wt=s[0].metadata.file.long_name+"",Xt,Ua,_e,de,ql="Unit:",Ka,lt,kt=s[0].metadata.file.unit+"",Qt,Xa,ue,me,zl="Cell Method:",Qa,nt,Et=s[0].metadata.file.cell_methods+"",Yt,Ya,ce,pe,Bl="Global Min / Max:",Wa,te,Nt=qa(s[0].metadata.file.global_min,2)+"",Wt,Ja,St=qa(s[0].metadata.file.global_max,2)+"",Jt,Za,ve,be,Gl="Experiment ID:",el,st,Pt=s[0].metadata.file.experiment_id+"",Zt,tl,ge,he,Fl="Bias Correction:",al,ot,yt=s[0].metadata.file.bias_correction+"",ea,ll,Ce,$e,Hl="Indicator:",nl,it,Vt=s[0].metadata.file.indicator+"",ta,sl,we,Ol="Spatial",ol,ke,Ee,Ul="Resolution:",il,rt,xt=s[0].metadata.file.nominal_resolution+"",aa,rl,Ne,Kl="Time",fl,Se,Pe,Xl="Coverage:",_l,ae,At=s[0].metadata.file.time_coverage_start+"",la,dl,It=s[0].metadata.file.time_coverage_end+"",na,ul,ye,Ve,Ql="Frequency:",ml,ft,Dt=s[0].metadata.file.frequency+"",sa,cl,xe,Ae,Yl="Number of time steps:",pl,_t,Mt=s[0].metadata.file.num_time_steps+"",oa,vl,Ie,De,Wl="Units:",bl,dt,jt=s[0].metadata.file.time_units+"",ia,gl,Me,je,Jl="Calendar:",hl,ut,Tt=s[0].metadata.file.time_calendar+"",ra,Cl,Te,Le,Zl="Resolution sfsfsdf:",$l,mt,Lt=s[0].metadata.file.nominal_resolution+"",fa,wl,_a,da,Re,en="File",kl,qe,ze,tn="Format:",El,ct,Rt=s[0].metadata.file.file_format+"",ua,Nl,Be,Ge,an="Size:",Sl,pt,qt=yn(s[0].metadata.file.file_size)+"",ma,Pl,Fe,He,ln="Created:",yl,vt,zt=s[0].metadata.file.birth_time+"",ca,Vl,Oe,Ue,nn="Last Modified:",xl,bt,Bt=s[0].metadata.file.last_modification_time+"",pa,Al,W,le,Il,Ke,sn="ℹ️ Cite as:",Dl,gt,on='<span class="font-bold text-blue-400">Reference:</span> <span>please contact the TIPPECC team</span>',Ml,ne,jl,Gt,va,se,q;r=new _s({});let K=s[0].metadata.file.climatology_bounds&&Vn(s),X=s[0].metadata.file.climatology_bounds_details&&xn(s);return le=new rs({props:{extent:[s[0].metadata.file.geospatial_lon_min,s[0].metadata.file.geospatial_lat_min,s[0].metadata.file.geospatial_lon_max,s[0].metadata.file.geospatial_lat_max]}}),ne=new es({props:{file:s[0].metadata.file,in_main_page:!1}}),se=new ts({props:{labelledby:"Tabs for additional information",$$slots:{panel:[Ss],default:[ps]},$$scope:{ctx:s}}}),{c(){e=u("br"),t=w(),l=u("div"),a=u("div"),i=u("h2"),H(r.$$.fragment),v=w(),o=u("span"),c=L(_),g=w(),p=u("a"),b=L("Collection View"),A=w(),I=u("div"),M=u("span"),h=L(s[3]),C=w(),V=u("div"),N=u("div"),Q=u("div"),Q.textContent=ee,et=w(),Y=u("div"),ie=u("span"),ie.textContent=Ll,Fa=w(),tt=u("span"),Kt=L($t),Ha=w(),re=u("div"),fe=u("span"),fe.textContent=Rl,Oa=w(),at=u("span"),Xt=L(wt),Ua=w(),_e=u("div"),de=u("span"),de.textContent=ql,Ka=w(),lt=u("span"),Qt=L(kt),Xa=w(),ue=u("div"),me=u("span"),me.textContent=zl,Qa=w(),nt=u("span"),Yt=L(Et),Ya=w(),ce=u("div"),pe=u("span"),pe.textContent=Bl,Wa=w(),te=u("span"),Wt=L(Nt),Ja=L(" / "),Jt=L(St),Za=w(),ve=u("div"),be=u("span"),be.textContent=Gl,el=w(),st=u("span"),Zt=L(Pt),tl=w(),ge=u("div"),he=u("span"),he.textContent=Fl,al=w(),ot=u("span"),ea=L(yt),ll=w(),Ce=u("div"),$e=u("span"),$e.textContent=Hl,nl=w(),it=u("span"),ta=L(Vt),sl=w(),we=u("div"),we.textContent=Ol,ol=w(),ke=u("div"),Ee=u("span"),Ee.textContent=Ul,il=w(),rt=u("span"),aa=L(xt),rl=w(),Ne=u("div"),Ne.textContent=Kl,fl=w(),Se=u("div"),Pe=u("span"),Pe.textContent=Xl,_l=w(),ae=u("span"),la=L(At),dl=L(" - "),na=L(It),ul=w(),ye=u("div"),Ve=u("span"),Ve.textContent=Ql,ml=w(),ft=u("span"),sa=L(Dt),cl=w(),xe=u("div"),Ae=u("span"),Ae.textContent=Yl,pl=w(),_t=u("span"),oa=L(Mt),vl=w(),Ie=u("div"),De=u("span"),De.textContent=Wl,bl=w(),dt=u("span"),ia=L(jt),gl=w(),Me=u("div"),je=u("span"),je.textContent=Jl,hl=w(),ut=u("span"),ra=L(Tt),Cl=w(),Te=u("div"),Le=u("span"),Le.textContent=Zl,$l=w(),mt=u("span"),fa=L(Lt),wl=w(),K&&K.c(),_a=w(),X&&X.c(),da=w(),Re=u("div"),Re.textContent=en,kl=w(),qe=u("div"),ze=u("span"),ze.textContent=tn,El=w(),ct=u("span"),ua=L(Rt),Nl=w(),Be=u("div"),Ge=u("span"),Ge.textContent=an,Sl=w(),pt=u("span"),ma=L(qt),Pl=w(),Fe=u("div"),He=u("span"),He.textContent=ln,yl=w(),vt=u("span"),ca=L(zt),Vl=w(),Oe=u("div"),Ue=u("span"),Ue.textContent=nn,xl=w(),bt=u("span"),pa=L(Bt),Al=w(),W=u("div"),H(le.$$.fragment),Il=w(),Ke=u("h2"),Ke.textContent=sn,Dl=w(),gt=u("div"),gt.innerHTML=on,Ml=w(),H(ne.$$.fragment),jl=w(),Gt=u("div"),va=w(),H(se.$$.fragment),this.h()},l(S){e=d(S,"BR",{}),t=$(S),l=d(S,"DIV",{class:!0});var y=k(l);a=d(y,"DIV",{class:!0});var Xe=k(a);i=d(Xe,"H2",{class:!0});var Qe=k(i);F(r.$$.fragment,Qe),v=$(Qe),o=d(Qe,"SPAN",{class:!0});var Ft=k(o);c=T(Ft,_),Ft.forEach(f),Qe.forEach(f),g=$(Xe),p=d(Xe,"A",{href:!0,class:!0});var rn=k(p);b=T(rn,"Collection View"),rn.forEach(f),Xe.forEach(f),A=$(y),I=d(y,"DIV",{class:!0});var fn=k(I);M=d(fn,"SPAN",{class:!0});var _n=k(M);h=T(_n,s[3]),_n.forEach(f),fn.forEach(f),C=$(y),V=d(y,"DIV",{class:!0});var ba=k(V);N=d(ba,"DIV",{class:!0});var P=k(N);Q=d(P,"DIV",{class:!0,"data-svelte-h":!0}),R(Q)!=="svelte-1qkel0h"&&(Q.textContent=ee),et=$(P),Y=d(P,"DIV",{});var ga=k(Y);ie=d(ga,"SPAN",{class:!0,"data-svelte-h":!0}),R(ie)!=="svelte-1jfkrui"&&(ie.textContent=Ll),Fa=$(ga),tt=d(ga,"SPAN",{class:!0});var dn=k(tt);Kt=T(dn,$t),dn.forEach(f),ga.forEach(f),Ha=$(P),re=d(P,"DIV",{});var ha=k(re);fe=d(ha,"SPAN",{class:!0,"data-svelte-h":!0}),R(fe)!=="svelte-95x5vo"&&(fe.textContent=Rl),Oa=$(ha),at=d(ha,"SPAN",{class:!0});var un=k(at);Xt=T(un,wt),un.forEach(f),ha.forEach(f),Ua=$(P),_e=d(P,"DIV",{});var Ca=k(_e);de=d(Ca,"SPAN",{class:!0,"data-svelte-h":!0}),R(de)!=="svelte-1riumd7"&&(de.textContent=ql),Ka=$(Ca),lt=d(Ca,"SPAN",{class:!0});var mn=k(lt);Qt=T(mn,kt),mn.forEach(f),Ca.forEach(f),Xa=$(P),ue=d(P,"DIV",{});var $a=k(ue);me=d($a,"SPAN",{class:!0,"data-svelte-h":!0}),R(me)!=="svelte-1m5avlc"&&(me.textContent=zl),Qa=$($a),nt=d($a,"SPAN",{class:!0});var cn=k(nt);Yt=T(cn,Et),cn.forEach(f),$a.forEach(f),Ya=$(P),ce=d(P,"DIV",{});var wa=k(ce);pe=d(wa,"SPAN",{class:!0,"data-svelte-h":!0}),R(pe)!=="svelte-v1003d"&&(pe.textContent=Bl),Wa=$(wa),te=d(wa,"SPAN",{class:!0});var ka=k(te);Wt=T(ka,Nt),Ja=T(ka," / "),Jt=T(ka,St),ka.forEach(f),wa.forEach(f),Za=$(P),ve=d(P,"DIV",{});var Ea=k(ve);be=d(Ea,"SPAN",{class:!0,"data-svelte-h":!0}),R(be)!=="svelte-1aemhv1"&&(be.textContent=Gl),el=$(Ea),st=d(Ea,"SPAN",{class:!0});var pn=k(st);Zt=T(pn,Pt),pn.forEach(f),Ea.forEach(f),tl=$(P),ge=d(P,"DIV",{});var Na=k(ge);he=d(Na,"SPAN",{class:!0,"data-svelte-h":!0}),R(he)!=="svelte-yu4sta"&&(he.textContent=Fl),al=$(Na),ot=d(Na,"SPAN",{class:!0});var vn=k(ot);ea=T(vn,yt),vn.forEach(f),Na.forEach(f),ll=$(P),Ce=d(P,"DIV",{});var Sa=k(Ce);$e=d(Sa,"SPAN",{class:!0,"data-svelte-h":!0}),R($e)!=="svelte-18t9erc"&&($e.textContent=Hl),nl=$(Sa),it=d(Sa,"SPAN",{class:!0});var bn=k(it);ta=T(bn,Vt),bn.forEach(f),Sa.forEach(f),sl=$(P),we=d(P,"DIV",{class:!0,"data-svelte-h":!0}),R(we)!=="svelte-nmsyi9"&&(we.textContent=Ol),ol=$(P),ke=d(P,"DIV",{});var Pa=k(ke);Ee=d(Pa,"SPAN",{class:!0,"data-svelte-h":!0}),R(Ee)!=="svelte-1si6ldz"&&(Ee.textContent=Ul),il=$(Pa),rt=d(Pa,"SPAN",{class:!0});var gn=k(rt);aa=T(gn,xt),gn.forEach(f),Pa.forEach(f),rl=$(P),Ne=d(P,"DIV",{class:!0,"data-svelte-h":!0}),R(Ne)!=="svelte-1hwy0rm"&&(Ne.textContent=Kl),fl=$(P),Se=d(P,"DIV",{});var ya=k(Se);Pe=d(ya,"SPAN",{class:!0,"data-svelte-h":!0}),R(Pe)!=="svelte-q5fozz"&&(Pe.textContent=Xl),_l=$(ya),ae=d(ya,"SPAN",{class:!0});var Va=k(ae);la=T(Va,At),dl=T(Va," - "),na=T(Va,It),Va.forEach(f),ya.forEach(f),ul=$(P),ye=d(P,"DIV",{});var xa=k(ye);Ve=d(xa,"SPAN",{class:!0,"data-svelte-h":!0}),R(Ve)!=="svelte-pubmin"&&(Ve.textContent=Ql),ml=$(xa),ft=d(xa,"SPAN",{class:!0});var hn=k(ft);sa=T(hn,Dt),hn.forEach(f),xa.forEach(f),cl=$(P),xe=d(P,"DIV",{});var Aa=k(xe);Ae=d(Aa,"SPAN",{class:!0,"data-svelte-h":!0}),R(Ae)!=="svelte-1ckaxst"&&(Ae.textContent=Yl),pl=$(Aa),_t=d(Aa,"SPAN",{class:!0});var Cn=k(_t);oa=T(Cn,Mt),Cn.forEach(f),Aa.forEach(f),vl=$(P),Ie=d(P,"DIV",{});var Ia=k(Ie);De=d(Ia,"SPAN",{class:!0,"data-svelte-h":!0}),R(De)!=="svelte-1ofm2ee"&&(De.textContent=Wl),bl=$(Ia),dt=d(Ia,"SPAN",{class:!0});var $n=k(dt);ia=T($n,jt),$n.forEach(f),Ia.forEach(f),gl=$(P),Me=d(P,"DIV",{});var Da=k(Me);je=d(Da,"SPAN",{class:!0,"data-svelte-h":!0}),R(je)!=="svelte-1r37iff"&&(je.textContent=Jl),hl=$(Da),ut=d(Da,"SPAN",{class:!0});var wn=k(ut);ra=T(wn,Tt),wn.forEach(f),Da.forEach(f),Cl=$(P),Te=d(P,"DIV",{});var Ma=k(Te);Le=d(Ma,"SPAN",{class:!0,"data-svelte-h":!0}),R(Le)!=="svelte-pbrzny"&&(Le.textContent=Zl),$l=$(Ma),mt=d(Ma,"SPAN",{class:!0});var kn=k(mt);fa=T(kn,Lt),kn.forEach(f),Ma.forEach(f),wl=$(P),K&&K.l(P),_a=$(P),X&&X.l(P),da=$(P),Re=d(P,"DIV",{class:!0,"data-svelte-h":!0}),R(Re)!=="svelte-147jlv5"&&(Re.textContent=en),kl=$(P),qe=d(P,"DIV",{});var ja=k(qe);ze=d(ja,"SPAN",{class:!0,"data-svelte-h":!0}),R(ze)!=="svelte-1g3bwdk"&&(ze.textContent=tn),El=$(ja),ct=d(ja,"SPAN",{class:!0});var En=k(ct);ua=T(En,Rt),En.forEach(f),ja.forEach(f),Nl=$(P),Be=d(P,"DIV",{});var Ta=k(Be);Ge=d(Ta,"SPAN",{class:!0,"data-svelte-h":!0}),R(Ge)!=="svelte-1s8sufe"&&(Ge.textContent=an),Sl=$(Ta),pt=d(Ta,"SPAN",{class:!0});var Nn=k(pt);ma=T(Nn,qt),Nn.forEach(f),Ta.forEach(f),Pl=$(P),Fe=d(P,"DIV",{});var La=k(Fe);He=d(La,"SPAN",{class:!0,"data-svelte-h":!0}),R(He)!=="svelte-18jov5"&&(He.textContent=ln),yl=$(La),vt=d(La,"SPAN",{class:!0});var Sn=k(vt);ca=T(Sn,zt),Sn.forEach(f),La.forEach(f),Vl=$(P),Oe=d(P,"DIV",{});var Ra=k(Oe);Ue=d(Ra,"SPAN",{class:!0,"data-svelte-h":!0}),R(Ue)!=="svelte-jq7tld"&&(Ue.textContent=nn),xl=$(Ra),bt=d(Ra,"SPAN",{class:!0});var Pn=k(bt);pa=T(Pn,Bt),Pn.forEach(f),Ra.forEach(f),P.forEach(f),Al=$(ba),W=d(ba,"DIV",{class:!0});var ht=k(W);F(le.$$.fragment,ht),Il=$(ht),Ke=d(ht,"H2",{class:!0,"data-svelte-h":!0}),R(Ke)!=="svelte-1367ifz"&&(Ke.textContent=sn),Dl=$(ht),gt=d(ht,"DIV",{"data-svelte-h":!0}),R(gt)!=="svelte-1p0nu6r"&&(gt.innerHTML=on),ht.forEach(f),ba.forEach(f),Ml=$(y),F(ne.$$.fragment,y),jl=$(y),Gt=d(y,"DIV",{class:!0}),k(Gt).forEach(f),y.forEach(f),va=$(S),F(se.$$.fragment,S),this.h()},h(){m(o,"class","break-all"),m(i,"class","text-lg text-label font-semibold flex items-center gap-2 max-w-full break-words"),m(p,"href",E="/climate_services_gateway/collections/?type="+s[1]+"&filename="+s[0].filename),m(p,"class","px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 whitespace-normal"),m(a,"class","flex flex-col md:flex-row items-start md:items-center justify-between mb-3 gap-2"),m(M,"class","font-semibold"),m(I,"class","dark:bg-surface-700 rounded-lg p-4"),m(Q,"class","font-bold text-lg"),m(ie,"class","font-bold ml-4 text-blue-400"),m(tt,"class","ml-2"),m(fe,"class","font-bold ml-4 text-blue-400"),m(at,"class","ml-2"),m(de,"class","font-bold ml-4 text-blue-400"),m(lt,"class","ml-2"),m(me,"class","font-bold ml-4 text-blue-400"),m(nt,"class","ml-2"),m(pe,"class","font-bold ml-4 text-blue-400"),m(te,"class",""),m(be,"class","font-bold ml-4 text-blue-400"),m(st,"class","ml-2"),m(he,"class","font-bold ml-4 text-blue-400"),m(ot,"class","ml-2"),m($e,"class","font-bold ml-4 text-blue-400"),m(it,"class","ml-2"),m(we,"class","font-bold text-lg mt-4"),m(Ee,"class","font-bold ml-4 text-blue-400"),m(rt,"class","ml-2"),m(Ne,"class","font-bold text-lg mt-4"),m(Pe,"class","font-bold ml-4 text-blue-400"),m(ae,"class","ml-2"),m(Ve,"class","font-bold ml-4 text-blue-400"),m(ft,"class","ml-2"),m(Ae,"class","font-bold ml-4 text-blue-400"),m(_t,"class","ml-2"),m(De,"class","font-bold ml-4 text-blue-400"),m(dt,"class","ml-2"),m(je,"class","font-bold ml-4 text-blue-400"),m(ut,"class","ml-2"),m(Le,"class","font-bold ml-4 text-blue-400"),m(mt,"class","ml-2"),m(Re,"class","font-bold text-lg mt-4"),m(ze,"class","font-bold ml-4 text-blue-400"),m(ct,"class","ml-2"),m(Ge,"class","font-bold ml-4 text-blue-400"),m(pt,"class","ml-2"),m(He,"class","font-bold ml-4 text-blue-400"),m(vt,"class","ml-2"),m(Ue,"class","ffont-bold ml-4"),m(bt,"class","ml-2"),m(N,"class","p-4"),m(Ke,"class","text-lg font-semibold mb-3 flex items-center gap-2"),m(W,"class","p-4"),m(V,"class","grid grid-cols-1 md:grid-cols-2 gap-y-2 gap-x-4 mt-4 bg-surface-200 dark:bg-surface-800 rounded-lg"),m(Gt,"class","grid grid-cols-1 md:grid-cols-2 gap-y-2 gap-x-4 text-zinc-200 mt-3"),m(l,"class","")},m(S,y){D(S,e,y),D(S,t,y),D(S,l,y),n(l,a),n(a,i),G(r,i,null),n(i,v),n(i,o),n(o,c),n(a,g),n(a,p),n(p,b),n(l,A),n(l,I),n(I,M),n(M,h),n(l,C),n(l,V),n(V,N),n(N,Q),n(N,et),n(N,Y),n(Y,ie),n(Y,Fa),n(Y,tt),n(tt,Kt),n(N,Ha),n(N,re),n(re,fe),n(re,Oa),n(re,at),n(at,Xt),n(N,Ua),n(N,_e),n(_e,de),n(_e,Ka),n(_e,lt),n(lt,Qt),n(N,Xa),n(N,ue),n(ue,me),n(ue,Qa),n(ue,nt),n(nt,Yt),n(N,Ya),n(N,ce),n(ce,pe),n(ce,Wa),n(ce,te),n(te,Wt),n(te,Ja),n(te,Jt),n(N,Za),n(N,ve),n(ve,be),n(ve,el),n(ve,st),n(st,Zt),n(N,tl),n(N,ge),n(ge,he),n(ge,al),n(ge,ot),n(ot,ea),n(N,ll),n(N,Ce),n(Ce,$e),n(Ce,nl),n(Ce,it),n(it,ta),n(N,sl),n(N,we),n(N,ol),n(N,ke),n(ke,Ee),n(ke,il),n(ke,rt),n(rt,aa),n(N,rl),n(N,Ne),n(N,fl),n(N,Se),n(Se,Pe),n(Se,_l),n(Se,ae),n(ae,la),n(ae,dl),n(ae,na),n(N,ul),n(N,ye),n(ye,Ve),n(ye,ml),n(ye,ft),n(ft,sa),n(N,cl),n(N,xe),n(xe,Ae),n(xe,pl),n(xe,_t),n(_t,oa),n(N,vl),n(N,Ie),n(Ie,De),n(Ie,bl),n(Ie,dt),n(dt,ia),n(N,gl),n(N,Me),n(Me,je),n(Me,hl),n(Me,ut),n(ut,ra),n(N,Cl),n(N,Te),n(Te,Le),n(Te,$l),n(Te,mt),n(mt,fa),n(N,wl),K&&K.m(N,null),n(N,_a),X&&X.m(N,null),n(N,da),n(N,Re),n(N,kl),n(N,qe),n(qe,ze),n(qe,El),n(qe,ct),n(ct,ua),n(N,Nl),n(N,Be),n(Be,Ge),n(Be,Sl),n(Be,pt),n(pt,ma),n(N,Pl),n(N,Fe),n(Fe,He),n(Fe,yl),n(Fe,vt),n(vt,ca),n(N,Vl),n(N,Oe),n(Oe,Ue),n(Oe,xl),n(Oe,bt),n(bt,pa),n(V,Al),n(V,W),G(le,W,null),n(W,Il),n(W,Ke),n(W,Dl),n(W,gt),n(l,Ml),G(ne,l,null),n(l,jl),n(l,Gt),D(S,va,y),G(se,S,y),q=!0},p(S,[y]){(!q||y&1)&&_!==(_=S[0].filename+"")&&z(c,_),(!q||y&3&&E!==(E="/climate_services_gateway/collections/?type="+S[1]+"&filename="+S[0].filename))&&m(p,"href",E),(!q||y&8)&&z(h,S[3]),(!q||y&1)&&$t!==($t=S[0].metadata.file.short_variable_name+"")&&z(Kt,$t),(!q||y&1)&&wt!==(wt=S[0].metadata.file.long_name+"")&&z(Xt,wt),(!q||y&1)&&kt!==(kt=S[0].metadata.file.unit+"")&&z(Qt,kt),(!q||y&1)&&Et!==(Et=S[0].metadata.file.cell_methods+"")&&z(Yt,Et),(!q||y&1)&&Nt!==(Nt=qa(S[0].metadata.file.global_min,2)+"")&&z(Wt,Nt),(!q||y&1)&&St!==(St=qa(S[0].metadata.file.global_max,2)+"")&&z(Jt,St),(!q||y&1)&&Pt!==(Pt=S[0].metadata.file.experiment_id+"")&&z(Zt,Pt),(!q||y&1)&&yt!==(yt=S[0].metadata.file.bias_correction+"")&&z(ea,yt),(!q||y&1)&&Vt!==(Vt=S[0].metadata.file.indicator+"")&&z(ta,Vt),(!q||y&1)&&xt!==(xt=S[0].metadata.file.nominal_resolution+"")&&z(aa,xt),(!q||y&1)&&At!==(At=S[0].metadata.file.time_coverage_start+"")&&z(la,At),(!q||y&1)&&It!==(It=S[0].metadata.file.time_coverage_end+"")&&z(na,It),(!q||y&1)&&Dt!==(Dt=S[0].metadata.file.frequency+"")&&z(sa,Dt),(!q||y&1)&&Mt!==(Mt=S[0].metadata.file.num_time_steps+"")&&z(oa,Mt),(!q||y&1)&&jt!==(jt=S[0].metadata.file.time_units+"")&&z(ia,jt),(!q||y&1)&&Tt!==(Tt=S[0].metadata.file.time_calendar+"")&&z(ra,Tt),(!q||y&1)&&Lt!==(Lt=S[0].metadata.file.nominal_resolution+"")&&z(fa,Lt),S[0].metadata.file.climatology_bounds?K?K.p(S,y):(K=Vn(S),K.c(),K.m(N,_a)):K&&(K.d(1),K=null),S[0].metadata.file.climatology_bounds_details?X?X.p(S,y):(X=xn(S),X.c(),X.m(N,da)):X&&(X.d(1),X=null),(!q||y&1)&&Rt!==(Rt=S[0].metadata.file.file_format+"")&&z(ua,Rt),(!q||y&1)&&qt!==(qt=yn(S[0].metadata.file.file_size)+"")&&z(ma,qt),(!q||y&1)&&zt!==(zt=S[0].metadata.file.birth_time+"")&&z(ca,zt),(!q||y&1)&&Bt!==(Bt=S[0].metadata.file.last_modification_time+"")&&z(pa,Bt);const Xe={};y&1&&(Xe.extent=[S[0].metadata.file.geospatial_lon_min,S[0].metadata.file.geospatial_lat_min,S[0].metadata.file.geospatial_lon_max,S[0].metadata.file.geospatial_lat_max]),le.$set(Xe);const Qe={};y&1&&(Qe.file=S[0].metadata.file),ne.$set(Qe);const Ft={};y&32823&&(Ft.$$scope={dirty:y,ctx:S}),se.$set(Ft)},i(S){q||(x(r.$$.fragment,S),x(le.$$.fragment,S),x(ne.$$.fragment,S),x(se.$$.fragment,S),q=!0)},o(S){j(r.$$.fragment,S),j(le.$$.fragment,S),j(ne.$$.fragment,S),j(se.$$.fragment,S),q=!1},d(S){S&&(f(e),f(t),f(l),f(va)),B(r),K&&K.d(),X&&X.d(),B(le),B(ne),B(se,S)}}}function oe(s){if(typeof s=="object"){const e=s[0].split("-")[0],t=s[1].split("-")[0];return e+" - "+t}else return s.split("-")[0]}function ys(s,e,t){let l,{folder_data:a}=e,{file_obj:i}=e,{foldertype:r}=e,{in_main_page:v}=e;i!=null&&(a=a[i.index]);let o="No description available";if(!v)try{o=ns(a.filename,r,a.metadata)}catch(h){console.log(h)}let _=Math.random().toString(36).substring(2,15),c=a.tabset;function g(h){s.$$.not_equal(a.metadata_prov,h)&&(a.metadata_prov=h,t(0,a))}function p(h){s.$$.not_equal(a.metadata_prov_stats,h)&&(a.metadata_prov_stats=h,t(0,a))}function b(h){l=h,t(5,l),t(0,a)}function E(h){c=h,t(4,c)}function A(h){c=h,t(4,c)}function I(h){c=h,t(4,c)}function M(h){c=h,t(4,c)}return s.$$set=h=>{"folder_data"in h&&t(0,a=h.folder_data),"file_obj"in h&&t(7,i=h.file_obj),"foldertype"in h&&t(1,r=h.foldertype),"in_main_page"in h&&t(2,v=h.in_main_page)},s.$$.update=()=>{s.$$.dirty&1&&t(5,l=a.filename)},[a,r,v,o,c,l,_,i,g,p,b,E,A,I,M]}class Vs extends Ba{constructor(e){super(),Ga(this,e,ys,Ps,Ut,{folder_data:0,file_obj:7,foldertype:1,in_main_page:2})}}function Tn(s){let e,t;return e=new Vs({props:{folder_data:s[0],file_obj:qn,foldertype:s[1],in_main_page:As}}),{c(){H(e.$$.fragment)},l(l){F(e.$$.fragment,l)},m(l,a){G(e,l,a),t=!0},p(l,a){const i={};a&1&&(i.folder_data=l[0]),a&2&&(i.foldertype=l[1]),e.$set(i)},i(l){t||(x(e.$$.fragment,l),t=!0)},o(l){j(e.$$.fragment,l),t=!1},d(l){B(e,l)}}}function xs(s){let e,t,l,a="File Information",i,r,v,o,_=`This page shows detailed information for a single file in the Climate Services Gateway. Download
		is currently only available via the collection view.`,c,g;r=new zn({});let p=s[0]&&s[0].metadata&&Tn(s);return{c(){e=u("div"),t=u("div"),l=u("h1"),l.textContent=a,i=w(),H(r.$$.fragment),v=w(),o=u("blockquote"),o.textContent=_,c=w(),p&&p.c(),this.h()},l(b){e=d(b,"DIV",{class:!0});var E=k(e);t=d(E,"DIV",{class:!0});var A=k(t);l=d(A,"H1",{class:!0,"data-svelte-h":!0}),R(l)!=="svelte-1g9hp45"&&(l.textContent=a),i=$(A),F(r.$$.fragment,A),A.forEach(f),v=$(E),o=d(E,"BLOCKQUOTE",{class:!0,"data-svelte-h":!0}),R(o)!=="svelte-13yk7z6"&&(o.textContent=_),c=$(E),p&&p.l(E),E.forEach(f),this.h()},h(){m(l,"class","content-heading"),m(t,"class","flex"),m(o,"class","content-blockquote mb-4"),m(e,"class","content-div")},m(b,E){D(b,e,E),n(e,t),n(t,l),n(t,i),G(r,t,null),n(e,v),n(e,o),n(e,c),p&&p.m(e,null),g=!0},p(b,[E]){b[0]&&b[0].metadata?p?(p.p(b,E),E&1&&x(p,1)):(p=Tn(b),p.c(),x(p,1),p.m(e,null)):p&&(J(),j(p,1,1,()=>{p=null}),Z())},i(b){g||(x(r.$$.fragment,b),x(p),g=!0)},o(b){j(r.$$.fragment,b),j(p),g=!1},d(b){b&&f(e),B(r),p&&p.d()}}}const qn=null,As=!1;function Is(s,e,t){let l=[],a,i="",r="";async function v(_,c){t(0,a=await Zn(_,c)),console.log(a),o(c,_)}async function o(_,c){console.log("get_metadata_and_prov",_,c,qn),t(0,a.tabset=0,a);const g=await fetch(Ze+"/climate/get_temp_file?name="+_+"&type="+c+"&filetype=meta",{method:"GET"});if(!g.ok)a.metadata||t(0,a.metadata={},a),t(0,a.metadata={"currently no metadata available":"for this file"},a),t(0,a.metadata_exists=!1,a),console.log(a.metadata);else{const E=await g.json();l=E,await Ct(),a.metadata||t(0,a.metadata={},a),t(0,a.metadata_exists=!0,a),t(0,a.metadata=E,a),await Ct(),console.log(l)}const p=await fetch(Ze+"/climate/get_temp_file?name="+_+"&type="+c+"&filetype=prov",{method:"GET"});if(!p.ok)a.metadata_prov||t(0,a.metadata_prov={},a),t(0,a.metadata_prov_exists=!1,a),t(0,a.metadata_prov={"currently no provenance information available":"for this file"},a),console.log(a.metadata_prov);else{const E=await p.json();l=E,await Ct(),a.metadata_prov||t(0,a.metadata_prov={},a),t(0,a.metadata_prov_exists=!0,a),t(0,a.metadata_prov=E,a),await Ct(),console.log(l)}const b=await fetch(Ze+"/climate/get_temp_file?name="+_+"&type="+c+"&filetype=prov_stats",{method:"GET"});if(!b.ok)a.metadata_prov_stats||t(0,a.metadata_prov_stats={},a),t(0,a.metadata_prov_stats_exists=!1,a),t(0,a.metadata_prov_stats={"currently no provenance information available":"for this file"},a),console.log(a.metadata_prov_stats);else{const E=await b.json();l=E,await Ct(),a.metadata_prov_stats||t(0,a.metadata_prov_stats={},a),t(0,a.metadata_prov_stats_exists=!0,a),t(0,a.metadata_prov_stats=E,a),await Ct(),console.log(l)}t(0,a.metadata_show=!0,a),history.pushState({},"","?type="+c+"&filename="+_)}Ln(()=>{v(i,r),console.log(a)});{const _=new URLSearchParams(window.location.search),c=_.get("type");c&&t(1,i=c);const g=_.get("filename");g&&(r=g)}return[a,i]}class zs extends Ba{constructor(e){super(),Ga(this,e,Is,xs,Ut,{})}}export{zs as component};
//# sourceMappingURL=12.CWKOAtmr.js.map
