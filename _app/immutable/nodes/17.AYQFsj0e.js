import{s as te,n as ee,d as c,l as _,i as p,b as V,G as me,e as E,H as ge,E as fe,r as je,I as Se,y as le,q as A,c as b,m as ze,g as O,v as Q,h as k,j as P,z as Me,o as ne,J as ve,K as qe,L as Ae,a as re,M as oe,f as se,t as ie}from"../chunks/BxLJEKiw.js";import{S as ae,i as ce,f as Ue,d as X,t as T,a as $,g as ue,e as _e,m as Y,c as Z,b as x}from"../chunks/C51hC2gC.js";import{F as Fe,t as be,L as He}from"../chunks/C8G9Gale.js";import{_ as Re,T as Ge}from"../chunks/Crd7XF5q.js";import"../chunks/BO6XNHuD.js";import{e as q}from"../chunks/D6YF6ztN.js";function Je(f){let l,t;return{c(){l=ge("svg"),t=ge("path"),this.h()},l(n){l=me(n,"svg",{class:!0,xmlns:!0,viewBox:!0,width:!0,height:!0});var e=E(l);t=me(e,"path",{d:!0}),E(t).forEach(c),e.forEach(c),this.h()},h(){_(t,"d","M177.8 63.2l10 17.4c2.8 4.8 4.2 10.3 4.2 15.9l0 41.4c0 3.9 1.6 7.7 4.3 10.4c6.2 6.2 16.5 5.7 22-1.2l13.6-17c4.7-5.9 12.9-7.7 19.6-4.3l15.2 7.6c3.4 1.7 7.2 2.6 11 2.6c6.5 0 12.8-2.6 17.4-7.2l3.9-3.9c2.9-2.9 7.3-3.6 11-1.8l29.2 14.6c7.8 3.9 12.6 11.8 12.6 20.5c0 10.5-7.1 19.6-17.3 22.2l-35.4 8.8c-7.4 1.8-15.1 1.5-22.4-.9l-32-10.7c-3.3-1.1-6.7-1.7-10.2-1.7c-7 0-13.8 2.3-19.4 6.5L176 212c-10.1 7.6-16 19.4-16 32l0 28c0 26.5 21.5 48 48 48l32 0c8.8 0 16 7.2 16 16l0 48c0 17.7 14.3 32 32 32c10.1 0 19.6-4.7 25.6-12.8l25.6-34.1c8.3-11.1 12.8-24.6 12.8-38.4l0-12.1c0-3.9 2.6-7.3 6.4-8.2l5.3-1.3c11.9-3 20.3-13.7 20.3-26c0-7.1-2.8-13.9-7.8-18.9l-33.5-33.5c-3.7-3.7-3.7-9.7 0-13.4c5.7-5.7 14.1-7.7 21.8-5.1l14.1 4.7c12.3 4.1 25.7-1.5 31.5-13c3.5-7 11.2-10.8 18.9-9.2l27.4 5.5C432 112.4 351.5 48 256 48c-27.7 0-54 5.4-78.2 15.2zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256z"),_(l,"class","fill-white"),_(l,"xmlns","http://www.w3.org/2000/svg"),_(l,"viewBox","0 0 512 512"),_(l,"width",f[0]),_(l,"height","40")},m(n,e){p(n,l,e),V(l,t)},p(n,[e]){e&1&&_(l,"width",n[0])},i:ee,o:ee,d(n){n&&c(l)}}}function Ke(f,l,t){let{w:n=36}=l;return f.$$set=e=>{"w"in e&&t(0,n=e.w)},[n]}class Qe extends ae{constructor(l){super(),ce(this,l,Ke,Je,te,{w:0})}}function ke(f,l,t){const n=f.slice();return n[20]=l[t],n}function we(f,l,t){const n=f.slice();return n[23]=l[t],n}function ye(f,l,t){const n=f.slice();return n[23]=l[t],n}function Ee(f,l,t){const n=f.slice();return n[23]=l[t],n}function Ie(f){let l,t,n=q(f[7]),e=[];for(let s=0;s<n.length;s+=1)e[s]=De(Ee(f,n,s));return{c(){l=k("div"),t=k("div");for(let s=0;s<e.length;s+=1)e[s].c();this.h()},l(s){l=b(s,"DIV",{});var i=E(l);t=b(i,"DIV",{class:!0});var r=E(t);for(let o=0;o<e.length;o+=1)e[o].l(r);r.forEach(c),i.forEach(c),this.h()},h(){_(t,"class","flow gap-2 items-center")},m(s,i){p(s,l,i),V(l,t);for(let r=0;r<e.length;r+=1)e[r]&&e[r].m(t,null)},p(s,i){if(i&2176){n=q(s[7]);let r;for(r=0;r<n.length;r+=1){const o=Ee(s,n,r);e[r]?e[r].p(o,i):(e[r]=De(o),e[r].c(),e[r].m(t,null))}for(;r<e.length;r+=1)e[r].d(1);e.length=n.length}},d(s){s&&c(l),ne(e,s)}}}function De(f){let l,t=f[23]+"",n,e,s;return{c(){l=k("button"),n=ie(t),this.h()},l(i){l=b(i,"BUTTON",{class:!0});var r=E(l);n=se(r,t),r.forEach(c),this.h()},h(){_(l,"class","w-[300px] h-[60px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2")},m(i,r){p(i,l,r),V(l,n),e||(s=A(l,"click",function(){oe(f[11](f[23]))&&f[11](f[23]).apply(this,arguments)}),e=!0)},p(i,r){f=i,r&128&&t!==(t=f[23]+"")&&re(n,t)},d(i){i&&c(l),e=!1,s()}}}function Ve(f){let l,t,n=q(f[6]),e=[];for(let s=0;s<n.length;s+=1)e[s]=$e(ye(f,n,s));return{c(){l=k("div"),t=k("div");for(let s=0;s<e.length;s+=1)e[s].c();this.h()},l(s){l=b(s,"DIV",{});var i=E(l);t=b(i,"DIV",{class:!0});var r=E(t);for(let o=0;o<e.length;o+=1)e[o].l(r);r.forEach(c),i.forEach(c),this.h()},h(){_(t,"class","flow gap-2 items-center")},m(s,i){p(s,l,i),V(l,t);for(let r=0;r<e.length;r+=1)e[r]&&e[r].m(t,null)},p(s,i){if(i&2112){n=q(s[6]);let r;for(r=0;r<n.length;r+=1){const o=ye(s,n,r);e[r]?e[r].p(o,i):(e[r]=$e(o),e[r].c(),e[r].m(t,null))}for(;r<e.length;r+=1)e[r].d(1);e.length=n.length}},d(s){s&&c(l),ne(e,s)}}}function $e(f){let l,t=f[23]+"",n,e,s;return{c(){l=k("button"),n=ie(t),this.h()},l(i){l=b(i,"BUTTON",{class:!0});var r=E(l);n=se(r,t),r.forEach(c),this.h()},h(){_(l,"class","w-[120px] h-[30px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2")},m(i,r){p(i,l,r),V(l,n),e||(s=A(l,"click",function(){oe(f[11](f[23]))&&f[11](f[23]).apply(this,arguments)}),e=!0)},p(i,r){f=i,r&64&&t!==(t=f[23]+"")&&re(n,t)},d(i){i&&c(l),e=!1,s()}}}function Te(f){let l,t,n=q(f[8]),e=[];for(let s=0;s<n.length;s+=1)e[s]=Ce(we(f,n,s));return{c(){l=k("div"),t=k("div");for(let s=0;s<e.length;s+=1)e[s].c();this.h()},l(s){l=b(s,"DIV",{});var i=E(l);t=b(i,"DIV",{class:!0});var r=E(t);for(let o=0;o<e.length;o+=1)e[o].l(r);r.forEach(c),i.forEach(c),this.h()},h(){_(t,"class","flow gap-2 items-center")},m(s,i){p(s,l,i),V(l,t);for(let r=0;r<e.length;r+=1)e[r]&&e[r].m(t,null)},p(s,i){if(i&2304){n=q(s[8]);let r;for(r=0;r<n.length;r+=1){const o=we(s,n,r);e[r]?e[r].p(o,i):(e[r]=Ce(o),e[r].c(),e[r].m(t,null))}for(;r<e.length;r+=1)e[r].d(1);e.length=n.length}},d(s){s&&c(l),ne(e,s)}}}function Ce(f){let l,t=f[23]+"",n,e,s;return{c(){l=k("button"),n=ie(t),this.h()},l(i){l=b(i,"BUTTON",{class:!0});var r=E(l);n=se(r,t),r.forEach(c),this.h()},h(){_(l,"class","w-[520px] h-[30px] variant-filled-surface hover:bg-tertiary-900 rounded-md mt-2 mr-2")},m(i,r){p(i,l,r),V(l,n),e||(s=A(l,"click",function(){oe(f[11](f[23]))&&f[11](f[23]).apply(this,arguments)}),e=!0)},p(i,r){f=i,r&256&&t!==(t=f[23]+"")&&re(n,t)},d(i){i&&c(l),e=!1,s()}}}function Le(f){let l,t="Select file:",n,e,s,i,r=f[2]&&Ne(f);return{c(){l=k("label"),l.textContent=t,n=P(),e=k("select"),r&&r.c(),this.h()},l(o){l=b(o,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),ze(l)!=="svelte-qipr25"&&(l.textContent=t),n=O(o),e=b(o,"SELECT",{id:!0,class:!0});var u=E(e);r&&r.l(u),u.forEach(c),this.h()},h(){_(l,"class","flex max-w-[100px] place-items-center justify-center variant-outline-tertiary p-1"),_(l,"for","fileselect"),_(e,"id","fileselect"),_(e,"class","bg-primary-500 rounded-md p-1 max-lg:max-w-[100%] max-w-[80%] max-lg:mt-1 lg:ml-2"),f[1]===void 0&&qe(()=>f[15].call(e))},m(o,u){p(o,l,u),p(o,n,u),p(o,e,u),r&&r.m(e,null),f[14](e),ve(e,f[1],!0),s||(i=A(e,"change",f[15]),s=!0)},p(o,u){o[2]?r?r.p(o,u):(r=Ne(o),r.c(),r.m(e,null)):r&&(r.d(1),r=null),u&10&&ve(e,o[1])},d(o){o&&(c(l),c(n),c(e)),r&&r.d(),f[14](null),s=!1,i()}}}function Ne(f){let l,t=q(f[3]),n=[];for(let e=0;e<t.length;e+=1)n[e]=Be(ke(f,t,e));return{c(){for(let e=0;e<n.length;e+=1)n[e].c();l=Q()},l(e){for(let s=0;s<n.length;s+=1)n[s].l(e);l=Q()},m(e,s){for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(e,s);p(e,l,s)},p(e,s){if(s&8){t=q(e[3]);let i;for(i=0;i<t.length;i+=1){const r=ke(e,t,i);n[i]?n[i].p(r,s):(n[i]=Be(r),n[i].c(),n[i].m(l.parentNode,l))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},d(e){e&&c(l),ne(n,e)}}}function Be(f){let l,t=f[20]+"",n,e,s;return{c(){l=k("option"),n=ie(t),e=P(),this.h()},l(i){l=b(i,"OPTION",{});var r=E(l);n=se(r,t),e=O(r),r.forEach(c),this.h()},h(){l.__value=s=f[20],le(l,l.__value)},m(i,r){p(i,l,r),V(l,n),V(l,e)},p(i,r){r&8&&t!==(t=i[20]+"")&&re(n,t),r&8&&s!==(s=i[20])&&(l.__value=s,le(l,l.__value))},d(i){i&&c(l)}}}function Oe(f){let l=f[1],t,n,e=Pe(f);return{c(){e.c(),t=Q()},l(s){e.l(s),t=Q()},m(s,i){e.m(s,i),p(s,t,i),n=!0},p(s,i){i&2&&te(l,l=s[1])?(ue(),T(e,1,1,ee),_e(),e=Pe(s),e.c(),$(e,1),e.m(t.parentNode,t)):e.p(s,i)},i(s){n||($(e),n=!0)},o(s){T(e),n=!1},d(s){s&&c(t),e.d(s)}}}function Pe(f){let l,t,n;function e(i){f[16](i)}let s={foldertype:f[0],show_varinfos:!0};return f[1]!==void 0&&(s.selected_file=f[1]),l=new Ge({props:s}),fe.push(()=>Ue(l,"selected_file",e)),{c(){x(l.$$.fragment)},l(i){Z(l.$$.fragment,i)},m(i,r){Y(l,i,r),n=!0},p(i,r){const o={};r&1&&(o.foldertype=i[0]),!t&&r&2&&(t=!0,o.selected_file=i[1],Se(()=>t=!1)),l.$set(o)},i(i){n||($(l.$$.fragment,i),n=!0)},o(i){T(l.$$.fragment,i),n=!1},d(i){X(l,i)}}}function We(f){let l,t,n="Data Visualization",e,s,i,r,o,u,S,M,C,I,L,v,F,H,R,N,G,U,J,g,j;i=new Qe({props:{w:"38"}});function z(a){f[12](a)}let B={};f[0]!==void 0&&(B.foldertype=f[0]),u=new Fe({props:B}),fe.push(()=>Ue(u,"foldertype",z)),u.$on("foldertype_changed",f[9]);let h=f[7].length>0&&Ie(f),w=f[6].length>0&&Ve(f),D=f[8].length>0&&Te(f),y=f[0]&&Le(f),m=f[1]&&f[1]!=""&&Oe(f);return{c(){l=k("div"),t=k("h1"),t.textContent=n,e=P(),s=k("div"),x(i.$$.fragment),r=P(),o=k("div"),x(u.$$.fragment),M=P(),C=k("div"),I=k("input"),L=P(),v=k("div"),h&&h.c(),F=P(),w&&w.c(),H=P(),D&&D.c(),R=P(),N=k("div"),y&&y.c(),G=P(),m&&m.c(),U=Q(),this.h()},l(a){l=b(a,"DIV",{class:!0});var d=E(l);t=b(d,"H1",{class:!0,"data-svelte-h":!0}),ze(t)!=="svelte-jnn1rx"&&(t.textContent=n),e=O(d),s=b(d,"DIV",{class:!0});var W=E(s);Z(i.$$.fragment,W),W.forEach(c),d.forEach(c),r=O(a),o=b(a,"DIV",{class:!0});var he=E(o);Z(u.$$.fragment,he),he.forEach(c),M=O(a),C=b(a,"DIV",{class:!0});var de=E(C);I=b(de,"INPUT",{class:!0,type:!0,placeholder:!0}),de.forEach(c),L=O(a),v=b(a,"DIV",{class:!0});var K=E(v);h&&h.l(K),F=O(K),w&&w.l(K),H=O(K),D&&D.l(K),K.forEach(c),R=O(a),N=b(a,"DIV",{class:!0});var pe=E(N);y&&y.l(pe),pe.forEach(c),G=O(a),m&&m.l(a),U=Q(),this.h()},h(){_(t,"class","content-heading"),_(s,"class","flex-center"),_(l,"class","flex px-4"),_(o,"class","px-2"),_(I,"class","input w-full mt-4 p-2"),_(I,"type","text"),_(I,"placeholder","Type to filter filenames..."),_(C,"class","p-2"),_(v,"class","overflow-y-auto max-h-[120px]"),_(N,"class","lg:flex px-4 pt-4 w-full")},m(a,d){p(a,l,d),V(l,t),V(l,e),V(l,s),Y(i,s,null),p(a,r,d),p(a,o,d),Y(u,o,null),p(a,M,d),p(a,C,d),V(C,I),le(I,f[4]),p(a,L,d),p(a,v,d),h&&h.m(v,null),V(v,F),w&&w.m(v,null),V(v,H),D&&D.m(v,null),p(a,R,d),p(a,N,d),y&&y.m(N,null),p(a,G,d),m&&m.m(a,d),p(a,U,d),J=!0,g||(j=[A(I,"input",f[13]),A(I,"input",f[10]),A(I,"change",f[10])],g=!0)},p(a,[d]){const W={};!S&&d&1&&(S=!0,W.foldertype=a[0],Se(()=>S=!1)),u.$set(W),d&16&&I.value!==a[4]&&le(I,a[4]),a[7].length>0?h?h.p(a,d):(h=Ie(a),h.c(),h.m(v,F)):h&&(h.d(1),h=null),a[6].length>0?w?w.p(a,d):(w=Ve(a),w.c(),w.m(v,H)):w&&(w.d(1),w=null),a[8].length>0?D?D.p(a,d):(D=Te(a),D.c(),D.m(v,null)):D&&(D.d(1),D=null),a[0]?y?y.p(a,d):(y=Le(a),y.c(),y.m(N,null)):y&&(y.d(1),y=null),a[1]&&a[1]!=""?m?(m.p(a,d),d&2&&$(m,1)):(m=Oe(a),m.c(),$(m,1),m.m(U.parentNode,U)):m&&(ue(),T(m,1,1,()=>{m=null}),_e())},i(a){J||($(i.$$.fragment,a),$(u.$$.fragment,a),$(m),J=!0)},o(a){T(i.$$.fragment,a),T(u.$$.fragment,a),T(m),J=!1},d(a){a&&(c(l),c(r),c(o),c(M),c(C),c(L),c(v),c(R),c(N),c(G),c(U)),X(i),X(u),h&&h.d(),w&&w.d(),D&&D.d(),y&&y.d(),m&&m.d(a),g=!1,je(j)}}}function Xe(f,l,t){let n="water_budget",e="",s=[],i=[],r="",o,u=[];Me(()=>{});async function S(){await Re(n,!0).then(g=>{t(2,s=g.content)}).catch(g=>{console.log(g)}),t(4,r=""),M()}function M(){t(3,i=[]);var g=r.split(" ");for(var j in s){var z=s[j].filename,B=z.toLowerCase(),h=!1;for(var w in g)if(!B.includes(g[w].toLowerCase())){h=!0;continue}h||i.push(z)}t(3,i),F()}let C=[],I=[],L=[],v=[];function F(){let g=/(^(.+)_v(\d+)_([^_]+))|^((.+)_day_([^_]+)|^(.+))/;const j=u.find(B=>B.key==n);j&&j.header_regex.length>2&&(g=new RegExp(j.header_regex.replace(/\\/g,"\\"))),console.log("filePattern: ",g),C={},t(6,I=[]),t(8,v=[]);for(let B=0;B<s.length;B++){var z=s[B].filename;const h=z.match(g);if(h&&h.length>=3){const w=h[0],D=/^(_*[^_]*_[^_]+)/g;let y=z.replace(h[0],"").replace(".nc","").match(D),m="";y&&(m=y[0].replace(/_\d{4}/g,"").replace(/^_+/,"").replace("_Afr",""),I.includes(m)||I.push(m),v.includes(z.replace(h[0],"").replace(y[0],"").replace(/^_+/,"").replace(".nc",""))||v.push(z.replace(h[0],"").replace(y[0],"").replace(/^_+/,"").replace(".nc",""))),L.includes(w)||L.push(w)}}t(7,L=[...L]),t(6,I=[...I]),v.sort(),t(8,v=[...v]),console.log("variables: ",I),console.log("cat_folder_data: ",C)}function H(g){t(4,r=g),M()}function R(g){n=g,t(0,n)}function N(){r=this.value,t(4,r)}function G(g){fe[g?"unshift":"push"](()=>{o=g,t(5,o)})}function U(){e=Ae(this),t(1,e),t(3,i)}function J(g){e=g,t(1,e)}return[n,e,s,i,r,o,I,L,v,S,M,H,R,N,G,U,J]}class Ye extends ae{constructor(l){super(),ce(this,l,Xe,We,te,{})}}function Ze(f){let l,t,n;return t=new He({}),{c(){l=k("div"),x(t.$$.fragment),this.h()},l(e){l=b(e,"DIV",{class:!0});var s=E(l);Z(t.$$.fragment,s),s.forEach(c),this.h()},h(){_(l,"class","flex-center mt-8")},m(e,s){p(e,l,s),Y(t,l,null),n=!0},p:ee,i(e){n||($(t.$$.fragment,e),n=!0)},o(e){T(t.$$.fragment,e),n=!1},d(e){e&&c(l),X(t)}}}function xe(f){let l,t;return l=new Ye({props:{foldertype:f[1],selected_file:f[0]}}),{c(){x(l.$$.fragment)},l(n){Z(l.$$.fragment,n)},m(n,e){Y(l,n,e),t=!0},p(n,e){const s={};e&2&&(s.foldertype=n[1]),e&1&&(s.selected_file=n[0]),l.$set(s)},i(n){t||($(l.$$.fragment,n),t=!0)},o(n){T(l.$$.fragment,n),t=!1},d(n){X(l,n)}}}function el(f){let l,t,n,e;const s=[xe,Ze],i=[];function r(o,u){return o[2]?0:1}return t=r(f),n=i[t]=s[t](f),{c(){l=k("div"),n.c(),this.h()},l(o){l=b(o,"DIV",{class:!0});var u=E(l);n.l(u),u.forEach(c),this.h()},h(){_(l,"class","content-div")},m(o,u){p(o,l,u),i[t].m(l,null),e=!0},p(o,[u]){let S=t;t=r(o),t===S?i[t].p(o,u):(ue(),T(i[S],1,1,()=>{i[S]=null}),_e(),n=i[t],n?n.p(o,u):(n=i[t]=s[t](o),n.c()),$(n,1),n.m(l,null))},i(o){e||($(n),e=!0)},o(o){T(n),e=!1},d(o){o&&c(l),i[t].d()}}}function ll(f,l,t){let n="",e="",s=!1;return Me(()=>{{var i;if(be.subscribe(r=>{i=r}),!i){t(2,s=!0);return}t(0,n=i.filename),t(1,e=i.foldertype),(n==null||e==null)&&(t(0,n=""),t(1,e="water_budget")),be.set({filename:null,foldertype:null}),t(2,s=!0)}}),[n,e,s]}class ol extends ae{constructor(l){super(),ce(this,l,ll,el,te,{})}}export{ol as component};
