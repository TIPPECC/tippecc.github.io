import{S as Il,i as Ml,s as Ra,n as Y,d as c,b as I,m as v,e as d,f as E,j as u,F as Mn,p as F,q as L,r as x,a as q,c as l,u as H,J as Ln,h as w,g as M,o as j,v as U,k as $,t as T,w as K,R as We,T as Je,U as Qe,M as Q,N as Z,B,P as Ct}from"../chunks/CmpYlwq7.js";import"../chunks/IHki7fMi.js";import{A as Ze}from"../chunks/BO6XNHuD.js";import{m as Rn}from"../chunks/e1TIQ9lZ.js";import{M as Gn,V as qn,b as Bn,O as zn,P as On,F as Fn,c as Hn,d as Un,S as Kn,e as Xn,f as Yn,T as Wn,g as Jn}from"../chunks/B4y1DKAE.js";import"../chunks/DUG4a1w1.js";import{r as ja,s as Sn,C as Qn,T as Zn,a as La,D as Tn,P as Dl,M as es,b as ts}from"../chunks/BXLwYdvn.js";function as(s,e,t){let n=t.file.long_name,a=t.file.frequency+"ly",i="None",r=!1,p="None",o="None",f="None",_="None",m="None",g=!1,C="";if(a=="dayly"&&(a="daily"),e.includes("vaal")?i="Vaal":e.includes("kunene")?i="Kunene":e.includes("luanginga")&&(i="Luanginga"),s.includes("_b_")&&(r=!0),e.includes("CORDEX")?(p="Cordex-Core",s.includes("REMO")?f="GERICS-REMO2015":s.includes("KIT")?f="KIT-CCLM5-0-15":s.includes("ICTP")&&(f="ICTP-RegCM4-7"),o=t.driving_model_id):e.includes("CMIP6")?(p="CMIP6",o=t.source_id):e.includes("ERA5")?p="Era5-Land":e.includes("GLEAM")&&(p="GLEAM"),s.includes("yearsum")||s.includes("yearmean")){a="annual aggregated";let N=s.match(/year(?:sum|mean)_(\d{4})_(\d{4})-(\d{4})_(\d{4})/),R=s.match(/year(?:sum|mean)_(\d{4}_\d{4})/);N?(m=`${N[1]}–${N[2]}`,_=`${N[3]}–${N[4]}`):R&&R&&(_=`${R[1]}–${R[2]}`)}if(s.includes("_mean_")){g=!0;let N=s.match(/_mean_(\d{4})_(\d{4})-(\d{4})_(\d{4})/),R=s.match(/_mean_(\d{4})_(\d{4})/);N?(m=`${N[1]}–${N[2]}`,_=`${N[3]}–${N[4]}`):R&&R&&(_=`${R[1]}–${R[2]}`)}return g&&(C+="mean value of "),a!="nonely"&&(C+=a+" data of "),C+=n+" ",p!="None"&&(C+="based on "+p+" ",o!="None"?C+=o+" global model ":C+="dataset ",f!="None"&&(C+="and "+f+" regional model "),r&&(C+="with bias correction "),_!="None"&&(C+="for time period "+_+" "),m!="None"&&(C+="compared to "+m+" "),i!="None"&&(C+="clipped to "+i+" study area ")),C=ls(C),C}function ls(s){return s?(s=s.trimEnd(),s=s.charAt(0).toUpperCase()+s.slice(1),s.endsWith(".")||(s+="."),s):""}function ns(s){let e;return{c(){e=u("div"),this.h()},l(t){e=d(t,"DIV",{id:!0,class:!0}),E(e).forEach(c),this.h()},h(){v(e,"id","map"),v(e,"class","svelte-mjfcf6")},m(t,n){I(t,e,n)},p:Y,i:Y,o:Y,d(t){t&&c(e)}}}function ss(s,e,t){let{extent:n}=e;function a(i,r,p="EPSG:4326"){if(!i||!r||r.length!==4){console.error("Invalid map or extent");return}const[o,f,_,m]=r,g=new On([[[o,f],[o,m],[_,m],[_,f],[o,f]]]);g.transform(p,i.getView().getProjection());const C=new Fn(g),N=new Hn({features:[C]}),R=new Un({source:N,style:new Kn({stroke:new Yn({color:"rgba(255, 120, 0, 0.8)",width:2}),fill:new Xn({color:"rgba(255, 120, 0, 0.2)"})})});return i.addLayer(R),i.getView().fit(g,{padding:[20,20,20,20]}),R}return Mn(()=>{let i=new Gn({target:"map",layers:[new Bn({source:new zn})],view:new qn({center:[0,0],zoom:2,projection:"EPSG:3857"})});a(i,n)}),s.$$set=i=>{"extent"in i&&t(0,n=i.extent)},[n,a]}class os extends Il{constructor(e){super(),Ml(this,e,ss,ns,Ra,{extent:0,drawExtentBox:1})}get drawExtentBox(){return this.$$.ctx[1]}}const is="data:image/svg+xml,%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Transformed%20by:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='SVGRepo_bgCarrier'%20stroke-width='0'/%3e%3cg%20id='SVGRepo_tracerCarrier'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3cg%20id='SVGRepo_iconCarrier'%3e%3cpath%20d='M17%2018V21M17%2015H17.01M13%203V7.4C13%207.96005%2013%208.24008%2013.109%208.45399C13.2049%208.64215%2013.3578%208.79513%2013.546%208.89101C13.7599%209%2014.0399%209%2014.6%209H19M13%203H8.2C7.0799%203%206.51984%203%206.09202%203.21799C5.71569%203.40973%205.40973%203.71569%205.21799%204.09202C5%204.51984%205%205.0799%205%206.2V17.8C5%2018.9201%205%2019.4802%205.21799%2019.908C5.40973%2020.2843%205.71569%2020.5903%206.09202%2020.782C6.51984%2021%207.0799%2021%208.2%2021H13M13%203L19%209M19%209V11.5'%20stroke='%23ffffff'%20stroke-width='2'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/g%3e%3c/svg%3e";function Nn(s){let e,t,n="Climatology Bounds Start:",a,i,r=oe(s[0].metadata.file.climatology_bounds[0][0])+"",p,o,f,_,m="Climatology Bounds End:",g,C,N=oe(s[0].metadata.file.climatology_bounds[0][1])+"",R;return{c(){e=u("div"),t=u("span"),t.textContent=n,a=$(),i=u("span"),p=T(r),o=$(),f=u("div"),_=u("span"),_.textContent=m,g=$(),C=u("span"),R=T(N),this.h()},l(A){e=d(A,"DIV",{});var D=E(e);t=d(D,"SPAN",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-99av7i"&&(t.textContent=n),a=w(D),i=d(D,"SPAN",{class:!0});var b=E(i);p=M(b,r),b.forEach(c),D.forEach(c),o=w(A),f=d(A,"DIV",{});var h=E(f);_=d(h,"SPAN",{class:!0,"data-svelte-h":!0}),j(_)!=="svelte-1gu05yd"&&(_.textContent=m),g=w(h),C=d(h,"SPAN",{class:!0});var y=E(C);R=M(y,N),y.forEach(c),h.forEach(c),this.h()},h(){v(t,"class","font-bold ml-4 text-blue-400"),v(i,"class","ml-2"),v(_,"class","font-bold ml-4 text-blue-400"),v(C,"class","ml-2")},m(A,D){I(A,e,D),l(e,t),l(e,a),l(e,i),l(i,p),I(A,o,D),I(A,f,D),l(f,_),l(f,g),l(f,C),l(C,R)},p(A,D){D&1&&r!==(r=oe(A[0].metadata.file.climatology_bounds[0][0])+"")&&q(p,r),D&1&&N!==(N=oe(A[0].metadata.file.climatology_bounds[0][1])+"")&&q(R,N)},d(A){A&&(c(e),c(o),c(f))}}}function Pn(s){let e,t,n="Climatology Bounds 1st Period:",a,i,r=oe(s[0].metadata.file.climatology_bounds_details[0])+"",p,o,f,_,m="Climatology Bounds 2nd Period:",g,C,N=oe(s[0].metadata.file.climatology_bounds_details[1])+"",R;return{c(){e=u("div"),t=u("span"),t.textContent=n,a=$(),i=u("span"),p=T(r),o=$(),f=u("div"),_=u("span"),_.textContent=m,g=$(),C=u("span"),R=T(N),this.h()},l(A){e=d(A,"DIV",{});var D=E(e);t=d(D,"SPAN",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-zha96v"&&(t.textContent=n),a=w(D),i=d(D,"SPAN",{class:!0});var b=E(i);p=M(b,r),b.forEach(c),D.forEach(c),o=w(A),f=d(A,"DIV",{});var h=E(f);_=d(h,"SPAN",{class:!0,"data-svelte-h":!0}),j(_)!=="svelte-1ox1kwb"&&(_.textContent=m),g=w(h),C=d(h,"SPAN",{class:!0});var y=E(C);R=M(y,N),y.forEach(c),h.forEach(c),this.h()},h(){v(t,"class","font-bold ml-4 text-blue-400"),v(i,"class","ml-2"),v(_,"class","font-bold ml-4 text-blue-400"),v(C,"class","ml-2")},m(A,D){I(A,e,D),l(e,t),l(e,a),l(e,i),l(i,p),I(A,o,D),I(A,f,D),l(f,_),l(f,g),l(f,C),l(C,R)},p(A,D){D&1&&r!==(r=oe(A[0].metadata.file.climatology_bounds_details[0])+"")&&q(p,r),D&1&&N!==(N=oe(A[0].metadata.file.climatology_bounds_details[1])+"")&&q(R,N)},d(A){A&&(c(e),c(o),c(f))}}}function rs(s){let e,t="Other Metadata";return{c(){e=u("span"),e.textContent=t},l(n){e=d(n,"SPAN",{"data-svelte-h":!0}),j(e)!=="svelte-14jvd71"&&(e.textContent=t)},m(n,a){I(n,e,a)},p:Y,d(n){n&&c(e)}}}function fs(s){let e;return{c(){e=T("Related Datasets")},l(t){e=M(t,"Related Datasets")},m(t,n){I(t,e,n)},d(t){t&&c(e)}}}function _s(s){let e;return{c(){e=T("Provenance")},l(t){e=M(t,"Provenance")},m(t,n){I(t,e,n)},d(t){t&&c(e)}}}function Vn(s){let e,t,n;function a(r){s[14](r)}let i={name:"tab4",value:3,title:"Map",$$slots:{default:[ds]},$$scope:{ctx:s}};return s[4]!==void 0&&(i.group=s[4]),e=new La({props:i}),We.push(()=>Je(e,"group",a)),{c(){K(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,p){H(e,r,p),n=!0},p(r,p){const o={};p&32768&&(o.$$scope={dirty:p,ctx:r}),!t&&p&16&&(t=!0,o.group=r[4],Qe(()=>t=!1)),e.$set(o)},i(r){n||(x(e.$$.fragment,r),n=!0)},o(r){L(e.$$.fragment,r),n=!1},d(r){F(e,r)}}}function ds(s){let e;return{c(){e=T("Map")},l(t){e=M(t,"Map")},m(t,n){I(t,e,n)},d(t){t&&c(e)}}}function us(s){let e,t,n,a,i,r,p,o,f,_,m;function g(h){s[11](h)}let C={name:"tab1",value:0,title:"Other Metadata",$$slots:{default:[rs]},$$scope:{ctx:s}};s[4]!==void 0&&(C.group=s[4]),e=new La({props:C}),We.push(()=>Je(e,"group",g));function N(h){s[12](h)}let R={name:"tab1",value:1,title:"Related Datasets",$$slots:{default:[fs]},$$scope:{ctx:s}};s[4]!==void 0&&(R.group=s[4]),a=new La({props:R}),We.push(()=>Je(a,"group",N));function A(h){s[13](h)}let D={name:"tab2",value:2,title:"Provenance",$$slots:{default:[_s]},$$scope:{ctx:s}};s[4]!==void 0&&(D.group=s[4]),p=new La({props:D}),We.push(()=>Je(p,"group",A));let b=s[0].tif_convertable&&Vn(s);return{c(){K(e.$$.fragment),n=$(),K(a.$$.fragment),r=$(),K(p.$$.fragment),f=$(),b&&b.c(),_=B()},l(h){U(e.$$.fragment,h),n=w(h),U(a.$$.fragment,h),r=w(h),U(p.$$.fragment,h),f=w(h),b&&b.l(h),_=B()},m(h,y){H(e,h,y),I(h,n,y),H(a,h,y),I(h,r,y),H(p,h,y),I(h,f,y),b&&b.m(h,y),I(h,_,y),m=!0},p(h,y){const k={};y&32768&&(k.$$scope={dirty:y,ctx:h}),!t&&y&16&&(t=!0,k.group=h[4],Qe(()=>t=!1)),e.$set(k);const X={};y&32768&&(X.$$scope={dirty:y,ctx:h}),!i&&y&16&&(i=!0,X.group=h[4],Qe(()=>i=!1)),a.$set(X);const ee={};y&32768&&(ee.$$scope={dirty:y,ctx:h}),!o&&y&16&&(o=!0,ee.group=h[4],Qe(()=>o=!1)),p.$set(ee),h[0].tif_convertable?b?(b.p(h,y),y&1&&x(b,1)):(b=Vn(h),b.c(),x(b,1),b.m(_.parentNode,_)):b&&(Q(),L(b,1,1,()=>{b=null}),Z())},i(h){m||(x(e.$$.fragment,h),x(a.$$.fragment,h),x(p.$$.fragment,h),x(b),m=!0)},o(h){L(e.$$.fragment,h),L(a.$$.fragment,h),L(p.$$.fragment,h),L(b),m=!1},d(h){h&&(c(n),c(r),c(f),c(_)),F(e,h),F(a,h),F(p,h),b&&b.d(h)}}}function cs(s){let e,t,n=s[5]&&s[5]!=""&&yn(s);return{c(){n&&n.c(),e=B()},l(a){n&&n.l(a),e=B()},m(a,i){n&&n.m(a,i),I(a,e,i),t=!0},p(a,i){a[5]&&a[5]!=""?n?(n.p(a,i),i&32&&x(n,1)):(n=yn(a),n.c(),x(n,1),n.m(e.parentNode,e)):n&&(Q(),L(n,1,1,()=>{n=null}),Z())},i(a){t||(x(n),t=!0)},o(a){L(n),t=!1},d(a){a&&c(e),n&&n.d(a)}}}function ms(s){let e,t,n,a;const i=[gs,bs],r=[];function p(o,f){return o[0].metadata_prov_exists&&o[0].metadata_show?0:1}return e=p(s),t=r[e]=i[e](s),{c(){t.c(),n=B()},l(o){t.l(o),n=B()},m(o,f){r[e].m(o,f),I(o,n,f),a=!0},p(o,f){let _=e;e=p(o),e===_?r[e].p(o,f):(Q(),L(r[_],1,1,()=>{r[_]=null}),Z(),t=r[e],t?t.p(o,f):(t=r[e]=i[e](o),t.c()),x(t,1),t.m(n.parentNode,n))},i(o){a||(x(t),a=!0)},o(o){L(t),a=!1},d(o){o&&c(n),r[e].d(o)}}}function ps(s){let e,t,n,a;const i=[Cs,hs],r=[];function p(o,f){return o[0].metadata_prov_stats?0:1}return e=p(s),t=r[e]=i[e](s),{c(){t.c(),n=B()},l(o){t.l(o),n=B()},m(o,f){r[e].m(o,f),I(o,n,f),a=!0},p(o,f){let _=e;e=p(o),e===_?r[e].p(o,f):(Q(),L(r[_],1,1,()=>{r[_]=null}),Z(),t=r[e],t?t.p(o,f):(t=r[e]=i[e](o),t.c()),x(t,1),t.m(n.parentNode,n))},i(o){a||(x(t),a=!0)},o(o){L(t),a=!1},d(o){o&&c(n),r[e].d(o)}}}function vs(s){let e,t,n,a;const i=[$s,ws],r=[];function p(o,f){return o[0].metadata_exists?0:1}return e=p(s),t=r[e]=i[e](s),{c(){t.c(),n=B()},l(o){t.l(o),n=B()},m(o,f){r[e].m(o,f),I(o,n,f),a=!0},p(o,f){let _=e;e=p(o),e===_?r[e].p(o,f):(Q(),L(r[_],1,1,()=>{r[_]=null}),Z(),t=r[e],t?t.p(o,f):(t=r[e]=i[e](o),t.c()),x(t,1),t.m(n.parentNode,n))},i(o){a||(x(t),a=!0)},o(o){L(t),a=!1},d(o){o&&c(n),r[e].d(o)}}}function yn(s){let e=s[5],t,n,a=xn(s);return{c(){a.c(),t=B()},l(i){a.l(i),t=B()},m(i,r){a.m(i,r),I(i,t,r),n=!0},p(i,r){r&32&&Ra(e,e=i[5])?(Q(),L(a,1,1,Y),Z(),a=xn(i),a.c(),x(a,1),a.m(t.parentNode,t)):a.p(i,r)},i(i){n||(x(a),n=!0)},o(i){L(a),n=!1},d(i){i&&c(t),a.d(i)}}}function xn(s){let e,t,n;function a(r){s[10](r)}let i={foldertype:s[1],show_varinfos:!1};return s[5]!==void 0&&(i.selected_file=s[5]),e=new Wn({props:i}),We.push(()=>Je(e,"selected_file",a)),{c(){K(e.$$.fragment)},l(r){U(e.$$.fragment,r)},m(r,p){H(e,r,p),n=!0},p(r,p){const o={};p&2&&(o.foldertype=r[1]),!t&&p&32&&(t=!0,o.selected_file=r[5],Qe(()=>t=!1)),e.$set(o)},i(r){n||(x(e.$$.fragment,r),n=!0)},o(r){L(e.$$.fragment,r),n=!1},d(r){F(e,r)}}}function bs(s){let e;return{c(){e=T("currently no provenance data available")},l(t){e=M(t,"currently no provenance data available")},m(t,n){I(t,e,n)},p:Y,i:Y,o:Y,d(t){t&&c(e)}}}function gs(s){let e,t,n,a,i,r="provenance",p,o,f,_;n=new Tn({});let m=s[0].metadata_prov_stats&&An(s);return{c(){e=u("button"),t=u("a"),K(n.$$.fragment),a=$(),i=u("div"),i.textContent=r,o=$(),m&&m.c(),f=B(),this.h()},l(g){e=d(g,"BUTTON",{class:!0});var C=E(e);t=d(C,"A",{href:!0,class:!0,title:!0});var N=E(t);U(n.$$.fragment,N),a=w(N),i=d(N,"DIV",{class:!0,"data-svelte-h":!0}),j(i)!=="svelte-19tiklx"&&(i.textContent=r),N.forEach(c),C.forEach(c),o=w(g),m&&m.l(g),f=B(),this.h()},h(){v(i,"class","ml-1 flex place-items-center justify-items-center"),v(t,"href",p=Ze+"/climate/get_temp_file?name="+s[0].filename+"&type="+s[1]+"&filetype=prov"),v(t,"class","flex"),v(t,"title","Download metadata file"),v(e,"class","ml-2 mr-1 max-h-[33px] p-1 flex items-center justify-center variant-filled-tertiary hover:bg-tertiary-900 rounded-md")},m(g,C){I(g,e,C),l(e,t),H(n,t,null),l(t,a),l(t,i),I(g,o,C),m&&m.m(g,C),I(g,f,C),_=!0},p(g,C){(!_||C&3&&p!==(p=Ze+"/climate/get_temp_file?name="+g[0].filename+"&type="+g[1]+"&filetype=prov"))&&v(t,"href",p),g[0].metadata_prov_stats?m?(m.p(g,C),C&1&&x(m,1)):(m=An(g),m.c(),x(m,1),m.m(f.parentNode,f)):m&&(Q(),L(m,1,1,()=>{m=null}),Z())},i(g){_||(x(n.$$.fragment,g),x(m),_=!0)},o(g){L(n.$$.fragment,g),L(m),_=!1},d(g){g&&(c(e),c(o),c(f)),F(n),m&&m.d(g)}}}function An(s){let e,t,n,a;function i(o){s[8](o)}function r(o){s[9](o)}let p={in_main_page:s[2]};return s[0].metadata_prov!==void 0&&(p.metadata_prov=s[0].metadata_prov),s[0].metadata_prov_stats!==void 0&&(p.metadata_prov_stats=s[0].metadata_prov_stats),e=new ts({props:p}),We.push(()=>Je(e,"metadata_prov",i)),We.push(()=>Je(e,"metadata_prov_stats",r)),{c(){K(e.$$.fragment)},l(o){U(e.$$.fragment,o)},m(o,f){H(e,o,f),a=!0},p(o,f){const _={};f&4&&(_.in_main_page=o[2]),!t&&f&1&&(t=!0,_.metadata_prov=o[0].metadata_prov,Qe(()=>t=!1)),!n&&f&1&&(n=!0,_.metadata_prov_stats=o[0].metadata_prov_stats,Qe(()=>n=!1)),e.$set(_)},i(o){a||(x(e.$$.fragment,o),a=!0)},o(o){L(e.$$.fragment,o),a=!1},d(o){F(e,o)}}}function hs(s){let e;return{c(){e=T("currently no related datasets available")},l(t){e=M(t,"currently no related datasets available")},m(t,n){I(t,e,n)},p:Y,i:Y,o:Y,d(t){t&&c(e)}}}function Cs(s){var R,A,D;let e,t,n="ℹ️ Available files based on this file",a,i,r,p,o,f="ℹ️ Available files used to create this file",_,m,g,C,N;return i=new Dl({props:{data:(R=s[0].metadata_prov_stats)==null?void 0:R.base_for_entities,only_links:!0,in_main_page:s[2]}}),m=new Dl({props:{data:(A=s[0].metadata_prov_stats)==null?void 0:A.source_entities,only_links:!0,in_main_page:s[2]}}),C=new Dl({props:{data:(D=s[0].metadata_prov_stats)==null?void 0:D.result_entities,only_links:!0,in_main_page:s[2]}}),{c(){e=u("div"),t=u("h2"),t.textContent=n,a=$(),K(i.$$.fragment),r=$(),p=u("div"),o=u("h2"),o.textContent=f,_=$(),K(m.$$.fragment),g=$(),K(C.$$.fragment),this.h()},l(b){e=d(b,"DIV",{class:!0,id:!0});var h=E(e);t=d(h,"H2",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-1yf5jay"&&(t.textContent=n),a=w(h),U(i.$$.fragment,h),h.forEach(c),r=w(b),p=d(b,"DIV",{class:!0,id:!0});var y=E(p);o=d(y,"H2",{class:!0,"data-svelte-h":!0}),j(o)!=="svelte-1161htc"&&(o.textContent=f),_=w(y),U(m.$$.fragment,y),g=w(y),U(C.$$.fragment,y),y.forEach(c),this.h()},h(){v(t,"class","text-lg font-semibold mb-3 flex items-center gap-2 text-white"),v(e,"class","bg-box svelte-lnuuuk"),v(e,"id","base_for_entities_"+s[6]),v(o,"class","text-lg font-semibold mb-3 flex items-center gap-2 text-white"),v(p,"class","bg-box svelte-lnuuuk"),v(p,"id","base_for_entities_"+s[6])},m(b,h){I(b,e,h),l(e,t),l(e,a),H(i,e,null),I(b,r,h),I(b,p,h),l(p,o),l(p,_),H(m,p,null),l(p,g),H(C,p,null),N=!0},p(b,h){var ee,et,W;const y={};h&1&&(y.data=(ee=b[0].metadata_prov_stats)==null?void 0:ee.base_for_entities),h&4&&(y.in_main_page=b[2]),i.$set(y);const k={};h&1&&(k.data=(et=b[0].metadata_prov_stats)==null?void 0:et.source_entities),h&4&&(k.in_main_page=b[2]),m.$set(k);const X={};h&1&&(X.data=(W=b[0].metadata_prov_stats)==null?void 0:W.result_entities),h&4&&(X.in_main_page=b[2]),C.$set(X)},i(b){N||(x(i.$$.fragment,b),x(m.$$.fragment,b),x(C.$$.fragment,b),N=!0)},o(b){L(i.$$.fragment,b),L(m.$$.fragment,b),L(C.$$.fragment,b),N=!1},d(b){b&&(c(e),c(r),c(p)),F(i),F(m),F(C)}}}function ws(s){let e;return{c(){e=T("currently no metadata available")},l(t){e=M(t,"currently no metadata available")},m(t,n){I(t,e,n)},p:Y,i:Y,o:Y,d(t){t&&c(e)}}}function $s(s){let e,t,n,a,i,r="metadata",p,o,f,_;n=new Tn({});let m=s[0].metadata&&s[0].metadata_show&&Dn(s);return{c(){e=u("button"),t=u("a"),K(n.$$.fragment),a=$(),i=u("div"),i.textContent=r,o=$(),m&&m.c(),f=B(),this.h()},l(g){e=d(g,"BUTTON",{class:!0});var C=E(e);t=d(C,"A",{href:!0,class:!0,title:!0});var N=E(t);U(n.$$.fragment,N),a=w(N),i=d(N,"DIV",{class:!0,"data-svelte-h":!0}),j(i)!=="svelte-xp3lgr"&&(i.textContent=r),N.forEach(c),C.forEach(c),o=w(g),m&&m.l(g),f=B(),this.h()},h(){v(i,"class","ml-1 flex place-items-center justify-items-center"),v(t,"href",p=Ze+"/climate/get_temp_file?name="+s[0].filename+"&type="+s[1]+"&filetype=meta"),v(t,"class","flex"),v(t,"title","Download metadata file"),v(e,"class","ml-2 mr-1 max-h-[33px] p-1 flex items-center justify-center variant-filled-tertiary hover:bg-tertiary-900 rounded-md")},m(g,C){I(g,e,C),l(e,t),H(n,t,null),l(t,a),l(t,i),I(g,o,C),m&&m.m(g,C),I(g,f,C),_=!0},p(g,C){(!_||C&3&&p!==(p=Ze+"/climate/get_temp_file?name="+g[0].filename+"&type="+g[1]+"&filetype=meta"))&&v(t,"href",p),g[0].metadata&&g[0].metadata_show?m?(m.p(g,C),C&1&&x(m,1)):(m=Dn(g),m.c(),x(m,1),m.m(f.parentNode,f)):m&&(Q(),L(m,1,1,()=>{m=null}),Z())},i(g){_||(x(n.$$.fragment,g),x(m),_=!0)},o(g){L(n.$$.fragment,g),L(m),_=!1},d(g){g&&(c(e),c(o),c(f)),F(n),m&&m.d(g)}}}function Dn(s){let e,t;return e=new es({props:{data:s[0].metadata,in_main_page:s[2]}}),{c(){K(e.$$.fragment)},l(n){U(e.$$.fragment,n)},m(n,a){H(e,n,a),t=!0},p(n,a){const i={};a&1&&(i.data=n[0].metadata),a&4&&(i.in_main_page=n[2]),e.$set(i)},i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function ks(s){let e,t,n,a;const i=[vs,ps,ms,cs],r=[];function p(o,f){return o[4]===0?0:o[4]===1?1:o[4]===2?2:o[4]===3?3:-1}return~(e=p(s))&&(t=r[e]=i[e](s)),{c(){t&&t.c(),n=B()},l(o){t&&t.l(o),n=B()},m(o,f){~e&&r[e].m(o,f),I(o,n,f),a=!0},p(o,f){let _=e;e=p(o),e===_?~e&&r[e].p(o,f):(t&&(Q(),L(r[_],1,1,()=>{r[_]=null}),Z()),~e?(t=r[e],t?t.p(o,f):(t=r[e]=i[e](o),t.c()),x(t,1),t.m(n.parentNode,n)):t=null)},i(o){a||(x(t),a=!0)},o(o){L(t),a=!1},d(o){o&&c(n),~e&&r[e].d(o)}}}function Es(s){let e,t,n,a,i,r,p,o,f=s[0].filename+"",_,m,g,C,N,R,A,D,b,h,y,k,X,ee="Variable",et,W,ie,Tl="Short Name:",Ga,tt,wt=s[0].metadata.file.short_variable_name+"",Ft,qa,re,fe,jl="Long Name:",Ba,at,$t=s[0].metadata.file.long_name+"",Ht,za,_e,de,Ll="Unit:",Oa,lt,kt=s[0].metadata.file.unit+"",Ut,Fa,ue,ce,Rl="Cell Method:",Ha,nt,Et=s[0].metadata.file.cell_methods+"",Kt,Ua,me,pe,Gl="Global Min / Max:",Ka,te,St=ja(s[0].metadata.file.global_min,2)+"",Xt,Xa,Nt=ja(s[0].metadata.file.global_max,2)+"",Yt,Ya,ve,be,ql="Experiment ID:",Wa,st,Pt=s[0].metadata.file.experiment_id+"",Wt,Ja,ge,he,Bl="Bias Correction:",Qa,ot,Vt=s[0].metadata.file.bias_correction+"",Jt,Za,Ce,we,zl="Indicator:",el,it,yt=s[0].metadata.file.indicator+"",Qt,tl,$e,Ol="Spatial",al,ke,Ee,Fl="Resolution:",ll,rt,xt=s[0].metadata.file.nominal_resolution+"",Zt,nl,Se,Hl="Time",sl,Ne,Pe,Ul="Coverage:",ol,ae,At=s[0].metadata.file.time_coverage_start+"",ea,il,Dt=s[0].metadata.file.time_coverage_end+"",ta,rl,Ve,ye,Kl="Frequency:",fl,ft,It=s[0].metadata.file.frequency+"",aa,_l,xe,Ae,Xl="Number of time steps:",dl,_t,Mt=s[0].metadata.file.num_time_steps+"",la,ul,De,Ie,Yl="Units:",cl,dt,Tt=s[0].metadata.file.time_units+"",na,ml,Me,Te,Wl="Calendar:",pl,ut,jt=s[0].metadata.file.time_calendar+"",sa,vl,je,Le,Jl="Resolution sfsfsdf:",bl,ct,Lt=s[0].metadata.file.nominal_resolution+"",oa,gl,ia,ra,Re,Ql="File",hl,Ge,qe,Zl="Format:",Cl,mt,Rt=s[0].metadata.file.file_format+"",fa,wl,Be,ze,en="Size:",$l,pt,Gt=Sn(s[0].metadata.file.file_size)+"",_a,kl,Oe,Fe,tn="Created:",El,vt,qt=s[0].metadata.file.birth_time+"",da,Sl,He,Ue,an="Last Modified:",Nl,bt,Bt=s[0].metadata.file.last_modification_time+"",ua,Pl,J,le,Vl,Ke,ln="ℹ️ Cite as:",yl,gt,nn='<span class="font-bold text-blue-400">Reference:</span> <span>please contact the TIPPECC team</span>',xl,ne,Al,zt,ca,se,G,z=s[0].metadata.file.climatology_bounds&&Nn(s),O=s[0].metadata.file.climatology_bounds_details&&Pn(s);return le=new os({props:{extent:[s[0].metadata.file.geospatial_lon_min,s[0].metadata.file.geospatial_lat_min,s[0].metadata.file.geospatial_lon_max,s[0].metadata.file.geospatial_lat_max]}}),ne=new Qn({props:{file:s[0].metadata.file,in_main_page:!1}}),se=new Zn({props:{labelledby:"Tabs for additional information",$$slots:{panel:[ks],default:[us]},$$scope:{ctx:s}}}),{c(){e=u("br"),t=$(),n=u("div"),a=u("div"),i=u("h2"),r=u("img"),o=$(),_=T(f),m=$(),g=u("a"),C=T("Collection View"),R=$(),A=u("div"),D=u("span"),b=T(s[3]),h=$(),y=u("div"),k=u("div"),X=u("div"),X.textContent=ee,et=$(),W=u("div"),ie=u("span"),ie.textContent=Tl,Ga=$(),tt=u("span"),Ft=T(wt),qa=$(),re=u("div"),fe=u("span"),fe.textContent=jl,Ba=$(),at=u("span"),Ht=T($t),za=$(),_e=u("div"),de=u("span"),de.textContent=Ll,Oa=$(),lt=u("span"),Ut=T(kt),Fa=$(),ue=u("div"),ce=u("span"),ce.textContent=Rl,Ha=$(),nt=u("span"),Kt=T(Et),Ua=$(),me=u("div"),pe=u("span"),pe.textContent=Gl,Ka=$(),te=u("span"),Xt=T(St),Xa=T(" / "),Yt=T(Nt),Ya=$(),ve=u("div"),be=u("span"),be.textContent=ql,Wa=$(),st=u("span"),Wt=T(Pt),Ja=$(),ge=u("div"),he=u("span"),he.textContent=Bl,Qa=$(),ot=u("span"),Jt=T(Vt),Za=$(),Ce=u("div"),we=u("span"),we.textContent=zl,el=$(),it=u("span"),Qt=T(yt),tl=$(),$e=u("div"),$e.textContent=Ol,al=$(),ke=u("div"),Ee=u("span"),Ee.textContent=Fl,ll=$(),rt=u("span"),Zt=T(xt),nl=$(),Se=u("div"),Se.textContent=Hl,sl=$(),Ne=u("div"),Pe=u("span"),Pe.textContent=Ul,ol=$(),ae=u("span"),ea=T(At),il=T(" - "),ta=T(Dt),rl=$(),Ve=u("div"),ye=u("span"),ye.textContent=Kl,fl=$(),ft=u("span"),aa=T(It),_l=$(),xe=u("div"),Ae=u("span"),Ae.textContent=Xl,dl=$(),_t=u("span"),la=T(Mt),ul=$(),De=u("div"),Ie=u("span"),Ie.textContent=Yl,cl=$(),dt=u("span"),na=T(Tt),ml=$(),Me=u("div"),Te=u("span"),Te.textContent=Wl,pl=$(),ut=u("span"),sa=T(jt),vl=$(),je=u("div"),Le=u("span"),Le.textContent=Jl,bl=$(),ct=u("span"),oa=T(Lt),gl=$(),z&&z.c(),ia=$(),O&&O.c(),ra=$(),Re=u("div"),Re.textContent=Ql,hl=$(),Ge=u("div"),qe=u("span"),qe.textContent=Zl,Cl=$(),mt=u("span"),fa=T(Rt),wl=$(),Be=u("div"),ze=u("span"),ze.textContent=en,$l=$(),pt=u("span"),_a=T(Gt),kl=$(),Oe=u("div"),Fe=u("span"),Fe.textContent=tn,El=$(),vt=u("span"),da=T(qt),Sl=$(),He=u("div"),Ue=u("span"),Ue.textContent=an,Nl=$(),bt=u("span"),ua=T(Bt),Pl=$(),J=u("div"),K(le.$$.fragment),Vl=$(),Ke=u("h2"),Ke.textContent=ln,yl=$(),gt=u("div"),gt.innerHTML=nn,xl=$(),K(ne.$$.fragment),Al=$(),zt=u("div"),ca=$(),K(se.$$.fragment),this.h()},l(S){e=d(S,"BR",{}),t=w(S),n=d(S,"DIV",{class:!0});var V=E(n);a=d(V,"DIV",{class:!0});var Xe=E(a);i=d(Xe,"H2",{class:!0});var Ye=E(i);r=d(Ye,"IMG",{src:!0,alt:!0,width:!0}),o=w(Ye),_=M(Ye,f),Ye.forEach(c),m=w(Xe),g=d(Xe,"A",{href:!0,class:!0});var Ot=E(g);C=M(Ot,"Collection View"),Ot.forEach(c),Xe.forEach(c),R=w(V),A=d(V,"DIV",{class:!0});var sn=E(A);D=d(sn,"SPAN",{class:!0});var on=E(D);b=M(on,s[3]),on.forEach(c),sn.forEach(c),h=w(V),y=d(V,"DIV",{class:!0});var ma=E(y);k=d(ma,"DIV",{class:!0});var P=E(k);X=d(P,"DIV",{class:!0,"data-svelte-h":!0}),j(X)!=="svelte-1qkel0h"&&(X.textContent=ee),et=w(P),W=d(P,"DIV",{});var pa=E(W);ie=d(pa,"SPAN",{class:!0,"data-svelte-h":!0}),j(ie)!=="svelte-1jfkrui"&&(ie.textContent=Tl),Ga=w(pa),tt=d(pa,"SPAN",{class:!0});var rn=E(tt);Ft=M(rn,wt),rn.forEach(c),pa.forEach(c),qa=w(P),re=d(P,"DIV",{});var va=E(re);fe=d(va,"SPAN",{class:!0,"data-svelte-h":!0}),j(fe)!=="svelte-95x5vo"&&(fe.textContent=jl),Ba=w(va),at=d(va,"SPAN",{class:!0});var fn=E(at);Ht=M(fn,$t),fn.forEach(c),va.forEach(c),za=w(P),_e=d(P,"DIV",{});var ba=E(_e);de=d(ba,"SPAN",{class:!0,"data-svelte-h":!0}),j(de)!=="svelte-1riumd7"&&(de.textContent=Ll),Oa=w(ba),lt=d(ba,"SPAN",{class:!0});var _n=E(lt);Ut=M(_n,kt),_n.forEach(c),ba.forEach(c),Fa=w(P),ue=d(P,"DIV",{});var ga=E(ue);ce=d(ga,"SPAN",{class:!0,"data-svelte-h":!0}),j(ce)!=="svelte-1m5avlc"&&(ce.textContent=Rl),Ha=w(ga),nt=d(ga,"SPAN",{class:!0});var dn=E(nt);Kt=M(dn,Et),dn.forEach(c),ga.forEach(c),Ua=w(P),me=d(P,"DIV",{});var ha=E(me);pe=d(ha,"SPAN",{class:!0,"data-svelte-h":!0}),j(pe)!=="svelte-v1003d"&&(pe.textContent=Gl),Ka=w(ha),te=d(ha,"SPAN",{class:!0});var Ca=E(te);Xt=M(Ca,St),Xa=M(Ca," / "),Yt=M(Ca,Nt),Ca.forEach(c),ha.forEach(c),Ya=w(P),ve=d(P,"DIV",{});var wa=E(ve);be=d(wa,"SPAN",{class:!0,"data-svelte-h":!0}),j(be)!=="svelte-1aemhv1"&&(be.textContent=ql),Wa=w(wa),st=d(wa,"SPAN",{class:!0});var un=E(st);Wt=M(un,Pt),un.forEach(c),wa.forEach(c),Ja=w(P),ge=d(P,"DIV",{});var $a=E(ge);he=d($a,"SPAN",{class:!0,"data-svelte-h":!0}),j(he)!=="svelte-yu4sta"&&(he.textContent=Bl),Qa=w($a),ot=d($a,"SPAN",{class:!0});var cn=E(ot);Jt=M(cn,Vt),cn.forEach(c),$a.forEach(c),Za=w(P),Ce=d(P,"DIV",{});var ka=E(Ce);we=d(ka,"SPAN",{class:!0,"data-svelte-h":!0}),j(we)!=="svelte-18t9erc"&&(we.textContent=zl),el=w(ka),it=d(ka,"SPAN",{class:!0});var mn=E(it);Qt=M(mn,yt),mn.forEach(c),ka.forEach(c),tl=w(P),$e=d(P,"DIV",{class:!0,"data-svelte-h":!0}),j($e)!=="svelte-nmsyi9"&&($e.textContent=Ol),al=w(P),ke=d(P,"DIV",{});var Ea=E(ke);Ee=d(Ea,"SPAN",{class:!0,"data-svelte-h":!0}),j(Ee)!=="svelte-1si6ldz"&&(Ee.textContent=Fl),ll=w(Ea),rt=d(Ea,"SPAN",{class:!0});var pn=E(rt);Zt=M(pn,xt),pn.forEach(c),Ea.forEach(c),nl=w(P),Se=d(P,"DIV",{class:!0,"data-svelte-h":!0}),j(Se)!=="svelte-1hwy0rm"&&(Se.textContent=Hl),sl=w(P),Ne=d(P,"DIV",{});var Sa=E(Ne);Pe=d(Sa,"SPAN",{class:!0,"data-svelte-h":!0}),j(Pe)!=="svelte-q5fozz"&&(Pe.textContent=Ul),ol=w(Sa),ae=d(Sa,"SPAN",{class:!0});var Na=E(ae);ea=M(Na,At),il=M(Na," - "),ta=M(Na,Dt),Na.forEach(c),Sa.forEach(c),rl=w(P),Ve=d(P,"DIV",{});var Pa=E(Ve);ye=d(Pa,"SPAN",{class:!0,"data-svelte-h":!0}),j(ye)!=="svelte-pubmin"&&(ye.textContent=Kl),fl=w(Pa),ft=d(Pa,"SPAN",{class:!0});var vn=E(ft);aa=M(vn,It),vn.forEach(c),Pa.forEach(c),_l=w(P),xe=d(P,"DIV",{});var Va=E(xe);Ae=d(Va,"SPAN",{class:!0,"data-svelte-h":!0}),j(Ae)!=="svelte-1ckaxst"&&(Ae.textContent=Xl),dl=w(Va),_t=d(Va,"SPAN",{class:!0});var bn=E(_t);la=M(bn,Mt),bn.forEach(c),Va.forEach(c),ul=w(P),De=d(P,"DIV",{});var ya=E(De);Ie=d(ya,"SPAN",{class:!0,"data-svelte-h":!0}),j(Ie)!=="svelte-1ofm2ee"&&(Ie.textContent=Yl),cl=w(ya),dt=d(ya,"SPAN",{class:!0});var gn=E(dt);na=M(gn,Tt),gn.forEach(c),ya.forEach(c),ml=w(P),Me=d(P,"DIV",{});var xa=E(Me);Te=d(xa,"SPAN",{class:!0,"data-svelte-h":!0}),j(Te)!=="svelte-1r37iff"&&(Te.textContent=Wl),pl=w(xa),ut=d(xa,"SPAN",{class:!0});var hn=E(ut);sa=M(hn,jt),hn.forEach(c),xa.forEach(c),vl=w(P),je=d(P,"DIV",{});var Aa=E(je);Le=d(Aa,"SPAN",{class:!0,"data-svelte-h":!0}),j(Le)!=="svelte-pbrzny"&&(Le.textContent=Jl),bl=w(Aa),ct=d(Aa,"SPAN",{class:!0});var Cn=E(ct);oa=M(Cn,Lt),Cn.forEach(c),Aa.forEach(c),gl=w(P),z&&z.l(P),ia=w(P),O&&O.l(P),ra=w(P),Re=d(P,"DIV",{class:!0,"data-svelte-h":!0}),j(Re)!=="svelte-147jlv5"&&(Re.textContent=Ql),hl=w(P),Ge=d(P,"DIV",{});var Da=E(Ge);qe=d(Da,"SPAN",{class:!0,"data-svelte-h":!0}),j(qe)!=="svelte-1g3bwdk"&&(qe.textContent=Zl),Cl=w(Da),mt=d(Da,"SPAN",{class:!0});var wn=E(mt);fa=M(wn,Rt),wn.forEach(c),Da.forEach(c),wl=w(P),Be=d(P,"DIV",{});var Ia=E(Be);ze=d(Ia,"SPAN",{class:!0,"data-svelte-h":!0}),j(ze)!=="svelte-1s8sufe"&&(ze.textContent=en),$l=w(Ia),pt=d(Ia,"SPAN",{class:!0});var $n=E(pt);_a=M($n,Gt),$n.forEach(c),Ia.forEach(c),kl=w(P),Oe=d(P,"DIV",{});var Ma=E(Oe);Fe=d(Ma,"SPAN",{class:!0,"data-svelte-h":!0}),j(Fe)!=="svelte-18jov5"&&(Fe.textContent=tn),El=w(Ma),vt=d(Ma,"SPAN",{class:!0});var kn=E(vt);da=M(kn,qt),kn.forEach(c),Ma.forEach(c),Sl=w(P),He=d(P,"DIV",{});var Ta=E(He);Ue=d(Ta,"SPAN",{class:!0,"data-svelte-h":!0}),j(Ue)!=="svelte-jq7tld"&&(Ue.textContent=an),Nl=w(Ta),bt=d(Ta,"SPAN",{class:!0});var En=E(bt);ua=M(En,Bt),En.forEach(c),Ta.forEach(c),P.forEach(c),Pl=w(ma),J=d(ma,"DIV",{class:!0});var ht=E(J);U(le.$$.fragment,ht),Vl=w(ht),Ke=d(ht,"H2",{class:!0,"data-svelte-h":!0}),j(Ke)!=="svelte-1fwzv4e"&&(Ke.textContent=ln),yl=w(ht),gt=d(ht,"DIV",{"data-svelte-h":!0}),j(gt)!=="svelte-1p0nu6r"&&(gt.innerHTML=nn),ht.forEach(c),ma.forEach(c),xl=w(V),U(ne.$$.fragment,V),Al=w(V),zt=d(V,"DIV",{class:!0}),E(zt).forEach(c),V.forEach(c),ca=w(S),U(se.$$.fragment,S),this.h()},h(){Ln(r.src,p=is)||v(r,"src",p),v(r,"alt","..."),v(r,"width","30px"),v(i,"class","text-lg text-label font-semibold flex items-center gap-2 text-white"),v(g,"href",N="/climate_services_gateway/collections/?type="+s[1]+"&filename="+s[0].filename),v(g,"class","px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600"),v(a,"class","flex items-center justify-between mb-3"),v(D,"class","font-semibold"),v(A,"class","bg-surface-700 rounded-lg p-4"),v(X,"class","font-bold text-lg"),v(ie,"class","font-bold ml-4 text-blue-400"),v(tt,"class","ml-2"),v(fe,"class","font-bold ml-4 text-blue-400"),v(at,"class","ml-2"),v(de,"class","font-bold ml-4 text-blue-400"),v(lt,"class","ml-2"),v(ce,"class","font-bold ml-4 text-blue-400"),v(nt,"class","ml-2"),v(pe,"class","font-bold ml-4 text-blue-400"),v(te,"class","font-medium text-zinc-300"),v(be,"class","font-bold ml-4 text-blue-400"),v(st,"class","ml-2"),v(he,"class","font-bold ml-4 text-blue-400"),v(ot,"class","ml-2"),v(we,"class","font-bold ml-4 text-blue-400"),v(it,"class","ml-2"),v($e,"class","font-bold text-lg mt-4"),v(Ee,"class","font-bold ml-4 text-blue-400"),v(rt,"class","ml-2"),v(Se,"class","font-bold text-lg mt-4"),v(Pe,"class","font-bold ml-4 text-blue-400"),v(ae,"class","ml-2"),v(ye,"class","font-bold ml-4 text-blue-400"),v(ft,"class","ml-2"),v(Ae,"class","font-bold ml-4 text-blue-400"),v(_t,"class","ml-2"),v(Ie,"class","font-bold ml-4 text-blue-400"),v(dt,"class","ml-2"),v(Te,"class","font-bold ml-4 text-blue-400"),v(ut,"class","ml-2"),v(Le,"class","font-bold ml-4 text-blue-400"),v(ct,"class","ml-2"),v(Re,"class","font-bold text-lg mt-4"),v(qe,"class","font-bold ml-4 text-blue-400"),v(mt,"class","ml-2"),v(ze,"class","font-bold ml-4 text-blue-400"),v(pt,"class","ml-2"),v(Fe,"class","font-bold ml-4 text-blue-400"),v(vt,"class","ml-2"),v(Ue,"class","ffont-bold ml-4"),v(bt,"class","ml-2"),v(k,"class","p-4"),v(Ke,"class","text-lg font-semibold mb-3 flex items-center gap-2 text-white"),v(J,"class","p-4"),v(y,"class","grid grid-cols-1 md:grid-cols-2 gap-y-2 gap-x-4 mt-4 bg-surface-800 rounded-lg"),v(zt,"class","grid grid-cols-1 md:grid-cols-2 gap-y-2 gap-x-4 text-zinc-200 mt-3"),v(n,"class","")},m(S,V){I(S,e,V),I(S,t,V),I(S,n,V),l(n,a),l(a,i),l(i,r),l(i,o),l(i,_),l(a,m),l(a,g),l(g,C),l(n,R),l(n,A),l(A,D),l(D,b),l(n,h),l(n,y),l(y,k),l(k,X),l(k,et),l(k,W),l(W,ie),l(W,Ga),l(W,tt),l(tt,Ft),l(k,qa),l(k,re),l(re,fe),l(re,Ba),l(re,at),l(at,Ht),l(k,za),l(k,_e),l(_e,de),l(_e,Oa),l(_e,lt),l(lt,Ut),l(k,Fa),l(k,ue),l(ue,ce),l(ue,Ha),l(ue,nt),l(nt,Kt),l(k,Ua),l(k,me),l(me,pe),l(me,Ka),l(me,te),l(te,Xt),l(te,Xa),l(te,Yt),l(k,Ya),l(k,ve),l(ve,be),l(ve,Wa),l(ve,st),l(st,Wt),l(k,Ja),l(k,ge),l(ge,he),l(ge,Qa),l(ge,ot),l(ot,Jt),l(k,Za),l(k,Ce),l(Ce,we),l(Ce,el),l(Ce,it),l(it,Qt),l(k,tl),l(k,$e),l(k,al),l(k,ke),l(ke,Ee),l(ke,ll),l(ke,rt),l(rt,Zt),l(k,nl),l(k,Se),l(k,sl),l(k,Ne),l(Ne,Pe),l(Ne,ol),l(Ne,ae),l(ae,ea),l(ae,il),l(ae,ta),l(k,rl),l(k,Ve),l(Ve,ye),l(Ve,fl),l(Ve,ft),l(ft,aa),l(k,_l),l(k,xe),l(xe,Ae),l(xe,dl),l(xe,_t),l(_t,la),l(k,ul),l(k,De),l(De,Ie),l(De,cl),l(De,dt),l(dt,na),l(k,ml),l(k,Me),l(Me,Te),l(Me,pl),l(Me,ut),l(ut,sa),l(k,vl),l(k,je),l(je,Le),l(je,bl),l(je,ct),l(ct,oa),l(k,gl),z&&z.m(k,null),l(k,ia),O&&O.m(k,null),l(k,ra),l(k,Re),l(k,hl),l(k,Ge),l(Ge,qe),l(Ge,Cl),l(Ge,mt),l(mt,fa),l(k,wl),l(k,Be),l(Be,ze),l(Be,$l),l(Be,pt),l(pt,_a),l(k,kl),l(k,Oe),l(Oe,Fe),l(Oe,El),l(Oe,vt),l(vt,da),l(k,Sl),l(k,He),l(He,Ue),l(He,Nl),l(He,bt),l(bt,ua),l(y,Pl),l(y,J),H(le,J,null),l(J,Vl),l(J,Ke),l(J,yl),l(J,gt),l(n,xl),H(ne,n,null),l(n,Al),l(n,zt),I(S,ca,V),H(se,S,V),G=!0},p(S,[V]){(!G||V&1)&&f!==(f=S[0].filename+"")&&q(_,f),(!G||V&3&&N!==(N="/climate_services_gateway/collections/?type="+S[1]+"&filename="+S[0].filename))&&v(g,"href",N),(!G||V&8)&&q(b,S[3]),(!G||V&1)&&wt!==(wt=S[0].metadata.file.short_variable_name+"")&&q(Ft,wt),(!G||V&1)&&$t!==($t=S[0].metadata.file.long_name+"")&&q(Ht,$t),(!G||V&1)&&kt!==(kt=S[0].metadata.file.unit+"")&&q(Ut,kt),(!G||V&1)&&Et!==(Et=S[0].metadata.file.cell_methods+"")&&q(Kt,Et),(!G||V&1)&&St!==(St=ja(S[0].metadata.file.global_min,2)+"")&&q(Xt,St),(!G||V&1)&&Nt!==(Nt=ja(S[0].metadata.file.global_max,2)+"")&&q(Yt,Nt),(!G||V&1)&&Pt!==(Pt=S[0].metadata.file.experiment_id+"")&&q(Wt,Pt),(!G||V&1)&&Vt!==(Vt=S[0].metadata.file.bias_correction+"")&&q(Jt,Vt),(!G||V&1)&&yt!==(yt=S[0].metadata.file.indicator+"")&&q(Qt,yt),(!G||V&1)&&xt!==(xt=S[0].metadata.file.nominal_resolution+"")&&q(Zt,xt),(!G||V&1)&&At!==(At=S[0].metadata.file.time_coverage_start+"")&&q(ea,At),(!G||V&1)&&Dt!==(Dt=S[0].metadata.file.time_coverage_end+"")&&q(ta,Dt),(!G||V&1)&&It!==(It=S[0].metadata.file.frequency+"")&&q(aa,It),(!G||V&1)&&Mt!==(Mt=S[0].metadata.file.num_time_steps+"")&&q(la,Mt),(!G||V&1)&&Tt!==(Tt=S[0].metadata.file.time_units+"")&&q(na,Tt),(!G||V&1)&&jt!==(jt=S[0].metadata.file.time_calendar+"")&&q(sa,jt),(!G||V&1)&&Lt!==(Lt=S[0].metadata.file.nominal_resolution+"")&&q(oa,Lt),S[0].metadata.file.climatology_bounds?z?z.p(S,V):(z=Nn(S),z.c(),z.m(k,ia)):z&&(z.d(1),z=null),S[0].metadata.file.climatology_bounds_details?O?O.p(S,V):(O=Pn(S),O.c(),O.m(k,ra)):O&&(O.d(1),O=null),(!G||V&1)&&Rt!==(Rt=S[0].metadata.file.file_format+"")&&q(fa,Rt),(!G||V&1)&&Gt!==(Gt=Sn(S[0].metadata.file.file_size)+"")&&q(_a,Gt),(!G||V&1)&&qt!==(qt=S[0].metadata.file.birth_time+"")&&q(da,qt),(!G||V&1)&&Bt!==(Bt=S[0].metadata.file.last_modification_time+"")&&q(ua,Bt);const Xe={};V&1&&(Xe.extent=[S[0].metadata.file.geospatial_lon_min,S[0].metadata.file.geospatial_lat_min,S[0].metadata.file.geospatial_lon_max,S[0].metadata.file.geospatial_lat_max]),le.$set(Xe);const Ye={};V&1&&(Ye.file=S[0].metadata.file),ne.$set(Ye);const Ot={};V&32823&&(Ot.$$scope={dirty:V,ctx:S}),se.$set(Ot)},i(S){G||(x(le.$$.fragment,S),x(ne.$$.fragment,S),x(se.$$.fragment,S),G=!0)},o(S){L(le.$$.fragment,S),L(ne.$$.fragment,S),L(se.$$.fragment,S),G=!1},d(S){S&&(c(e),c(t),c(n),c(ca)),z&&z.d(),O&&O.d(),F(le),F(ne),F(se,S)}}}function oe(s){if(typeof s=="object"){const e=s[0].split("-")[0],t=s[1].split("-")[0];return e+" - "+t}else return s.split("-")[0]}function Ss(s,e,t){let n,{folder_data:a}=e,{file_obj:i}=e,{foldertype:r}=e,{in_main_page:p}=e;i!=null&&(a=a[i.index]);let o="No description available";if(!p)try{o=as(a.filename,r,a.metadata)}catch(b){console.log(b)}let f=Math.random().toString(36).substring(2,15),_=a.tabset;function m(b){s.$$.not_equal(a.metadata_prov,b)&&(a.metadata_prov=b,t(0,a))}function g(b){s.$$.not_equal(a.metadata_prov_stats,b)&&(a.metadata_prov_stats=b,t(0,a))}function C(b){n=b,t(5,n),t(0,a)}function N(b){_=b,t(4,_)}function R(b){_=b,t(4,_)}function A(b){_=b,t(4,_)}function D(b){_=b,t(4,_)}return s.$$set=b=>{"folder_data"in b&&t(0,a=b.folder_data),"file_obj"in b&&t(7,i=b.file_obj),"foldertype"in b&&t(1,r=b.foldertype),"in_main_page"in b&&t(2,p=b.in_main_page)},s.$$.update=()=>{s.$$.dirty&1&&t(5,n=a.filename)},[a,r,p,o,_,n,f,i,m,g,C,N,R,A,D]}class Ns extends Il{constructor(e){super(),Ml(this,e,Ss,Es,Ra,{folder_data:0,file_obj:7,foldertype:1,in_main_page:2})}}function In(s){let e,t;return e=new Ns({props:{folder_data:s[0],file_obj:jn,foldertype:s[1],in_main_page:Vs}}),{c(){K(e.$$.fragment)},l(n){U(e.$$.fragment,n)},m(n,a){H(e,n,a),t=!0},p(n,a){const i={};a&1&&(i.folder_data=n[0]),a&2&&(i.foldertype=n[1]),e.$set(i)},i(n){t||(x(e.$$.fragment,n),t=!0)},o(n){L(e.$$.fragment,n),t=!1},d(n){F(e,n)}}}function Ps(s){let e,t,n=`<h1 class="content-heading">File Information</h1> <img src="${Rn}" alt="..." width="30px"/>`,a,i,r=`This page shows detailed information for a single file in the Climate Services Gateway. Download
		is currently only available via the collection view.`,p,o,f=s[0]&&s[0].metadata&&In(s);return{c(){e=u("div"),t=u("div"),t.innerHTML=n,a=$(),i=u("blockquote"),i.textContent=r,p=$(),f&&f.c(),this.h()},l(_){e=d(_,"DIV",{class:!0});var m=E(e);t=d(m,"DIV",{class:!0,"data-svelte-h":!0}),j(t)!=="svelte-1q2fsxv"&&(t.innerHTML=n),a=w(m),i=d(m,"BLOCKQUOTE",{class:!0,"data-svelte-h":!0}),j(i)!=="svelte-13yk7z6"&&(i.textContent=r),p=w(m),f&&f.l(m),m.forEach(c),this.h()},h(){v(t,"class","flex"),v(i,"class","content-blockquote mb-4"),v(e,"class","content-div")},m(_,m){I(_,e,m),l(e,t),l(e,a),l(e,i),l(e,p),f&&f.m(e,null),o=!0},p(_,[m]){_[0]&&_[0].metadata?f?(f.p(_,m),m&1&&x(f,1)):(f=In(_),f.c(),x(f,1),f.m(e,null)):f&&(Q(),L(f,1,1,()=>{f=null}),Z())},i(_){o||(x(f),o=!0)},o(_){L(f),o=!1},d(_){_&&c(e),f&&f.d()}}}const jn=null,Vs=!1;function ys(s,e,t){let n=[],a,i="",r="";async function p(f,_){t(0,a=await Jn(f,_)),console.log(a),o(_,f)}async function o(f,_){console.log("get_metadata_and_prov",f,_,jn),t(0,a.tabset=0,a);const m=await fetch(Ze+"/climate/get_temp_file?name="+f+"&type="+_+"&filetype=meta",{method:"GET"});if(!m.ok)a.metadata||t(0,a.metadata={},a),t(0,a.metadata={"currently no metadata available":"for this file"},a),t(0,a.metadata_exists=!1,a),console.log(a.metadata);else{const N=await m.json();n=N,await Ct(),a.metadata||t(0,a.metadata={},a),t(0,a.metadata_exists=!0,a),t(0,a.metadata=N,a),await Ct(),console.log(n)}const g=await fetch(Ze+"/climate/get_temp_file?name="+f+"&type="+_+"&filetype=prov",{method:"GET"});if(!g.ok)a.metadata_prov||t(0,a.metadata_prov={},a),t(0,a.metadata_prov_exists=!1,a),t(0,a.metadata_prov={"currently no provenance information available":"for this file"},a),console.log(a.metadata_prov);else{const N=await g.json();n=N,await Ct(),a.metadata_prov||t(0,a.metadata_prov={},a),t(0,a.metadata_prov_exists=!0,a),t(0,a.metadata_prov=N,a),await Ct(),console.log(n)}const C=await fetch(Ze+"/climate/get_temp_file?name="+f+"&type="+_+"&filetype=prov_stats",{method:"GET"});if(!C.ok)a.metadata_prov_stats||t(0,a.metadata_prov_stats={},a),t(0,a.metadata_prov_stats_exists=!1,a),t(0,a.metadata_prov_stats={"currently no provenance information available":"for this file"},a),console.log(a.metadata_prov_stats);else{const N=await C.json();n=N,await Ct(),a.metadata_prov_stats||t(0,a.metadata_prov_stats={},a),t(0,a.metadata_prov_stats_exists=!0,a),t(0,a.metadata_prov_stats=N,a),await Ct(),console.log(n)}t(0,a.metadata_show=!0,a),history.pushState({},"","?type="+_+"&filename="+f)}Mn(()=>{p(i,r),console.log(a)});{const f=new URLSearchParams(window.location.search),_=f.get("type");_&&t(1,i=_);const m=f.get("filename");m&&(r=m)}return[a,i]}class Ls extends Il{constructor(e){super(),Ml(this,e,ys,Ps,Ra,{})}}export{Ls as component};
//# sourceMappingURL=12.Dp_St-av.js.map
