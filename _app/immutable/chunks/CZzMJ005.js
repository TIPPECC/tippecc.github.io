import{w as ct}from"./cb8YYDgi.js";import{s as tt,n as Re,d as b,i as Pe,b as s,l as r,o as Ye,p as xt,e as E,q as Et,r as Xt,z as he,Y as Ve,u as le,Z as Wt,c as m,m as z,g as y,h as g,j as C,A as Yt,v as yt,a as Xe,f as pe,t as _e,k as Jt,_ as Zt,H as it,I as ot}from"./hL1o1GA-.js";import{S as nt,i as lt,d as Ut,t as $e,a as Je,g as Kt,e as Qt,m as At,c as Rt,b as zt,f as ut}from"./Bw33_lsU.js";import{e as Qe}from"./BQSi3Xno.js";import{A as $t}from"./CJq9Ms2Z.js";import{h as en,i as tn,d as dt,c as ft,j as nn,k as ln,s as Ct,F as et,l as wt,m as sn,n as rn,o as an,t as on,p as Dt,q as qt,r as ht,B as un,M as cn,V as dn,b as fn,u as Ae,O as hn,S as It,v as kt,e as mn,f as St,P as gn}from"./me9Y3lHJ.js";import{t as Vt}from"./BvhnEhN_.js";const jt=ct([]);async function Hn(){try{const n=await fetch(`${$t}/climate/get_folder_types`);if(!n.ok)throw new Error(`HTTP ${n.status}`);const e=await n.json();jt.set(e)}catch{}finally{}}var Pt,Tt;{const n=localStorage.content;Pt=ct(n||"HELLO WORLD!"),Tt=ct(JSON.parse(localStorage.getItem("tempresult_selection"))),Tt.subscribe(e=>localStorage.tempresult_selection=JSON.stringify(e)),Pt.subscribe(e=>localStorage.content=e)}function vn(n){let e,t;return{c(){e=Et("svg"),t=Et("path"),this.h()},l(u){e=xt(u,"svg",{width:!0,style:!0,viewBox:!0,fill:!0,xmlns:!0});var o=E(e);t=xt(o,"path",{id:!0,d:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0}),E(t).forEach(b),o.forEach(b),this.h()},h(){r(t,"id","Vector"),r(t,"d","M3 9V19.4C3 19.9601 3 20.2399 3.10899 20.4538C3.20487 20.642 3.35774 20.7952 3.5459 20.8911C3.7596 21 4.0395 21 4.59846 21H15.0001M17 8L13 12L11 10M7 13.8002V6.2002C7 5.08009 7 4.51962 7.21799 4.0918C7.40973 3.71547 7.71547 3.40973 8.0918 3.21799C8.51962 3 9.08009 3 10.2002 3H17.8002C18.9203 3 19.4801 3 19.9079 3.21799C20.2842 3.40973 20.5905 3.71547 20.7822 4.0918C21.0002 4.51962 21.0002 5.07969 21.0002 6.19978L21.0002 13.7998C21.0002 14.9199 21.0002 15.48 20.7822 15.9078C20.5905 16.2841 20.2842 16.5905 19.9079 16.7822C19.4805 17 18.9215 17 17.8036 17H10.1969C9.07899 17 8.5192 17 8.0918 16.7822C7.71547 16.5905 7.40973 16.2842 7.21799 15.9079C7 15.4801 7 14.9203 7 13.8002Z"),r(t,"stroke","currentColor"),r(t,"stroke-width","2"),r(t,"stroke-linecap","round"),r(t,"stroke-linejoin","round"),r(e,"width","30"),Ye(e,"flex","0 0 30px"),r(e,"viewBox","0 0 24 24"),r(e,"fill","none"),r(e,"xmlns","http://www.w3.org/2000/svg")},m(u,o){Pe(u,e,o),s(e,t)},p:Re,i:Re,o:Re,d(u){u&&b(e)}}}class bn extends nt{constructor(e){super(),lt(this,e,null,vn,tt,{})}}const pn={EXTENTCHANGED:"extentchanged"};class _n extends un{constructor(e){super(pn.EXTENTCHANGED),this.extent=e}}class Lt extends en{constructor(e){e=e||{},super(e),this.on,this.once,this.un,this.condition_=e.condition?e.condition:tn,this.extent_=null,this.pointerHandler_=null,this.pixelTolerance_=e.pixelTolerance!==void 0?e.pixelTolerance:10,this.snappedToVertex_=!1,this.extentFeature_=null,this.vertexFeature_=null,e||(e={}),this.extentOverlay_=new dt({source:new ft({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.boxStyle?e.boxStyle:xn(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.vertexOverlay_=new dt({source:new ft({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.pointerStyle?e.pointerStyle:En(),updateWhileAnimating:!0,updateWhileInteracting:!0}),e.extent&&this.setExtent(e.extent)}snapToVertex_(e,t){const u=t.getCoordinateFromPixelInternal(e),o=function(a,l){return Dt(u,a)-Dt(u,l)},d=this.getExtentInternal();if(d){const a=yn(d);a.sort(o);const l=a[0];let h=nn(u,l);const c=t.getPixelFromCoordinateInternal(h);if(ln(e,c)<=this.pixelTolerance_){const x=t.getPixelFromCoordinateInternal(l[0]),_=t.getPixelFromCoordinateInternal(l[1]),p=Ct(c,x),N=Ct(c,_),k=Math.sqrt(Math.min(p,N));return this.snappedToVertex_=k<=this.pixelTolerance_,this.snappedToVertex_&&(h=p>N?l[1]:l[0]),h}}return null}handlePointerMove_(e){const t=e.pixel,u=e.map;let o=this.snapToVertex_(t,u);o||(o=u.getCoordinateFromPixelInternal(t)),this.createOrUpdatePointerFeature_(o)}createOrUpdateExtentFeature_(e){let t=this.extentFeature_;return t?e?t.setGeometry(wt(e)):t.setGeometry(void 0):(e?t=new et(wt(e)):t=new et({}),this.extentFeature_=t,this.extentOverlay_.getSource().addFeature(t)),t}createOrUpdatePointerFeature_(e){let t=this.vertexFeature_;return t?t.getGeometry().setCoordinates(e):(t=new et(new sn(e)),this.vertexFeature_=t,this.vertexOverlay_.getSource().addFeature(t)),t}handleEvent(e){return!e.originalEvent||!this.condition_(e)?!0:(e.type==rn.POINTERMOVE&&!this.handlingDownUpSequence&&this.handlePointerMove_(e),super.handleEvent(e),!1)}handleDownEvent(e){const t=e.pixel,u=e.map,o=this.getExtentInternal();let d=this.snapToVertex_(t,u);const a=function(l){let h=null,c=null;return l[0]==o[0]?h=o[2]:l[0]==o[2]&&(h=o[0]),l[1]==o[1]?c=o[3]:l[1]==o[3]&&(c=o[1]),h!==null&&c!==null?[h,c]:null};if(d&&o){const l=d[0]==o[0]||d[0]==o[2]?d[0]:null,h=d[1]==o[1]||d[1]==o[3]?d[1]:null;l!==null&&h!==null?this.pointerHandler_=Bt(a(d)):l!==null?this.pointerHandler_=Mt(a([l,o[1]]),a([l,o[3]])):h!==null&&(this.pointerHandler_=Mt(a([o[0],h]),a([o[2],h])))}else d=u.getCoordinateFromPixelInternal(t),this.setExtent([d[0],d[1],d[0],d[1]]),this.pointerHandler_=Bt(d);return!0}handleDragEvent(e){if(this.pointerHandler_){const t=e.coordinate;this.setExtent(this.pointerHandler_(t)),this.createOrUpdatePointerFeature_(t)}}handleUpEvent(e){this.pointerHandler_=null;const t=this.getExtentInternal();return(!t||an(t)===0)&&this.setExtent(null),!1}setMap(e){this.extentOverlay_.setMap(e),this.vertexOverlay_.setMap(e),super.setMap(e)}getExtent(){return on(this.getExtentInternal(),this.getMap().getView().getProjection())}getExtentInternal(){return this.extent_}setExtent(e){this.extent_=e||null,this.createOrUpdateExtentFeature_(e),this.dispatchEvent(new _n(this.extent_))}}function xn(){const n=qt();return function(e,t){return n.Polygon}}function En(){const n=qt();return function(e,t){return n.Point}}function Bt(n){return function(e){return ht([n,e])}}function Mt(n,e){return n[0]==e[0]?function(t){return ht([n,[t[0],e[1]]])}:n[1]==e[1]?function(t){return ht([n,[e[0],t[1]]])}:null}function yn(n){return[[[n[0],n[1]],[n[0],n[3]]],[[n[0],n[3]],[n[2],n[3]]],[[n[2],n[3]],[n[2],n[1]]],[[n[2],n[1]],[n[0],n[1]]]]}function Cn(n){let e,t,u,o="a) Temporal Extent",d,a,l,h,c="Start date:",x,_,p,N,k,I,H="End date:",K,se,A,Q,re,f,q="Clear All",J,R,ee="b) Spatial Extent (Bounding Box)",G,D,i,T,xe,U,S,oe,ue="Longitude Min:",Ee,j,Te,ce,ze="Longitude Max:",ye,X,ae,W,ge="Latitude Min:",Le,O,Be,te,Me="Latitude Max:",Ne,V,ve,ie,Oe=`Use Shift+Drag to draw an extent. <br/>
					Use Shift+Drag on the corners of the extent to resize it.<br/>
					Use Shift+Click on the extent to remove it.<br/>`,Fe,Ce;return{c(){e=g("div"),t=g("div"),u=g("h5"),u.textContent=o,d=C(),a=g("div"),l=g("div"),h=g("label"),h.textContent=c,x=C(),_=g("div"),p=g("input"),N=C(),k=g("div"),I=g("label"),I.textContent=H,K=C(),se=g("div"),A=g("input"),Q=C(),re=g("div"),f=g("button"),f.textContent=q,J=C(),R=g("h5"),R.textContent=ee,G=C(),D=g("div"),i=g("div"),T=g("div"),xe=C(),U=g("div"),S=g("div"),oe=g("label"),oe.textContent=ue,Ee=C(),j=g("input"),Te=C(),ce=g("label"),ce.textContent=ze,ye=C(),X=g("input"),ae=C(),W=g("label"),W.textContent=ge,Le=C(),O=g("input"),Be=C(),te=g("label"),te.textContent=Me,Ne=C(),V=g("input"),ve=C(),ie=g("div"),ie.innerHTML=Oe,this.h()},l(L){e=m(L,"DIV",{class:!0});var Z=E(e);t=m(Z,"DIV",{class:!0});var de=E(t);u=m(de,"H5",{"data-svelte-h":!0}),z(u)!=="svelte-8b1qj0"&&(u.textContent=o),d=y(de),a=m(de,"DIV",{class:!0});var ne=E(a);l=m(ne,"DIV",{class:!0});var Ie=E(l);h=m(Ie,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),z(h)!=="svelte-1423pmq"&&(h.textContent=c),x=y(Ie),_=m(Ie,"DIV",{class:!0});var ke=E(_);p=m(ke,"INPUT",{id:!0,type:!0,class:!0,style:!0}),ke.forEach(b),Ie.forEach(b),N=y(ne),k=m(ne,"DIV",{class:!0});var we=E(k);I=m(we,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),z(I)!=="svelte-kd8bhk"&&(I.textContent=H),K=y(we),se=m(we,"DIV",{class:!0});var fe=E(se);A=m(fe,"INPUT",{id:!0,type:!0,class:!0,style:!0}),fe.forEach(b),we.forEach(b),Q=y(ne),re=m(ne,"DIV",{class:!0});var qe=E(re);f=m(qe,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),z(f)!=="svelte-681l57"&&(f.textContent=q),qe.forEach(b),ne.forEach(b),J=y(de),R=m(de,"H5",{class:!0,"data-svelte-h":!0}),z(R)!=="svelte-1kxkl4w"&&(R.textContent=ee),G=y(de),D=m(de,"DIV",{class:!0});var He=E(D);i=m(He,"DIV",{class:!0});var De=E(i);T=m(De,"DIV",{class:!0,id:!0}),E(T).forEach(b),De.forEach(b),xe=y(He),U=m(He,"DIV",{class:!0});var B=E(U);S=m(B,"DIV",{class:!0});var P=E(S);oe=m(P,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),z(oe)!=="svelte-1szomfq"&&(oe.textContent=ue),Ee=y(P),j=m(P,"INPUT",{id:!0,class:!0,type:!0,step:!0}),Te=y(P),ce=m(P,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),z(ce)!=="svelte-1kh3hy2"&&(ce.textContent=ze),ye=y(P),X=m(P,"INPUT",{id:!0,class:!0,type:!0,step:!0}),ae=y(P),W=m(P,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),z(W)!=="svelte-1kr6yud"&&(W.textContent=ge),Le=y(P),O=m(P,"INPUT",{id:!0,class:!0,type:!0,step:!0}),Be=y(P),te=m(P,"LABEL",{class:!0,for:!0,"data-svelte-h":!0}),z(te)!=="svelte-1rnry5l"&&(te.textContent=Me),Ne=y(P),V=m(P,"INPUT",{id:!0,class:!0,type:!0,step:!0}),P.forEach(b),ve=y(B),ie=m(B,"DIV",{class:!0,"data-svelte-h":!0}),z(ie)!=="svelte-1tkp13"&&(ie.innerHTML=Oe),B.forEach(b),He.forEach(b),de.forEach(b),Z.forEach(b),this.h()},h(){r(h,"for","start-date"),r(h,"class","text-sm font-medium mb-1"),r(p,"id","start-date"),r(p,"type","date"),r(p,"class","input input-bordered"),r(p,"style",Vt.toString()==="dark"?"color-scheme: dark":""),r(_,"class","relative"),r(l,"class","flex flex-col"),r(I,"for","end-date"),r(I,"class","text-sm font-medium mb-1"),r(A,"id","end-date"),r(A,"type","date"),r(A,"class","input input-bordered"),r(A,"style",Vt.toString()==="dark"?"color-scheme: dark":""),r(se,"class","relative"),r(k,"class","flex flex-col"),r(f,"class","btn bg-tertiary-900 hover:bg-tertiary-700 text-white font-semibold"),r(f,"type","button"),r(re,"class","flex flex-col justify-end mb-2 ml-auto"),r(a,"class","flex flex-row gap-4 mt-4 items-center"),r(R,"class","mt-6 mb-2"),r(T,"class","map svelte-8wu33y"),r(T,"id","map-container"),Wt(T,"hidden",!1),r(i,"class","flex-1 flex items-center justify-center"),r(oe,"class","mb-1 text-sm font-medium"),r(oe,"for","lon-min"),r(j,"id","lon-min"),r(j,"class","input input-bordered"),r(j,"type","number"),r(j,"step","0.01"),r(ce,"class","mb-1 text-sm font-medium"),r(ce,"for","lon-max"),r(X,"id","lon-max"),r(X,"class","input input-bordered"),r(X,"type","number"),r(X,"step","0.01"),r(W,"class","mb-1 text-sm font-medium"),r(W,"for","lat-min"),r(O,"id","lat-min"),r(O,"class","input input-bordered"),r(O,"type","number"),r(O,"step","0.01"),r(te,"class","mb-1 text-sm font-medium"),r(te,"for","lat-max"),r(V,"id","lat-max"),r(V,"class","input input-bordered"),r(V,"type","number"),r(V,"step","0.01"),r(S,"class","flex flex-col gap-2 mt-2"),r(ie,"class","mt-4 max-md:hidden text-sm italic"),r(U,"class","flex flex-col gap-4 md:w-[350px] min-w-[250px]"),r(D,"class","flex flex-row gap-8"),r(t,"class","card-body pb-3 pl-3 pr-3 pt-2 dark:bg-surface-700"),r(e,"class","card")},m(L,Z){Pe(L,e,Z),s(e,t),s(t,u),s(t,d),s(t,a),s(a,l),s(l,h),s(l,x),s(l,_),s(_,p),he(p,n[0]),s(a,N),s(a,k),s(k,I),s(k,K),s(k,se),s(se,A),he(A,n[1]),s(a,Q),s(a,re),s(re,f),s(t,J),s(t,R),s(t,G),s(t,D),s(D,i),s(i,T),s(D,xe),s(D,U),s(U,S),s(S,oe),s(S,Ee),s(S,j),he(j,n[2][0]),s(S,Te),s(S,ce),s(S,ye),s(S,X),he(X,n[2][1]),s(S,ae),s(S,W),s(S,Le),s(S,O),he(O,n[2][2]),s(S,Be),s(S,te),s(S,Ne),s(S,V),he(V,n[2][3]),s(U,ve),s(U,ie),Fe||(Ce=[le(p,"input",n[8]),le(A,"input",n[9]),le(f,"click",n[4]),le(j,"input",n[10]),le(j,"blur",n[3]),le(X,"input",n[11]),le(X,"blur",n[3]),le(O,"input",n[12]),le(O,"blur",n[3]),le(V,"input",n[13]),le(V,"blur",n[3])],Fe=!0)},p(L,[Z]){Z&1&&he(p,L[0]),Z&2&&he(A,L[1]),Z&4&&Ve(j.value)!==L[2][0]&&he(j,L[2][0]),Z&4&&Ve(X.value)!==L[2][1]&&he(X,L[2][1]),Z&4&&Ve(O.value)!==L[2][2]&&he(O,L[2][2]),Z&4&&Ve(V.value)!==L[2][3]&&he(V,L[2][3])},i:Re,o:Re,d(L){L&&b(e),Fe=!1,Xt(Ce)}}}function wn(n,e=1){return[n[0]-e,n[1]-e,n[2]+e,n[3]+e]}function Dn(n,e,t){let{boundingBox:u=null}=e,{startDate:o=""}=e,{endDate:d=""}=e,{startingExtent:a}=e,l=u||[null,null,null,null],h,c,x=!1;Yt(_);function _(){if(x===!1){const q=wn(a,10);console.log("Starting Extent:",a),console.log("Buffered Extent:",q),h=new cn({target:"map-container",layers:[new fn({source:new hn})],view:new dn({center:[1069792,-944278],extent:Ae(q,"EPSG:4326","EPSG:3857")})}),I(h,a),c=new Lt({condition:kt,boxStyle:new It({stroke:new St({color:"red",width:3}),fill:new mn({color:"rgba(255,0,0,0.1)"})})}),I(h,a),h.addInteraction(c),x=!0;const R=((ee,G)=>{let D;return(...i)=>{clearTimeout(D),D=setTimeout(()=>ee.apply(void 0,i),G)}})(N,300);c.on("extentchanged",R)}}function p(){if(l[0]!==null&&l[1]!==null&&l[0]>l[1]&&t(2,l[1]=l[0],l),l[2]!==null&&l[3]!==null&&l[2]>l[3]&&t(2,l[3]=l[2],l),l[0]!==null&&(l[0]<a[0]||l[0]>a[2])&&t(2,l[0]=a[0],l),l[1]!==null&&(l[1]>a[2]||l[1]<a[0])&&t(2,l[1]=a[2],l),l[2]!==null&&(l[2]<a[1]||l[2]>a[3])&&t(2,l[2]=a[1],l),l[3]!==null&&(l[3]>a[3]||l[3]<a[1])&&t(2,l[3]=a[3],l),x&&c&&l.every(f=>f!==null&&!isNaN(Number(f)))){const f=[Number(l[0]),Number(l[2]),Number(l[1]),Number(l[3])],q=Ae(f,"EPSG:4326","EPSG:3857");c.setExtent(q)}}function N(){if(console.log("Extent changed"),c.getExtent()===null)t(2,l=[null,null,null,null]);else{var f=Ae(c.getExtent(),"EPSG:3857","EPSG:4326");f[0]<a[0]&&f[2]>a[0]&&(f[0]=a[0],c.setExtent(Ae(f,"EPSG:4326","EPSG:3857"))),f[1]<a[1]&&f[3]>a[1]&&(f[1]=a[1],c.setExtent(Ae(f,"EPSG:4326","EPSG:3857"))),f[3]>a[3]&&f[1]<a[3]&&(f[3]=a[3],c.setExtent(Ae(f,"EPSG:4326","EPSG:3857"))),f[2]>a[2]&&f[0]<a[2]&&(f[2]=a[2],c.setExtent(Ae(f,"EPSG:4326","EPSG:3857"))),(f[0]<a[0]||f[1]<a[1]||f[2]>a[2]||f[3]>a[3])&&c.setExtent([0,0,0,0]),t(2,l[0]=f[0],l),t(2,l[1]=f[2],l),t(2,l[2]=f[1],l),t(2,l[3]=f[3],l)}}function k(){t(2,l=[null,null,null,null]),t(0,o=""),t(1,d=""),c&&(h.removeInteraction(c),c=new Lt({condition:kt}),h.addInteraction(c),h.getViewport().addEventListener("pointerup",()=>{c.getActive()&&N()}))}function I(f,q,J="EPSG:4326"){if(!f||!q||q.length!==4){console.error("Invalid map or extent");return}const[R,ee,G,D]=q,i=new gn([[[R,ee],[R,D],[G,D],[G,ee],[R,ee]]]);i.transform(J,f.getView().getProjection());const T=new et(i),xe=new ft({features:[T]}),U=new dt({source:xe,style:new It({stroke:new St({color:"rgba(255, 120, 0, 0.8)",width:2})})});return f.addLayer(U),f.getView().fit(i,{padding:[20,20,20,20]}),U}function H(){o=this.value,t(0,o)}function K(){d=this.value,t(1,d)}function se(){l[0]=Ve(this.value),t(2,l)}function A(){l[1]=Ve(this.value),t(2,l)}function Q(){l[2]=Ve(this.value),t(2,l)}function re(){l[3]=Ve(this.value),t(2,l)}return n.$$set=f=>{"boundingBox"in f&&t(5,u=f.boundingBox),"startDate"in f&&t(0,o=f.startDate),"endDate"in f&&t(1,d=f.endDate),"startingExtent"in f&&t(6,a=f.startingExtent)},n.$$.update=()=>{n.$$.dirty&4&&t(2,l=l.map(f=>f!==null&&!isNaN(Number(f))?Math.round(Number(f)*100)/100:f)),n.$$.dirty&4&&t(5,u=[...l])},[o,d,l,p,k,u,a,I,H,K,se,A,Q,re]}class In extends nt{constructor(e){super(),lt(this,e,Dn,Cn,tt,{boundingBox:5,startDate:0,endDate:1,startingExtent:6,drawExtentBox:7})}get drawExtentBox(){return this.$$.ctx[7]}}function Nt(n,e,t){const u=n.slice();return u[27]=e[t],u}function Ot(n,e,t){const u=n.slice();return u[30]=e[t],u}function Ft(n){let e,t=n[30].replace("CORDEX","CORDEX-CORE (RCM)").replace("CMIP6","CMIP6 (GCM)")+"",u,o,d,a;function l(){return n[12](n[30])}return{c(){e=g("button"),u=_e(t),this.h()},l(h){e=m(h,"BUTTON",{type:!0,class:!0});var c=E(e);u=pe(c,t),c.forEach(b),this.h()},h(){r(e,"type","button"),r(e,"class",o="btn-sm m-1 text-lg rounded-md hover:bg-tertiary-500 font-semibold text-white "+(n[4]==n[30]?" bg-tertiary-500 text-white underline":"bg-[#124495d4]")+" svelte-1h730f4")},m(h,c){Pe(h,e,c),s(e,u),d||(a=le(e,"click",l),d=!0)},p(h,c){n=h,c[0]&16&&o!==(o="btn-sm m-1 text-lg rounded-md hover:bg-tertiary-500 font-semibold text-white "+(n[4]==n[30]?" bg-tertiary-500 text-white underline":"bg-[#124495d4]")+" svelte-1h730f4")&&r(e,"class",o)},d(h){h&&b(e),d=!1,a()}}}function Ht(n){let e,t=n[27].display_name.replace(n[4],"").replace("-CORE","")+"",u,o,d,a;function l(){return n[13](n[27])}return{c(){e=g("button"),u=_e(t),this.h()},l(h){e=m(h,"BUTTON",{type:!0,class:!0});var c=E(e);u=pe(c,t),c.forEach(b),this.h()},h(){r(e,"type","button"),r(e,"class",o="btn-sm m-1 text-lg rounded-md hover:bg-tertiary-500 font-semibold text-white "+(n[0]==n[27].key?" bg-tertiary-500 underline":"bg-[#124495d4]")+" svelte-1h730f4")},m(h,c){Pe(h,e,c),s(e,u),d||(a=le(e,"click",l),d=!0)},p(h,c){n=h,c[0]&80&&t!==(t=n[27].display_name.replace(n[4],"").replace("-CORE","")+"")&&Xe(u,t),c[0]&65&&o!==(o="btn-sm m-1 text-lg rounded-md hover:bg-tertiary-500 font-semibold text-white "+(n[0]==n[27].key?" bg-tertiary-500 underline":"bg-[#124495d4]")+" svelte-1h730f4")&&r(e,"class",o)},d(h){h&&b(e),d=!1,a()}}}function Gt(n){var x;let e,t,u,o,d;function a(_){n[16](_)}function l(_){n[17](_)}function h(_){n[18](_)}let c={startingExtent:((x=n[6].find(n[15]))==null?void 0:x.bbox)??"[10, -35, 51, -5]"};return n[1]!==void 0&&(c.boundingBox=n[1]),n[2]!==void 0&&(c.startDate=n[2]),n[3]!==void 0&&(c.endDate=n[3]),e=new In({props:c}),it.push(()=>ut(e,"boundingBox",a)),it.push(()=>ut(e,"startDate",l)),it.push(()=>ut(e,"endDate",h)),{c(){zt(e.$$.fragment)},l(_){Rt(e.$$.fragment,_)},m(_,p){At(e,_,p),d=!0},p(_,p){var k;const N={};p[0]&65&&(N.startingExtent=((k=_[6].find(_[15]))==null?void 0:k.bbox)??"[10, -35, 51, -5]"),!t&&p[0]&2&&(t=!0,N.boundingBox=_[1],ot(()=>t=!1)),!u&&p[0]&4&&(u=!0,N.startDate=_[2],ot(()=>u=!1)),!o&&p[0]&8&&(o=!0,N.endDate=_[3],ot(()=>o=!1)),e.$set(N)},i(_){d||(Je(e.$$.fragment,_),d=!0)},o(_){$e(e.$$.fragment,_),d=!1},d(_){Ut(e,_)}}}function kn(n){var mt,gt,vt,bt;let e,t,u,o,d="1. Climate Model / Region",a,l,h="Select the climate model or region you want to explore.",c,x,_,p,N="(GCM: Global Climate Model RCM: Regional Climate Model)",k,I,H,K,se="2. Dataset Processing Level, Type & Aggregation",A,Q,re=`Select the processing level: raw (model output) / bias-adjusted of data you want to explore,
				as well as the type (variables or indicators) and aggregation.`,f,q,J,R=`(Î£ contain yearly, monthly, and seasonal aggregates as well as averages over 20/30-year
			periods)`,ee,G,D,i,T="3. Download Extent",xe,U,S="Set the spatial and/or temporal extent for your download.",oe,ue,Ee=n[5]?"Hide":"Show",j,Te,ce,ze,ye,X,ae,W,ge,Le,O,Be,te=(((mt=n[6].find(n[19]))==null?void 0:mt.display_name)??"Please select")+"",Me,Ne,V,ve,ie=(((gt=n[6].find(n[20]))==null?void 0:gt.description)??"No description available")+"",Oe,Fe,Ce,L=(((vt=n[6].find(n[21]))==null?void 0:vt.lineage)??"No lineage available")+"",Z,de,ne,Ie,ke=(((bt=n[6].find(n[22]))==null?void 0:bt.citation)??"No citation available")+"",we,fe,qe,He,De=Qe(n[7]),B=[];for(let v=0;v<De.length;v+=1)B[v]=Ft(Ot(n,De,v));let P=Qe(n[6]),Y=[];for(let v=0;v<P.length;v+=1)Y[v]=Ht(Nt(n,P,v));let F=n[5]&&Gt(n);return ge=new bn({}),{c(){e=g("div"),t=g("div"),u=g("div"),o=g("h3"),o.textContent=d,a=C(),l=g("div"),l.textContent=h,c=C(),x=g("div");for(let v=0;v<B.length;v+=1)B[v].c();_=C(),p=g("div"),p.textContent=N,k=C(),I=g("div"),H=g("div"),K=g("h3"),K.textContent=se,A=C(),Q=g("div"),Q.textContent=re,f=C();for(let v=0;v<Y.length;v+=1)Y[v].c();q=C(),J=g("div"),J.textContent=R,ee=C(),G=g("div"),D=g("div"),i=g("h3"),i.textContent=T,xe=C(),U=g("div"),U.textContent=S,oe=C(),ue=g("button"),j=_e(Ee),Te=_e(" Bounding Box & Time Selection"),ce=C(),F&&F.c(),ze=C(),ye=g("div"),X=C(),ae=g("div"),W=g("div"),zt(ge.$$.fragment),Le=C(),O=g("h1"),Be=_e("Selected: "),Me=_e(te),Ne=C(),V=g("ul"),ve=g("li"),Oe=_e(ie),Fe=C(),Ce=g("li"),Z=_e(L),de=C(),ne=g("li"),Ie=_e("Cite as: "),we=_e(ke),this.h()},l(v){e=m(v,"DIV",{class:!0});var M=E(e);t=m(M,"DIV",{class:!0});var $=E(t);u=m($,"DIV",{class:!0});var me=E(u);o=m(me,"H3",{"data-svelte-h":!0}),z(o)!=="svelte-l6uuzu"&&(o.textContent=d),a=y(me),l=m(me,"DIV",{class:!0,"data-svelte-h":!0}),z(l)!=="svelte-59aize"&&(l.textContent=h),c=y(me),x=m(me,"DIV",{class:!0});var We=E(x);for(let Ue=0;Ue<B.length;Ue+=1)B[Ue].l(We);We.forEach(b),_=y(me),p=m(me,"DIV",{class:!0,"data-svelte-h":!0}),z(p)!=="svelte-1vl9lm0"&&(p.textContent=N),me.forEach(b),$.forEach(b),k=y(M),I=m(M,"DIV",{class:!0});var Ge=E(I);H=m(Ge,"DIV",{class:!0});var w=E(H);K=m(w,"H3",{"data-svelte-h":!0}),z(K)!=="svelte-1853cgp"&&(K.textContent=se),A=y(w),Q=m(w,"DIV",{class:!0,"data-svelte-h":!0}),z(Q)!=="svelte-tay97a"&&(Q.textContent=re),f=y(w);for(let Ue=0;Ue<Y.length;Ue+=1)Y[Ue].l(w);w.forEach(b),q=y(Ge),J=m(Ge,"DIV",{class:!0,"data-svelte-h":!0}),z(J)!=="svelte-9wovm5"&&(J.textContent=R),Ge.forEach(b),ee=y(M),G=m(M,"DIV",{class:!0});var be=E(G);D=m(be,"DIV",{class:!0,id:!0});var Se=E(D);i=m(Se,"H3",{"data-svelte-h":!0}),z(i)!=="svelte-ulsyyx"&&(i.textContent=T),xe=y(Se),U=m(Se,"DIV",{class:!0,"data-svelte-h":!0}),z(U)!=="svelte-hvmysw"&&(U.textContent=S),oe=y(Se),ue=m(Se,"BUTTON",{type:!0,class:!0});var st=E(ue);j=pe(st,Ee),Te=pe(st," Bounding Box & Time Selection"),st.forEach(b),ce=y(Se),F&&F.l(Se),Se.forEach(b),ze=y(be),ye=m(be,"DIV",{class:!0}),E(ye).forEach(b),be.forEach(b),M.forEach(b),X=y(v),ae=m(v,"DIV",{class:!0});var Ze=E(ae);W=m(Ze,"DIV",{class:!0});var Ke=E(W);Rt(ge.$$.fragment,Ke),Le=y(Ke),O=m(Ke,"H1",{class:!0});var rt=E(O);Be=pe(rt,"Selected: "),Me=pe(rt,te),rt.forEach(b),Ke.forEach(b),Ne=y(Ze),V=m(Ze,"UL",{class:!0});var je=E(V);ve=m(je,"LI",{class:!0});var pt=E(ve);Oe=pe(pt,ie),pt.forEach(b),Fe=y(je),Ce=m(je,"LI",{class:!0});var _t=E(Ce);Z=pe(_t,L),_t.forEach(b),de=y(je),ne=m(je,"LI",{class:!0});var at=E(ne);Ie=pe(at,"Cite as: "),we=pe(at,ke),at.forEach(b),je.forEach(b),Ze.forEach(b),this.h()},h(){r(l,"class","text-sm ml-2"),r(x,"class","flow gap-2 items-center"),r(p,"class","text-sm ml-2 italic mt-2"),r(u,"class","mb-1 mt-2 text-lg"),r(t,"class","pl-2 pb-2 dark:bg-surface-700"),r(Q,"class","text-sm ml-2 pb-2"),r(H,"class","mb-1 mt-2 text-lg"),r(J,"class","text-sm ml-2 italic mt-2"),r(I,"class","pl-2 pr-4 pb-2 dark:bg-surface-700 mt-2"),r(U,"class","text-sm ml-2 pb-2"),r(ue,"type","button"),r(ue,"class","btn-sm bg-[#0352b0] m-1 text-lg rounded-md hover:bg-tertiary-500 font-semibold text-white svelte-1h730f4"),r(D,"class","mb-1 mt-2 text-lg"),r(D,"id","download-extent"),r(ye,"class","text-sm ml-2 italic mt-2"),r(G,"class","pl-2 pr-4 pb-2 dark:bg-surface-700 mt-2 hidden md:block"),r(e,"class","dark:bg-surface-600 z-30 ml-2"),r(O,"class","h4"),r(W,"class","flex ml-2"),r(ve,"class","text-sm ml-10"),r(Ce,"class","text-sm ml-10"),r(ne,"class","text-sm ml-10"),r(V,"class","list-disc"),r(ae,"class","mt-6 md:w-[50%] border-t-2 border-surface-300 pt-1 border-l-2")},m(v,M){Pe(v,e,M),s(e,t),s(t,u),s(u,o),s(u,a),s(u,l),s(u,c),s(u,x);for(let $=0;$<B.length;$+=1)B[$]&&B[$].m(x,null);s(u,_),s(u,p),s(e,k),s(e,I),s(I,H),s(H,K),s(H,A),s(H,Q),s(H,f);for(let $=0;$<Y.length;$+=1)Y[$]&&Y[$].m(H,null);s(I,q),s(I,J),s(e,ee),s(e,G),s(G,D),s(D,i),s(D,xe),s(D,U),s(D,oe),s(D,ue),s(ue,j),s(ue,Te),s(D,ce),F&&F.m(D,null),s(G,ze),s(G,ye),Pe(v,X,M),Pe(v,ae,M),s(ae,W),At(ge,W,null),s(W,Le),s(W,O),s(O,Be),s(O,Me),s(ae,Ne),s(ae,V),s(V,ve),s(ve,Oe),s(V,Fe),s(V,Ce),s(Ce,Z),s(V,de),s(V,ne),s(ne,Ie),s(ne,we),fe=!0,qe||(He=le(ue,"click",n[14]),qe=!0)},p(v,M){var $,me,We,Ge;if(M[0]&656){De=Qe(v[7]);let w;for(w=0;w<De.length;w+=1){const be=Ot(v,De,w);B[w]?B[w].p(be,M):(B[w]=Ft(be),B[w].c(),B[w].m(x,null))}for(;w<B.length;w+=1)B[w].d(1);B.length=De.length}if(M[0]&337){P=Qe(v[6]);let w;for(w=0;w<P.length;w+=1){const be=Nt(v,P,w);Y[w]?Y[w].p(be,M):(Y[w]=Ht(be),Y[w].c(),Y[w].m(H,null))}for(;w<Y.length;w+=1)Y[w].d(1);Y.length=P.length}(!fe||M[0]&32)&&Ee!==(Ee=v[5]?"Hide":"Show")&&Xe(j,Ee),v[5]?F?(F.p(v,M),M[0]&32&&Je(F,1)):(F=Gt(v),F.c(),Je(F,1),F.m(D,null)):F&&(Kt(),$e(F,1,1,()=>{F=null}),Qt()),(!fe||M[0]&65)&&te!==(te=((($=v[6].find(v[19]))==null?void 0:$.display_name)??"Please select")+"")&&Xe(Me,te),(!fe||M[0]&65)&&ie!==(ie=(((me=v[6].find(v[20]))==null?void 0:me.description)??"No description available")+"")&&Xe(Oe,ie),(!fe||M[0]&65)&&L!==(L=(((We=v[6].find(v[21]))==null?void 0:We.lineage)??"No lineage available")+"")&&Xe(Z,L),(!fe||M[0]&65)&&ke!==(ke=(((Ge=v[6].find(v[22]))==null?void 0:Ge.citation)??"No citation available")+"")&&Xe(we,ke)},i(v){fe||(Je(F),Je(ge.$$.fragment,v),fe=!0)},o(v){$e(F),$e(ge.$$.fragment,v),fe=!1},d(v){v&&(b(e),b(X),b(ae)),yt(B,v),yt(Y,v),F&&F.d(),Ut(ge),qe=!1,He()}}}function Sn(n,e,t){let u;Jt(n,jt,i=>t(24,u=i));let{filter:o=""}=e,{foldertype:d="CORDEX_raw_ind"}=e,{filter_by_status:a="public"}=e;console.log("Status: ",a);let l=d.split("_")[0],{bbox:h=[null,null,null,null]}=e,{startDate:c=""}=e,{endDate:x=""}=e,_=!1;var p=u;const N=p;console.log("Filter: ",a),p=p.filter(i=>i.key.startsWith(o)).filter(i=>i.status==a||i.status=="public");let k=[];for(let i=0;i<p.length;i++){let T=p[i].key.split("_")[0];k.includes(T)||k.push(T)}const I=Zt();p=N.filter(i=>i.key.startsWith(l)).filter(i=>i.status==a||i.status=="public");function H(i){for(let T=0;T<p.length;T++)if(i==p[T].key){console.log("NEW: ",i," ftype: ",p[T].key),t(0,d=i),I("foldertype_changed",d);return}t(0,d=p[0].key),p[0],I("foldertype_changed",d)}function K(i){t(6,p=N.filter(T=>T.key.startsWith(i))),t(4,l=i)}const se=i=>K(i),A=i=>H(i.key),Q=()=>t(5,_=!_),re=i=>i.key==d;function f(i){h=i,t(1,h)}function q(i){c=i,t(2,c)}function J(i){x=i,t(3,x)}const R=i=>i.key==d,ee=i=>i.key==d,G=i=>i.key==d,D=i=>i.key==d;return n.$$set=i=>{"filter"in i&&t(10,o=i.filter),"foldertype"in i&&t(0,d=i.foldertype),"filter_by_status"in i&&t(11,a=i.filter_by_status),"bbox"in i&&t(1,h=i.bbox),"startDate"in i&&t(2,c=i.startDate),"endDate"in i&&t(3,x=i.endDate)},[d,h,c,x,l,_,p,k,H,K,o,a,se,A,Q,re,f,q,J,R,ee,G,D]}class Gn extends nt{constructor(e){super(),lt(this,e,Sn,kn,tt,{filter:10,foldertype:0,filter_by_status:11,bbox:1,startDate:2,endDate:3},null,[-1,-1])}}function Vn(n){let e,t,u,o,d,a,l,h;return{c(){e=g("div"),t=g("div"),u=C(),o=g("div"),d=C(),a=g("div"),l=C(),h=g("div"),this.h()},l(c){e=m(c,"DIV",{class:!0,style:!0});var x=E(e);t=m(x,"DIV",{class:!0}),E(t).forEach(b),u=y(x),o=m(x,"DIV",{class:!0}),E(o).forEach(b),d=y(x),a=m(x,"DIV",{class:!0}),E(a).forEach(b),l=y(x),h=m(x,"DIV",{class:!0}),E(h).forEach(b),x.forEach(b),this.h()},h(){r(t,"class","svelte-1eeflhd"),r(o,"class","svelte-1eeflhd"),r(a,"class","svelte-1eeflhd"),r(h,"class","svelte-1eeflhd"),r(e,"class","loadingRing svelte-1eeflhd"),Ye(e,"--color",n[1]),Ye(e,"--size",n[0])},m(c,x){Pe(c,e,x),s(e,t),s(e,u),s(e,o),s(e,d),s(e,a),s(e,l),s(e,h)},p(c,[x]){x&2&&Ye(e,"--color",c[1]),x&1&&Ye(e,"--size",c[0])},i:Re,o:Re,d(c){c&&b(e)}}}function Pn(n,e,t){let{size:u="64px"}=e,{color:o="#10b981"}=e;return n.$$set=d=>{"size"in d&&t(0,u=d.size),"color"in d&&t(1,o=d.color)},[u,o]}class Un extends nt{constructor(e){super(),lt(this,e,Pn,Vn,tt,{size:0,color:1})}}export{Gn as F,Un as L,jt as f,Hn as l,Tt as t};
//# sourceMappingURL=CZzMJ005.js.map
