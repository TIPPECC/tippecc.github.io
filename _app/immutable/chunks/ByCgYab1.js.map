{"version":3,"file":"ByCgYab1.js","sources":["../../../../../../src/lib/stores/theme.ts"],"sourcesContent":["import { writable } from 'svelte/store';\n\ntype Theme = 'dark' | 'light';\n\n// derive initial value safely (try localStorage, then existing html class, default to 'light')\nfunction getInitialTheme(): Theme {\n\ttry {\n\t\tconst saved = localStorage.getItem('theme');\n\t\tif (saved === 'dark' || saved === 'light') return saved;\n\t} catch (e) {\n\t\t/* ignore */\n\t}\n\tif (typeof document !== 'undefined' && document.documentElement.classList.contains('dark')) {\n\t\treturn 'dark';\n\t}\n\treturn 'light';\n}\n\nexport const theme = writable<Theme>(getInitialTheme());\n\n// keep DOM and localStorage in sync whenever the store changes\ntheme.subscribe((t) => {\n\tif (typeof document !== 'undefined') {\n\t\tif (t === 'dark') {\n\t\t\tdocument.documentElement.classList.add('dark');\n\t\t} else {\n\t\t\tdocument.documentElement.classList.remove('dark');\n\t\t}\n\t}\n\ttry {\n\t\tlocalStorage.setItem('theme', t);\n\t} catch (e) {\n\t\t/* ignore */\n\t}\n});\n\n// helpers for convenience\nexport function setTheme(t: Theme) {\n\ttheme.set(t);\n}\n\nexport function toggleTheme() {\n\ttheme.update((v) => (v === 'dark' ? 'light' : 'dark'));\n}\n\n// ensure subscription runs once (useful to call from onMount)\nexport function initTheme() {\n\tconst unsub = theme.subscribe(() => {});\n\tunsub();\n}\n"],"names":["getInitialTheme","saved","theme","writable","t","setTheme","toggleTheme","v","initTheme"],"mappings":"kCAKA,SAASA,GAAyB,CACjC,GAAI,CACH,MAAMC,EAAQ,aAAa,QAAQ,OAAO,EAC1C,GAAIA,IAAU,QAAUA,IAAU,QAAS,OAAOA,CACnD,MAAY,CAEZ,CACA,OAAI,OAAO,SAAa,KAAe,SAAS,gBAAgB,UAAU,SAAS,MAAM,EACjF,OAED,OACR,CAEO,MAAMC,EAAQC,EAAgBH,EAAA,CAAiB,EAGtDE,EAAM,UAAWE,GAAM,CAClB,OAAO,SAAa,MACnBA,IAAM,OACT,SAAS,gBAAgB,UAAU,IAAI,MAAM,EAE7C,SAAS,gBAAgB,UAAU,OAAO,MAAM,GAGlD,GAAI,CACH,aAAa,QAAQ,QAASA,CAAC,CAChC,MAAY,CAEZ,CACD,CAAC,EAGM,SAASC,EAASD,EAAU,CAClCF,EAAM,IAAIE,CAAC,CACZ,CAEO,SAASE,GAAc,CAC7BJ,EAAM,OAAQK,GAAOA,IAAM,OAAS,QAAU,MAAO,CACtD,CAGO,SAASC,GAAY,CACbN,EAAM,UAAU,IAAM,CAAC,CAAC,EACtC,CACD"}