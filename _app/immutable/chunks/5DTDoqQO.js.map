{"version":3,"file":"5DTDoqQO.js","sources":["../../../../../../src/routes/store/tempresult_store.ts","../../../../../../src/lib/icons/select-multiple-svgrepo-com.svelte","../../../../../../node_modules/.pnpm/ol@9.1.0/node_modules/ol/interaction/Extent.js","../../../../../../src/lib/components/SelectBoundingBox.svelte","../../../../../../src/lib/tempresults/folderytpe_chooser.svelte","../../../../../../src/lib/LoadingRing.svelte"],"sourcesContent":["// src/stores/content.js\nimport { writable } from 'svelte/store';\nimport { browser } from '$app/environment';\n\ninterface Tempresult_selection {\n\tfilename: string;\n\tfoldertype: string;\n}\n\nexport var content: any;\nexport var tempresult_selection: any;\n\nif (browser) {\n\t// Get the value out of storage on load.\n\tconst stored = localStorage.content;\n\t// or localStorage.getItem('content')\n\n\t// Set the stored value or a sane default.\n\tcontent = writable(stored || 'HELLO WORLD!');\n\ttempresult_selection = writable<Tempresult_selection>(\n\t\tJSON.parse(localStorage.getItem('tempresult_selection'))\n\t);\n\n\ttempresult_selection.subscribe(\n\t\t(value) => (localStorage.tempresult_selection = JSON.stringify(value))\n\t);\n\n\t// Anytime the store changes, update the local storage value.\n\tcontent.subscribe((value) => (localStorage.content = value));\n\t// or localStorage.setItem('content', value)\n}\n","<svg\n\twidth=\"30\"\n\tstyle=\"flex: 0 0 30px\"\n\tviewBox=\"0 0 24 24\"\n\tfill=\"none\"\n\txmlns=\"http://www.w3.org/2000/svg\"\n>\n\t<path\n\t\tid=\"Vector\"\n\t\td=\"M3 9V19.4C3 19.9601 3 20.2399 3.10899 20.4538C3.20487 20.642 3.35774 20.7952 3.5459 20.8911C3.7596 21 4.0395 21 4.59846 21H15.0001M17 8L13 12L11 10M7 13.8002V6.2002C7 5.08009 7 4.51962 7.21799 4.0918C7.40973 3.71547 7.71547 3.40973 8.0918 3.21799C8.51962 3 9.08009 3 10.2002 3H17.8002C18.9203 3 19.4801 3 19.9079 3.21799C20.2842 3.40973 20.5905 3.71547 20.7822 4.0918C21.0002 4.51962 21.0002 5.07969 21.0002 6.19978L21.0002 13.7998C21.0002 14.9199 21.0002 15.48 20.7822 15.9078C20.5905 16.2841 20.2842 16.5905 19.9079 16.7822C19.4805 17 18.9215 17 17.8036 17H10.1969C9.07899 17 8.5192 17 8.0918 16.7822C7.71547 16.5905 7.40973 16.2842 7.21799 15.9079C7 15.4801 7 14.9203 7 13.8002Z\"\n\t\tstroke=\"currentColor\"\n\t\tstroke-width=\"2\"\n\t\tstroke-linecap=\"round\"\n\t\tstroke-linejoin=\"round\"\n\t/>\n</svg>\n","/**\n * @module ol/interaction/Extent\n */\nimport Event from '../events/Event.js';\nimport Feature from '../Feature.js';\nimport MapBrowserEventType from '../MapBrowserEventType.js';\nimport Point from '../geom/Point.js';\nimport PointerInteraction from './Pointer.js';\nimport VectorLayer from '../layer/Vector.js';\nimport VectorSource from '../source/Vector.js';\nimport {always} from '../events/condition.js';\nimport {boundingExtent, getArea} from '../extent.js';\nimport {\n  closestOnSegment,\n  distance as coordinateDistance,\n  squaredDistance as squaredCoordinateDistance,\n  squaredDistanceToSegment,\n} from '../coordinate.js';\nimport {createEditingStyle} from '../style/Style.js';\nimport {fromExtent as polygonFromExtent} from '../geom/Polygon.js';\nimport {toUserExtent} from '../proj.js';\n\n/**\n * @typedef {Object} Options\n * @property {import(\"../events/condition.js\").Condition} [condition] A function that\n * takes an {@link module:ol/MapBrowserEvent~MapBrowserEvent} and returns a\n * boolean to indicate whether that event should be handled.\n * Default is {@link module:ol/events/condition.always}.\n * @property {import(\"../extent.js\").Extent} [extent] Initial extent. Defaults to no\n * initial extent.\n * @property {import(\"../style/Style.js\").StyleLike} [boxStyle]\n * Style for the drawn extent box. Defaults to the `Polygon` editing style\n * documented in {@link module:ol/style/Style~Style}\n * @property {number} [pixelTolerance=10] Pixel tolerance for considering the\n * pointer close enough to a segment or vertex for editing.\n * @property {import(\"../style/Style.js\").StyleLike} [pointerStyle]\n * Style for the cursor used to draw the extent. Defaults to the `Point` editing style\n * documented in {@link module:ol/style/Style~Style}\n * @property {boolean} [wrapX=false] Wrap the drawn extent across multiple maps\n * in the X direction? Only affects visuals, not functionality.\n */\n\n/**\n * @enum {string}\n */\nconst ExtentEventType = {\n  /**\n   * Triggered after the extent is changed\n   * @event ExtentEvent#extentchanged\n   * @api\n   */\n  EXTENTCHANGED: 'extentchanged',\n};\n\n/**\n * @classdesc\n * Events emitted by {@link module:ol/interaction/Extent~Extent} instances are\n * instances of this type.\n */\nexport class ExtentEvent extends Event {\n  /**\n   * @param {import(\"../extent.js\").Extent} extent the new extent\n   */\n  constructor(extent) {\n    super(ExtentEventType.EXTENTCHANGED);\n\n    /**\n     * The current extent.\n     * @type {import(\"../extent.js\").Extent}\n     * @api\n     */\n    this.extent = extent;\n  }\n}\n\n/***\n * @template Return\n * @typedef {import(\"../Observable\").OnSignature<import(\"../Observable\").EventTypes, import(\"../events/Event.js\").default, Return> &\n *   import(\"../Observable\").OnSignature<import(\"../ObjectEventType\").Types|\n *     'change:active', import(\"../Object\").ObjectEvent, Return> &\n *   import(\"../Observable\").OnSignature<'extentchanged', ExtentEvent, Return> &\n *   import(\"../Observable\").CombinedOnSignature<import(\"../Observable\").EventTypes|import(\"../ObjectEventType\").Types|\n *     'change:active'|'extentchanged', Return>} ExtentOnSignature\n */\n\n/**\n * @classdesc\n * Allows the user to draw a vector box by clicking and dragging on the map.\n * Once drawn, the vector box can be modified by dragging its vertices or edges.\n * This interaction is only supported for mouse devices.\n *\n * @fires ExtentEvent\n * @api\n */\nclass Extent extends PointerInteraction {\n  /**\n   * @param {Options} [options] Options.\n   */\n  constructor(options) {\n    options = options || {};\n\n    super(/** @type {import(\"./Pointer.js\").Options} */ (options));\n\n    /***\n     * @type {ExtentOnSignature<import(\"../events\").EventsKey>}\n     */\n    this.on;\n\n    /***\n     * @type {ExtentOnSignature<import(\"../events\").EventsKey>}\n     */\n    this.once;\n\n    /***\n     * @type {ExtentOnSignature<void>}\n     */\n    this.un;\n\n    /**\n     * Condition\n     * @type {import(\"../events/condition.js\").Condition}\n     * @private\n     */\n    this.condition_ = options.condition ? options.condition : always;\n\n    /**\n     * Extent of the drawn box\n     * @type {import(\"../extent.js\").Extent}\n     * @private\n     */\n    this.extent_ = null;\n\n    /**\n     * Handler for pointer move events\n     * @type {function (import(\"../coordinate.js\").Coordinate): import(\"../extent.js\").Extent|null}\n     * @private\n     */\n    this.pointerHandler_ = null;\n\n    /**\n     * Pixel threshold to snap to extent\n     * @type {number}\n     * @private\n     */\n    this.pixelTolerance_ =\n      options.pixelTolerance !== undefined ? options.pixelTolerance : 10;\n\n    /**\n     * Is the pointer snapped to an extent vertex\n     * @type {boolean}\n     * @private\n     */\n    this.snappedToVertex_ = false;\n\n    /**\n     * Feature for displaying the visible extent\n     * @type {Feature}\n     * @private\n     */\n    this.extentFeature_ = null;\n\n    /**\n     * Feature for displaying the visible pointer\n     * @type {Feature<Point>}\n     * @private\n     */\n    this.vertexFeature_ = null;\n\n    if (!options) {\n      options = {};\n    }\n\n    /**\n     * Layer for the extentFeature\n     * @type {VectorLayer}\n     * @private\n     */\n    this.extentOverlay_ = new VectorLayer({\n      source: new VectorSource({\n        useSpatialIndex: false,\n        wrapX: !!options.wrapX,\n      }),\n      style: options.boxStyle\n        ? options.boxStyle\n        : getDefaultExtentStyleFunction(),\n      updateWhileAnimating: true,\n      updateWhileInteracting: true,\n    });\n\n    /**\n     * Layer for the vertexFeature\n     * @type {VectorLayer}\n     * @private\n     */\n    this.vertexOverlay_ = new VectorLayer({\n      source: new VectorSource({\n        useSpatialIndex: false,\n        wrapX: !!options.wrapX,\n      }),\n      style: options.pointerStyle\n        ? options.pointerStyle\n        : getDefaultPointerStyleFunction(),\n      updateWhileAnimating: true,\n      updateWhileInteracting: true,\n    });\n\n    if (options.extent) {\n      this.setExtent(options.extent);\n    }\n  }\n\n  /**\n   * @param {import(\"../pixel.js\").Pixel} pixel cursor location\n   * @param {import(\"../Map.js\").default} map map\n   * @return {import(\"../coordinate.js\").Coordinate|null} snapped vertex on extent\n   * @private\n   */\n  snapToVertex_(pixel, map) {\n    const pixelCoordinate = map.getCoordinateFromPixelInternal(pixel);\n    const sortByDistance = function (a, b) {\n      return (\n        squaredDistanceToSegment(pixelCoordinate, a) -\n        squaredDistanceToSegment(pixelCoordinate, b)\n      );\n    };\n    const extent = this.getExtentInternal();\n    if (extent) {\n      //convert extents to line segments and find the segment closest to pixelCoordinate\n      const segments = getSegments(extent);\n      segments.sort(sortByDistance);\n      const closestSegment = segments[0];\n\n      let vertex = closestOnSegment(pixelCoordinate, closestSegment);\n      const vertexPixel = map.getPixelFromCoordinateInternal(vertex);\n\n      //if the distance is within tolerance, snap to the segment\n      if (coordinateDistance(pixel, vertexPixel) <= this.pixelTolerance_) {\n        //test if we should further snap to a vertex\n        const pixel1 = map.getPixelFromCoordinateInternal(closestSegment[0]);\n        const pixel2 = map.getPixelFromCoordinateInternal(closestSegment[1]);\n        const squaredDist1 = squaredCoordinateDistance(vertexPixel, pixel1);\n        const squaredDist2 = squaredCoordinateDistance(vertexPixel, pixel2);\n        const dist = Math.sqrt(Math.min(squaredDist1, squaredDist2));\n        this.snappedToVertex_ = dist <= this.pixelTolerance_;\n        if (this.snappedToVertex_) {\n          vertex =\n            squaredDist1 > squaredDist2 ? closestSegment[1] : closestSegment[0];\n        }\n        return vertex;\n      }\n    }\n    return null;\n  }\n\n  /**\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent pointer move event\n   * @private\n   */\n  handlePointerMove_(mapBrowserEvent) {\n    const pixel = mapBrowserEvent.pixel;\n    const map = mapBrowserEvent.map;\n\n    let vertex = this.snapToVertex_(pixel, map);\n    if (!vertex) {\n      vertex = map.getCoordinateFromPixelInternal(pixel);\n    }\n    this.createOrUpdatePointerFeature_(vertex);\n  }\n\n  /**\n   * @param {import(\"../extent.js\").Extent} extent extent\n   * @return {Feature} extent as featrue\n   * @private\n   */\n  createOrUpdateExtentFeature_(extent) {\n    let extentFeature = this.extentFeature_;\n\n    if (!extentFeature) {\n      if (!extent) {\n        extentFeature = new Feature({});\n      } else {\n        extentFeature = new Feature(polygonFromExtent(extent));\n      }\n      this.extentFeature_ = extentFeature;\n      this.extentOverlay_.getSource().addFeature(extentFeature);\n    } else {\n      if (!extent) {\n        extentFeature.setGeometry(undefined);\n      } else {\n        extentFeature.setGeometry(polygonFromExtent(extent));\n      }\n    }\n    return extentFeature;\n  }\n\n  /**\n   * @param {import(\"../coordinate.js\").Coordinate} vertex location of feature\n   * @return {Feature} vertex as feature\n   * @private\n   */\n  createOrUpdatePointerFeature_(vertex) {\n    let vertexFeature = this.vertexFeature_;\n    if (!vertexFeature) {\n      vertexFeature = new Feature(new Point(vertex));\n      this.vertexFeature_ = vertexFeature;\n      this.vertexOverlay_.getSource().addFeature(vertexFeature);\n    } else {\n      const geometry = vertexFeature.getGeometry();\n      geometry.setCoordinates(vertex);\n    }\n    return vertexFeature;\n  }\n\n  /**\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Map browser event.\n   * @return {boolean} `false` to stop event propagation.\n   */\n  handleEvent(mapBrowserEvent) {\n    if (!mapBrowserEvent.originalEvent || !this.condition_(mapBrowserEvent)) {\n      return true;\n    }\n    //display pointer (if not dragging)\n    if (\n      mapBrowserEvent.type == MapBrowserEventType.POINTERMOVE &&\n      !this.handlingDownUpSequence\n    ) {\n      this.handlePointerMove_(mapBrowserEvent);\n    }\n    //call pointer to determine up/down/drag\n    super.handleEvent(mapBrowserEvent);\n    //return false to stop propagation\n    return false;\n  }\n\n  /**\n   * Handle pointer down events.\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n   * @return {boolean} If the event was consumed.\n   */\n  handleDownEvent(mapBrowserEvent) {\n    const pixel = mapBrowserEvent.pixel;\n    const map = mapBrowserEvent.map;\n\n    const extent = this.getExtentInternal();\n    let vertex = this.snapToVertex_(pixel, map);\n\n    //find the extent corner opposite the passed corner\n    const getOpposingPoint = function (point) {\n      let x_ = null;\n      let y_ = null;\n      if (point[0] == extent[0]) {\n        x_ = extent[2];\n      } else if (point[0] == extent[2]) {\n        x_ = extent[0];\n      }\n      if (point[1] == extent[1]) {\n        y_ = extent[3];\n      } else if (point[1] == extent[3]) {\n        y_ = extent[1];\n      }\n      if (x_ !== null && y_ !== null) {\n        return [x_, y_];\n      }\n      return null;\n    };\n    if (vertex && extent) {\n      const x =\n        vertex[0] == extent[0] || vertex[0] == extent[2] ? vertex[0] : null;\n      const y =\n        vertex[1] == extent[1] || vertex[1] == extent[3] ? vertex[1] : null;\n\n      //snap to point\n      if (x !== null && y !== null) {\n        this.pointerHandler_ = getPointHandler(getOpposingPoint(vertex));\n        //snap to edge\n      } else if (x !== null) {\n        this.pointerHandler_ = getEdgeHandler(\n          getOpposingPoint([x, extent[1]]),\n          getOpposingPoint([x, extent[3]]),\n        );\n      } else if (y !== null) {\n        this.pointerHandler_ = getEdgeHandler(\n          getOpposingPoint([extent[0], y]),\n          getOpposingPoint([extent[2], y]),\n        );\n      }\n      //no snap - new bbox\n    } else {\n      vertex = map.getCoordinateFromPixelInternal(pixel);\n      this.setExtent([vertex[0], vertex[1], vertex[0], vertex[1]]);\n      this.pointerHandler_ = getPointHandler(vertex);\n    }\n    return true; //event handled; start downup sequence\n  }\n\n  /**\n   * Handle pointer drag events.\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n   */\n  handleDragEvent(mapBrowserEvent) {\n    if (this.pointerHandler_) {\n      const pixelCoordinate = mapBrowserEvent.coordinate;\n      this.setExtent(this.pointerHandler_(pixelCoordinate));\n      this.createOrUpdatePointerFeature_(pixelCoordinate);\n    }\n  }\n\n  /**\n   * Handle pointer up events.\n   * @param {import(\"../MapBrowserEvent.js\").default} mapBrowserEvent Event.\n   * @return {boolean} If the event was consumed.\n   */\n  handleUpEvent(mapBrowserEvent) {\n    this.pointerHandler_ = null;\n    //If bbox is zero area, set to null;\n    const extent = this.getExtentInternal();\n    if (!extent || getArea(extent) === 0) {\n      this.setExtent(null);\n    }\n    return false; //Stop handling downup sequence\n  }\n\n  /**\n   * Remove the interaction from its current map and attach it to the new map.\n   * Subclasses may set up event handlers to get notified about changes to\n   * the map here.\n   * @param {import(\"../Map.js\").default} map Map.\n   */\n  setMap(map) {\n    this.extentOverlay_.setMap(map);\n    this.vertexOverlay_.setMap(map);\n    super.setMap(map);\n  }\n\n  /**\n   * Returns the current drawn extent in the view projection (or user projection if set)\n   *\n   * @return {import(\"../extent.js\").Extent} Drawn extent in the view projection.\n   * @api\n   */\n  getExtent() {\n    return toUserExtent(\n      this.getExtentInternal(),\n      this.getMap().getView().getProjection(),\n    );\n  }\n\n  /**\n   * Returns the current drawn extent in the view projection\n   *\n   * @return {import(\"../extent.js\").Extent} Drawn extent in the view projection.\n   * @api\n   */\n  getExtentInternal() {\n    return this.extent_;\n  }\n\n  /**\n   * Manually sets the drawn extent, using the view projection.\n   *\n   * @param {import(\"../extent.js\").Extent} extent Extent\n   * @api\n   */\n  setExtent(extent) {\n    //Null extent means no bbox\n    this.extent_ = extent ? extent : null;\n    this.createOrUpdateExtentFeature_(extent);\n    this.dispatchEvent(new ExtentEvent(this.extent_));\n  }\n}\n\n/**\n * Returns the default style for the drawn bbox\n *\n * @return {import(\"../style/Style.js\").StyleFunction} Default Extent style\n */\nfunction getDefaultExtentStyleFunction() {\n  const style = createEditingStyle();\n  return function (feature, resolution) {\n    return style['Polygon'];\n  };\n}\n\n/**\n * Returns the default style for the pointer\n *\n * @return {import(\"../style/Style.js\").StyleFunction} Default pointer style\n */\nfunction getDefaultPointerStyleFunction() {\n  const style = createEditingStyle();\n  return function (feature, resolution) {\n    return style['Point'];\n  };\n}\n\n/**\n * @param {import(\"../coordinate.js\").Coordinate} fixedPoint corner that will be unchanged in the new extent\n * @return {function (import(\"../coordinate.js\").Coordinate): import(\"../extent.js\").Extent} event handler\n */\nfunction getPointHandler(fixedPoint) {\n  return function (point) {\n    return boundingExtent([fixedPoint, point]);\n  };\n}\n\n/**\n * @param {import(\"../coordinate.js\").Coordinate} fixedP1 first corner that will be unchanged in the new extent\n * @param {import(\"../coordinate.js\").Coordinate} fixedP2 second corner that will be unchanged in the new extent\n * @return {function (import(\"../coordinate.js\").Coordinate): import(\"../extent.js\").Extent|null} event handler\n */\nfunction getEdgeHandler(fixedP1, fixedP2) {\n  if (fixedP1[0] == fixedP2[0]) {\n    return function (point) {\n      return boundingExtent([fixedP1, [point[0], fixedP2[1]]]);\n    };\n  }\n  if (fixedP1[1] == fixedP2[1]) {\n    return function (point) {\n      return boundingExtent([fixedP1, [fixedP2[0], point[1]]]);\n    };\n  }\n  return null;\n}\n\n/**\n * @param {import(\"../extent.js\").Extent} extent extent\n * @return {Array<Array<import(\"../coordinate.js\").Coordinate>>} extent line segments\n */\nfunction getSegments(extent) {\n  return [\n    [\n      [extent[0], extent[1]],\n      [extent[0], extent[3]],\n    ],\n    [\n      [extent[0], extent[3]],\n      [extent[2], extent[3]],\n    ],\n    [\n      [extent[2], extent[3]],\n      [extent[2], extent[1]],\n    ],\n    [\n      [extent[2], extent[1]],\n      [extent[0], extent[1]],\n    ],\n  ];\n}\n\nexport default Extent;\n","<script lang=\"ts\">\n\timport { onMount } from 'svelte';\n\timport { Style, Stroke, Fill } from 'ol/style';\n\timport Map from 'ol/Map';\n\timport View from 'ol/View';\n\timport TileLayer from 'ol/layer/Tile';\n\timport OSM from 'ol/source/OSM';\n\timport ExtentInteraction from 'ol/interaction/Extent.js';\n\timport { shiftKeyOnly } from 'ol/events/condition.js';\n\timport { transformExtent } from 'ol/proj';\n\timport VectorLayer from 'ol/layer/Vector';\n\timport VectorSource from 'ol/source/Vector';\n\timport Feature from 'ol/Feature';\n\timport Polygon from 'ol/geom/Polygon';\n\timport { theme } from '$lib/stores/theme';\n\n\texport let boundingBox = null; // [west, east, south, north]\n\texport let startDate = '';\n\texport let endDate = '';\n\texport let startingExtent: [number, number, number, number];\n\n\tlet aoiInput: Array<number | null> = boundingBox || [null, null, null, null]; // [minx, maxx, miny, maxy]\n\t$: boundingBox = [...aoiInput];\n\n\tlet showContent = true;\n\n\t/**\n\t * @type {Map}\n\t */\n\tlet map: Map;\n\t/**\n\t * @type {import(\"ol/interaction/Interaction\").default}\n\t */\n\tlet extent: ExtentInteraction;\n\n\tlet map_exists: boolean = false;\n\n\t// Initialize the map when the component is mounted\n\tonMount(initializeMap);\n\n\tfunction initializeMap() {\n\t\tif (map_exists === false) {\n\t\t\tconst buffer = 10; // degrees or units of startingExtent\n\t\t\tconst bufferedExtent = getBufferedExtent(startingExtent, buffer);\n\t\t\tconsole.log('Starting Extent:', startingExtent);\n\t\t\tconsole.log('Buffered Extent:', bufferedExtent);\n\n\t\t\tmap = new Map({\n\t\t\t\ttarget: 'map-container',\n\t\t\t\tlayers: [\n\t\t\t\t\tnew TileLayer({\n\t\t\t\t\t\tsource: new OSM()\n\t\t\t\t\t})\n\t\t\t\t],\n\t\t\t\tview: new View({\n\t\t\t\t\tcenter: [1069792, -944278],\n\t\t\t\t\textent: transformExtent(bufferedExtent, 'EPSG:4326', 'EPSG:3857')\n\t\t\t\t})\n\t\t\t});\n\n\t\t\tdrawExtentBox(map, startingExtent);\n\n\t\t\textent = new ExtentInteraction({\n\t\t\t\tcondition: shiftKeyOnly,\n\t\t\t\tboxStyle: new Style({\n\t\t\t\t\tstroke: new Stroke({\n\t\t\t\t\t\tcolor: 'red',\n\t\t\t\t\t\twidth: 3\n\t\t\t\t\t}),\n\t\t\t\t\tfill: new Fill({\n\t\t\t\t\t\tcolor: 'rgba(255,0,0,0.1)'\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t});\n\t\t\tdrawExtentBox(map, startingExtent);\n\t\t\tmap.addInteraction(extent);\n\t\t\tmap_exists = true;\n\n\t\t\t// Debounce function\n\t\t\tconst debounce = (func: { (): void; apply?: any }, wait: number | undefined) => {\n\t\t\t\tlet timeout: string | number | NodeJS.Timeout | undefined;\n\t\t\t\treturn (...args: any) => {\n\t\t\t\t\tclearTimeout(timeout);\n\t\t\t\t\ttimeout = setTimeout(() => func.apply(undefined, args), wait);\n\t\t\t\t};\n\t\t\t};\n\n\t\t\tconst debouncedChangeExtent = debounce(changeExtent, 300);\n\n\t\t\textent.on('extentchanged', debouncedChangeExtent);\n\t\t}\n\t}\n\n\t// Validate and adjust aoiInput values\n\tfunction validateInput() {\n\t\t// makesure min is always smaller than max\n\t\tif (aoiInput[0] !== null && aoiInput[1] !== null && aoiInput[0] > aoiInput[1]) {\n\t\t\taoiInput[1] = aoiInput[0];\n\t\t}\n\t\tif (aoiInput[2] !== null && aoiInput[3] !== null && aoiInput[2] > aoiInput[3]) {\n\t\t\taoiInput[3] = aoiInput[2];\n\t\t}\n\t\t// restrict to starting extent\n\t\tif (\n\t\t\taoiInput[0] !== null &&\n\t\t\t(aoiInput[0] < startingExtent[0] || aoiInput[0] > startingExtent[2])\n\t\t) {\n\t\t\taoiInput[0] = startingExtent[0];\n\t\t}\n\t\tif (\n\t\t\taoiInput[1] !== null &&\n\t\t\t(aoiInput[1] > startingExtent[2] || aoiInput[1] < startingExtent[0])\n\t\t) {\n\t\t\taoiInput[1] = startingExtent[2];\n\t\t}\n\t\tif (\n\t\t\taoiInput[2] !== null &&\n\t\t\t(aoiInput[2] < startingExtent[1] || aoiInput[2] > startingExtent[3])\n\t\t) {\n\t\t\taoiInput[2] = startingExtent[1];\n\t\t}\n\t\tif (\n\t\t\taoiInput[3] !== null &&\n\t\t\t(aoiInput[3] > startingExtent[3] || aoiInput[3] < startingExtent[1])\n\t\t) {\n\t\t\taoiInput[3] = startingExtent[3];\n\t\t}\n\n\t\tif (map_exists && extent && aoiInput.every((v) => v !== null && !isNaN(Number(v)))) {\n\t\t\tconst extent4326: [number, number, number, number] = [\n\t\t\t\tNumber(aoiInput[0]), // lon-min\n\t\t\t\tNumber(aoiInput[2]), // lat-min\n\t\t\t\tNumber(aoiInput[1]), // lon-max\n\t\t\t\tNumber(aoiInput[3]) // lat-max\n\t\t\t];\n\t\t\tconst extent3857 = transformExtent(extent4326, 'EPSG:4326', 'EPSG:3857');\n\t\t\textent.setExtent(extent3857);\n\t\t}\n\t}\n\n\t// Round aoiInput values to two decimal places to prevent floating point artifacts\n\t$: aoiInput = aoiInput.map((v) =>\n\t\tv !== null && !isNaN(Number(v)) ? Math.round(Number(v) * 100) / 100 : v\n\t);\n\n\t// Function to change the extent based on user interaction\n\tfunction changeExtent() {\n\t\tconsole.log('Extent changed');\n\t\t// [minx, miny, maxx, maxy]\n\t\tif (extent.getExtent() === null) {\n\t\t\taoiInput = [null, null, null, null];\n\t\t} else {\n\t\t\tvar lon_lat_extent = transformExtent(extent.getExtent(), 'EPSG:3857', 'EPSG:4326');\n\n\t\t\t// cut the extent to the starting extent, if one point is out of bounds, but another already inside\n\t\t\tif (lon_lat_extent[0] < startingExtent[0] && lon_lat_extent[2] > startingExtent[0]) {\n\t\t\t\tlon_lat_extent[0] = startingExtent[0];\n\t\t\t\t// update draw extent\n\t\t\t\textent.setExtent(transformExtent(lon_lat_extent, 'EPSG:4326', 'EPSG:3857'));\n\t\t\t}\n\t\t\tif (lon_lat_extent[1] < startingExtent[1] && lon_lat_extent[3] > startingExtent[1]) {\n\t\t\t\tlon_lat_extent[1] = startingExtent[1];\n\t\t\t\t// update draw extent\n\t\t\t\textent.setExtent(transformExtent(lon_lat_extent, 'EPSG:4326', 'EPSG:3857'));\n\t\t\t}\n\t\t\tif (lon_lat_extent[3] > startingExtent[3] && lon_lat_extent[1] < startingExtent[3]) {\n\t\t\t\tlon_lat_extent[3] = startingExtent[3];\n\t\t\t\t// update draw extent\n\t\t\t\textent.setExtent(transformExtent(lon_lat_extent, 'EPSG:4326', 'EPSG:3857'));\n\t\t\t}\n\t\t\tif (lon_lat_extent[2] > startingExtent[2] && lon_lat_extent[0] < startingExtent[2]) {\n\t\t\t\tlon_lat_extent[2] = startingExtent[2];\n\t\t\t\t// update draw extent\n\t\t\t\textent.setExtent(transformExtent(lon_lat_extent, 'EPSG:4326', 'EPSG:3857'));\n\t\t\t}\n\n\t\t\t// delete if finally completly outside starting extent\n\t\t\tif (\n\t\t\t\tlon_lat_extent[0] < startingExtent[0] ||\n\t\t\t\tlon_lat_extent[1] < startingExtent[1] ||\n\t\t\t\tlon_lat_extent[2] > startingExtent[2] ||\n\t\t\t\tlon_lat_extent[3] > startingExtent[3]\n\t\t\t) {\n\t\t\t\textent.setExtent([0, 0, 0, 0]);\n\t\t\t}\n\n\t\t\t// update aoiInput\n\t\t\taoiInput[0] = lon_lat_extent[0];\n\t\t\taoiInput[1] = lon_lat_extent[2];\n\t\t\taoiInput[2] = lon_lat_extent[1];\n\t\t\taoiInput[3] = lon_lat_extent[3];\n\t\t}\n\t}\n\n\t// Clear the form inputs and reset the extent on the map\n\tfunction clearForm() {\n\t\taoiInput = [null, null, null, null];\n\t\tstartDate = '';\n\t\tendDate = '';\n\t\tif (extent) {\n\t\t\t// Remove and re-add the interaction to clear the extent\n\t\t\t// i did not find a better way to do this\n\t\t\t// If you find a way to remove the extent from the map without readding the options, replace this\n\t\t\tmap.removeInteraction(extent);\n\t\t\textent = new ExtentInteraction({ condition: shiftKeyOnly });\n\t\t\tmap.addInteraction(extent);\n\t\t\t//\textent.on('extentchanged', changeExtant);\n\t\t\t// extent.setExtent(null); // removed the Bounding Box from the map\n\n\t\t\tmap.getViewport().addEventListener('pointerup', () => {\n\t\t\t\tif (extent.getActive()) {\n\t\t\t\t\t// User finished interaction\n\t\t\t\t\t// You can now handle the final extent\n\t\t\t\t\tchangeExtent();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n\n\t/**\n\t * Draws a bounding box on an OpenLayers map from extent.\n\t * @param {Map} map - OpenLayers map instance\n\t * @param {[number, number, number, number]} extent - [minX, minY, maxX, maxY]\n\t * @param {string} [projection='EPSG:4326'] - Coordinate projection of extent\n\t */\n\texport function drawExtentBox(map: Map, extent: string | any[], projection = 'EPSG:4326') {\n\t\tif (!map || !extent || extent.length !== 4) {\n\t\t\tconsole.error('Invalid map or extent');\n\t\t\treturn;\n\t\t}\n\n\t\tconst [minX, minY, maxX, maxY] = extent;\n\t\tconst polygon = new Polygon([\n\t\t\t[\n\t\t\t\t[minX, minY],\n\t\t\t\t[minX, maxY],\n\t\t\t\t[maxX, maxY],\n\t\t\t\t[maxX, minY],\n\t\t\t\t[minX, minY] // close the loop\n\t\t\t]\n\t\t]);\n\n\t\tpolygon.transform(projection, map.getView().getProjection());\n\n\t\tconst feature = new Feature(polygon);\n\n\t\tconst vectorSource = new VectorSource({\n\t\t\tfeatures: [feature]\n\t\t});\n\n\t\tconst vectorLayer = new VectorLayer({\n\t\t\tsource: vectorSource,\n\t\t\tstyle: new Style({\n\t\t\t\tstroke: new Stroke({\n\t\t\t\t\tcolor: 'rgba(255, 120, 0, 0.8)',\n\t\t\t\t\twidth: 2\n\t\t\t\t})\n\t\t\t})\n\t\t});\n\n\t\tmap.addLayer(vectorLayer);\n\t\tmap.getView().fit(polygon, { padding: [20, 20, 20, 20] });\n\n\t\treturn vectorLayer;\n\t}\n\n\t/**\n\t * Returns a buffered extent around the input extent.\n\t * @param {[number, number, number, number]} extent - [minX, minY, maxX, maxY]\n\t * @param {number} buffer - Buffer in degrees (or units of extent)\n\t * @returns {[number, number, number, number]}\n\t */\n\tfunction getBufferedExtent(extent: number[], buffer = 1) {\n\t\treturn [extent[0] - buffer, extent[1] - buffer, extent[2] + buffer, extent[3] + buffer];\n\t}\n</script>\n\n<div class=\"card\">\n\t<div class=\"card-body pb-3 pl-3 pr-3 pt-2 dark:bg-surface-700\">\n\t\t<h5>a) Temporal Extent</h5>\n\t\t<div class=\"flex flex-row gap-4 mt-4 items-center\">\n\t\t\t<div class=\"flex flex-col\">\n\t\t\t\t<label for=\"start-date\" class=\"text-sm font-medium mb-1\">Start date:</label>\n\t\t\t\t<div class=\"relative\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"start-date\"\n\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\tclass=\"input input-bordered\"\n\t\t\t\t\t\tbind:value={startDate}\n\t\t\t\t\t\tstyle={theme.toString() === 'dark' ? 'color-scheme: dark' : ''}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"flex flex-col\">\n\t\t\t\t<label for=\"end-date\" class=\"text-sm font-medium mb-1\">End date:</label>\n\t\t\t\t<div class=\"relative\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"end-date\"\n\t\t\t\t\t\ttype=\"date\"\n\t\t\t\t\t\tclass=\"input input-bordered\"\n\t\t\t\t\t\tbind:value={endDate}\n\t\t\t\t\t\tstyle={theme.toString() === 'dark' ? 'color-scheme: dark' : ''}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class=\"flex flex-col justify-end mb-2 ml-auto\">\n\t\t\t\t<button\n\t\t\t\t\tclass=\"btn bg-tertiary-900 hover:bg-tertiary-700 text-white font-semibold\"\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\ton:click={clearForm}\n\t\t\t\t>\n\t\t\t\t\tClear All\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t\t<h5 class=\"mt-6 mb-2\">b) Spatial Extent (Bounding Box)</h5>\n\t\t<div class=\"flex flex-row gap-8\">\n\t\t\t<!-- Map column -->\n\t\t\t<div class=\"flex-1 flex items-center justify-center\">\n\t\t\t\t<div class=\"map\" class:hidden={!showContent} id=\"map-container\" />\n\t\t\t</div>\n\t\t\t<!-- Form column -->\n\t\t\t<div class=\"flex flex-col gap-4 md:w-[350px] min-w-[250px]\">\n\t\t\t\t<div class=\"flex flex-col gap-2 mt-2\">\n\t\t\t\t\t<label class=\"mb-1 text-sm font-medium\" for=\"lon-min\">Longitude Min:</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"lon-min\"\n\t\t\t\t\t\tclass=\"input input-bordered\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tstep=\"0.01\"\n\t\t\t\t\t\tbind:value={aoiInput[0]}\n\t\t\t\t\t\ton:blur={validateInput}\n\t\t\t\t\t/>\n\t\t\t\t\t<label class=\"mb-1 text-sm font-medium\" for=\"lon-max\">Longitude Max:</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"lon-max\"\n\t\t\t\t\t\tclass=\"input input-bordered\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tstep=\"0.01\"\n\t\t\t\t\t\tbind:value={aoiInput[1]}\n\t\t\t\t\t\ton:blur={validateInput}\n\t\t\t\t\t/>\n\t\t\t\t\t<label class=\"mb-1 text-sm font-medium\" for=\"lat-min\">Latitude Min:</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"lat-min\"\n\t\t\t\t\t\tclass=\"input input-bordered\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tstep=\"0.01\"\n\t\t\t\t\t\tbind:value={aoiInput[2]}\n\t\t\t\t\t\ton:blur={validateInput}\n\t\t\t\t\t/>\n\t\t\t\t\t<label class=\"mb-1 text-sm font-medium\" for=\"lat-max\">Latitude Max:</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"lat-max\"\n\t\t\t\t\t\tclass=\"input input-bordered\"\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tstep=\"0.01\"\n\t\t\t\t\t\tbind:value={aoiInput[3]}\n\t\t\t\t\t\ton:blur={validateInput}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"mt-4 max-md:hidden text-sm italic\">\n\t\t\t\t\tUse Shift+Drag to draw an extent. <br />\n\t\t\t\t\tUse Shift+Drag on the corners of the extent to resize it.<br />\n\t\t\t\t\tUse Shift+Click on the extent to remove it.<br />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\n<style>\n\t@import '/node_modules/ol/ol.css';\n\t.map {\n\t\twidth: 100%;\n\t\theight: 400px;\n\t}\n</style>\n","<script lang=\"ts\">\n\timport { createEventDispatcher } from 'svelte';\n\timport folder_types from './folder_types.json';\n\timport Selected from '$lib/icons/select-multiple-svgrepo-com.svelte';\n\timport SelectBoundingBox from '$lib/components/SelectBoundingBox.svelte';\n\n\texport var filter: string = '';\n\texport var foldertype: string = 'CORDEX_raw_ind';\n\texport let filter_by_status: string = 'public';\n\tconsole.log('Status: ', filter_by_status);\n\tlet current_category: string = foldertype.split('_')[0];\n\texport let bbox = [null, null, null, null];\n\texport let startDate = '';\n\texport let endDate = '';\n\tlet showBoundingBox = false;\n\n\t//set_filter(current_category);\n\n\tvar foldertypes: {\n\t\tkey: string;\n\t\tdisplay_name: string;\n\t\tdescription: string;\n\t\tcitation: string;\n\t\theader_regex: string;\n\t\tlineage?: string;\n\t\tstatus: string;\n\t\tbbox?: string;\n\t}[] = folder_types;\n\tconst foldertypes_full = foldertypes;\n\t// filter out the folder types that are not relevant\n\tconsole.log('Filter: ', filter_by_status);\n\tfoldertypes = foldertypes\n\t\t.filter((x) => x.key.startsWith(filter))\n\t\t.filter((x) => x.status == filter_by_status || x.status == 'public');\n\n\tlet categories: string[] = [];\n\tfor (let x = 0; x < foldertypes.length; x++) {\n\t\tlet cat = foldertypes[x].key.split('_')[0];\n\t\tif (!categories.includes(cat)) {\n\t\t\tcategories.push(cat);\n\t\t}\n\t}\n\tconst dispatch = createEventDispatcher();\n\tlet current_foldertype = {};\n\tfoldertypes = foldertypes_full.filter((x) => x.key.startsWith(current_category));\n\n\tfunction set_foldertype(new_type: string) {\n\t\tfor (let x = 0; x < foldertypes.length; x++) {\n\t\t\tif (new_type == foldertypes[x].key) {\n\t\t\t\tconsole.log('NEW: ', new_type, ' ftype: ', foldertypes[x].key);\n\t\t\t\tfoldertype = new_type;\n\t\t\t\tdispatch('foldertype_changed', foldertype);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\n\t\t// default\n\t\tfoldertype = foldertypes[0].key;\n\t\tcurrent_foldertype = foldertypes[0];\n\t\tdispatch('foldertype_changed', foldertype);\n\t}\n\n\tfunction set_filter(filter: string) {\n\t\tfoldertypes = foldertypes_full.filter((x) => x.key.startsWith(filter));\n\t\tcurrent_category = filter;\n\t}\n</script>\n\n<!-- Backend Folder Content as checkboxes -->\n<div class=\"dark:bg-surface-600 z-30 ml-2\">\n\t<div class=\"pl-2 pb-2 dark:bg-surface-700\">\n\t\t<div class=\"mb-1 mt-2 text-lg\">\n\t\t\t<h3>1. Climate Model / Region</h3>\n\n\t\t\t<div class=\"text-sm ml-2\">Select the climate model or region you want to explore.</div>\n\t\t\t<div class=\"flow gap-2 items-center\">\n\t\t\t\t{#each categories as cat}\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tclass=\"btn-sm m-1 text-lg rounded-md hover:bg-tertiary-500 font-semibold text-white {current_category ==\n\t\t\t\t\t\tcat\n\t\t\t\t\t\t\t? ' bg-tertiary-500 text-white underline'\n\t\t\t\t\t\t\t: 'bg-[#124495d4]'}\"\n\t\t\t\t\t\ton:click={() => set_filter(cat)}\n\t\t\t\t\t\t>{cat.replace('CORDEX', 'CORDEX-CORE (RCM)').replace('CMIP6', 'CMIP6 (GCM)')}</button\n\t\t\t\t\t>\n\t\t\t\t{/each}\n\t\t\t</div>\n\t\t\t<div class=\"text-sm ml-2 italic mt-2\">\n\t\t\t\t(GCM: Global Climate Model RCM: Regional Climate Model)\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class=\"pl-2 pr-4 pb-2 dark:bg-surface-700 mt-2\">\n\t\t<div class=\"mb-1 mt-2 text-lg\">\n\t\t\t<h3>2. Dataset Processing Level, Type & Aggregation</h3>\n\n\t\t\t<div class=\"text-sm ml-2 pb-2\">\n\t\t\t\tSelect the processing level: raw (model output) / bias-adjusted of data you want to explore,\n\t\t\t\tas well as the type (variables or indicators) and aggregation.\n\t\t\t</div>\n\n\t\t\t{#each foldertypes as ftype}\n\t\t\t\t<button\n\t\t\t\t\ttype=\"button\"\n\t\t\t\t\tclass=\"btn-sm m-1 text-lg rounded-md hover:bg-tertiary-500 font-semibold text-white {foldertype ==\n\t\t\t\t\tftype.key\n\t\t\t\t\t\t? ' bg-tertiary-500 underline'\n\t\t\t\t\t\t: 'bg-[#124495d4]'}\"\n\t\t\t\t\ton:click={() => set_foldertype(ftype.key)}\n\t\t\t\t\t>{ftype.display_name.replace(current_category, '').replace('-CORE', '')}</button\n\t\t\t\t>\n\t\t\t{/each}\n\t\t</div>\n\t\t<div class=\"text-sm ml-2 italic mt-2\">\n\t\t\t(Î£ contain yearly, monthly, and seasonal aggregates as well as averages over 20/30-year\n\t\t\tperiods)\n\t\t</div>\n\t</div>\n\t<div class=\"pl-2 pr-4 pb-2 dark:bg-surface-700 mt-2 hidden md:block\">\n\t\t<div class=\"mb-1 mt-2 text-lg\" id=\"download-extent\">\n\t\t\t<h3>3. Download Extent</h3>\n\n\t\t\t<div class=\"text-sm ml-2 pb-2\">Set the spatial and/or temporal extent for your download.</div>\n\t\t\t<button\n\t\t\t\ttype=\"button\"\n\t\t\t\tclass=\"btn-sm bg-[#0352b0] m-1 text-lg rounded-md hover:bg-tertiary-500 font-semibold text-white\"\n\t\t\t\ton:click={() => (showBoundingBox = !showBoundingBox)}\n\t\t\t>\n\t\t\t\t{showBoundingBox ? 'Hide' : 'Show'} Bounding Box & Time Selection\n\t\t\t</button>\n\t\t\t{#if showBoundingBox}\n\t\t\t\t<SelectBoundingBox\n\t\t\t\t\tbind:boundingBox={bbox}\n\t\t\t\t\tbind:startDate\n\t\t\t\t\tbind:endDate\n\t\t\t\t\tstartingExtent={JSON.parse(\n\t\t\t\t\t\tfoldertypes.find((x) => x.key == foldertype)?.bbox ?? '[10, -35, 51, -5]'\n\t\t\t\t\t)}\n\t\t\t\t/>\n\t\t\t{/if}\n\t\t</div>\n\t\t<div class=\"text-sm ml-2 italic mt-2\" />\n\t</div>\n</div>\n\n<div class=\"mt-6 md:w-[50%] border-t-2 border-surface-300 pt-1 border-l-2\">\n\t<div class=\"flex ml-2\">\n\t\t<!--<span><img src={selected} alt=\"...\" width=\"30px\" class=\"mr-1\" /></span>-->\n\t\t<Selected />\n\t\t<h1 class=\"h4\">\n\t\t\tSelected: {foldertypes.find((x) => x.key == foldertype)?.display_name ?? 'Please select'}\n\t\t</h1>\n\t</div>\n\t<ul class=\"list-disc\">\n\t\t<li class=\"text-sm ml-10\">\n\t\t\t{foldertypes.find((x) => x.key == foldertype)?.description ?? 'No description available'}\n\t\t</li>\n\t\t<li class=\"text-sm ml-10\">\n\t\t\t{foldertypes.find((x) => x.key == foldertype)?.lineage ?? 'No lineage available'}\n\t\t</li>\n\t\t<li class=\"text-sm ml-10\">\n\t\t\tCite as: {foldertypes.find((x) => x.key == foldertype)?.citation ?? 'No citation available'}\n\t\t</li>\n\t</ul>\n</div>\n\n<style>\n\t.content-blockquote {\n\t\tborder-left: 0px solid #93989a;\n\t\tpadding-left: 2rem;\n\t\tmargin-bottom: 1rem;\n\t}\n\n\t.content-blockquote h3 {\n\t\tmargin-top: 0;\n\t}\n\n\t.btn-sm {\n\t\tpadding: 0.25rem 0.5rem;\n\t\tfont-size: 0.875rem;\n\t}\n</style>\n","<script>\n\t// code from:\n\t// https://github.com/thetrisatria/svelte-loading-animation/blob/master/src/Ring.svelte\n\n\texport let size = '64px';\n\texport let color = '#10b981';\n</script>\n\n<div class=\"loadingRing\" style=\"--color:{color};--size:{size}\">\n\t<div />\n\t<div />\n\t<div />\n\t<div />\n</div>\n\n<style>\n\t.loadingRing {\n\t\tposition: relative;\n\t\tdisplay: inline-flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\twidth: var(--size);\n\t\theight: var(--size);\n\t}\n\t.loadingRing div {\n\t\twidth: calc(var(--size) * 0.8);\n\t\theight: calc(var(--size) * 0.8);\n\t\tbox-sizing: border-box;\n\t\tdisplay: block;\n\t\tposition: absolute;\n\t\tmargin: 4px;\n\t\tborder: calc(var(--size) * 0.125) solid var(--color);\n\t\tborder-radius: 50%;\n\t\tborder-color: var(--color) transparent transparent transparent;\n\t\tanimation: rotate 1.2s cubic-bezier(0.5, 0, 0.5, 1) infinite;\n\t}\n\t.loadingRing div:nth-child(1) {\n\t\tanimation-delay: -0.45s;\n\t}\n\t.loadingRing div:nth-child(2) {\n\t\tanimation-delay: -0.3s;\n\t}\n\t.loadingRing div:nth-child(3) {\n\t\tanimation-delay: -0.15s;\n\t}\n\t@keyframes rotate {\n\t\t0% {\n\t\t\ttransform: rotate(0deg);\n\t\t}\n\t\t100% {\n\t\t\ttransform: rotate(360deg);\n\t\t}\n\t}\n</style>\n"],"names":["content","tempresult_selection","stored","writable","value","insert_hydration","target","svg","anchor","append_hydration","path","ExtentEventType","ExtentEvent","Event","extent","Extent","PointerInteraction","options","always","VectorLayer","VectorSource","getDefaultExtentStyleFunction","getDefaultPointerStyleFunction","pixel","map","pixelCoordinate","sortByDistance","a","b","squaredDistanceToSegment","segments","getSegments","closestSegment","vertex","closestOnSegment","vertexPixel","coordinateDistance","pixel1","pixel2","squaredDist1","squaredCoordinateDistance","squaredDist2","dist","mapBrowserEvent","extentFeature","polygonFromExtent","Feature","vertexFeature","Point","MapBrowserEventType","getOpposingPoint","point","x_","y_","x","y","getPointHandler","getEdgeHandler","getArea","toUserExtent","style","createEditingStyle","feature","resolution","fixedPoint","boundingExtent","fixedP1","fixedP2","attr","input0","theme","input1","div13","div12","h50","div5","div1","label0","div0","ctx","div3","label1","div2","div4","button","h51","div11","div7","div6","div10","div8","label2","input2","set_input_value","label3","input3","label4","input4","label5","input5","div9","dirty","to_number","getBufferedExtent","buffer","boundingBox","$$props","startDate","endDate","startingExtent","aoiInput","map_exists","onMount","initializeMap","bufferedExtent","Map","TileLayer","OSM","View","transformExtent","drawExtentBox","ExtentInteraction","shiftKeyOnly","Style","Stroke","Fill","debouncedChangeExtent","func","wait","timeout","args","changeExtent","validateInput","v","extent4326","extent3857","lon_lat_extent","clearForm","projection","minX","minY","maxX","maxY","polygon","Polygon","vectorSource","vectorLayer","$$invalidate","button_class_value","t_value","set_data","t","_a","t25_value","t27_value","_b","t29_value","_c","t32_value","_d","i","create_if_block","h30","h31","h32","div15","div14","h1","ul","li0","li1","li2","t18","t18_value","current","t25","t27","t29","t32","filter","foldertype","filter_by_status","current_category","bbox","showBoundingBox","foldertypes","folder_types","foldertypes_full","categories","cat","dispatch","createEventDispatcher","set_foldertype","new_type","set_filter","click_handler","ftype","click_handler_2","func_1","func_2","func_3","func_4","size","color"],"mappings":"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","x_google_ignoreList":[2]}